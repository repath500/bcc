{
  "version": 3,
  "sources": ["../bundle-MfOcNa/checked-fetch.js", "../bundle-MfOcNa/strip-cf-connecting-ip-header.js", "../../../../../node_modules/.pnpm/@esbuild-plugins+node-globals-polyfill@0.2.3_esbuild@0.17.19/node_modules/@esbuild-plugins/node-globals-polyfill/process.js", "../../../../../node_modules/.pnpm/@esbuild-plugins+node-globals-polyfill@0.2.3_esbuild@0.17.19/node_modules/@esbuild-plugins/node-globals-polyfill/Buffer.js", "../../../../../node_modules/.pnpm/@esbuild-plugins+node-globals-polyfill@0.2.3_esbuild@0.17.19/node_modules/@esbuild-plugins/node-globals-polyfill/_buffer.js", "wrangler-modules-watch:wrangler:modules-watch", "../../../../../node_modules/.pnpm/wrangler@3.114.17_@cloudflare+workers-types@4.20260116.0_bufferutil@4.1.0_utf-8-validate@6.0.6/node_modules/wrangler/templates/modules-watch-stub.js", "../../../../../node_modules/.pnpm/universal-user-agent@6.0.1/node_modules/universal-user-agent/dist-src/index.js", "../../../../../node_modules/.pnpm/before-after-hook@2.2.3/node_modules/before-after-hook/lib/register.js", "../../../../../node_modules/.pnpm/before-after-hook@2.2.3/node_modules/before-after-hook/lib/add.js", "../../../../../node_modules/.pnpm/before-after-hook@2.2.3/node_modules/before-after-hook/lib/remove.js", "../../../../../node_modules/.pnpm/before-after-hook@2.2.3/node_modules/before-after-hook/index.js", "../../../../../node_modules/.pnpm/@octokit+endpoint@9.0.6/node_modules/@octokit/endpoint/dist-web/index.js", "../../../../../node_modules/.pnpm/deprecation@2.3.1/node_modules/deprecation/dist-node/index.js", "../../../../../node_modules/.pnpm/wrappy@1.0.2/node_modules/wrappy/wrappy.js", "../../../../../node_modules/.pnpm/once@1.4.0/node_modules/once/once.js", "../../../../../node_modules/.pnpm/@octokit+request-error@5.1.1/node_modules/@octokit/request-error/dist-web/index.js", "../../../../../node_modules/.pnpm/@octokit+request@8.4.1/node_modules/@octokit/request/dist-web/index.js", "../../../../../node_modules/.pnpm/@octokit+graphql@7.1.1/node_modules/@octokit/graphql/dist-node/index.js", "../../../../../node_modules/.pnpm/@octokit+auth-token@4.0.0/node_modules/@octokit/auth-token/dist-web/index.js", "../../../../../node_modules/.pnpm/@octokit+core@5.2.2/node_modules/@octokit/core/dist-node/index.js", "../../../../../node_modules/.pnpm/btoa-lite@1.0.0/node_modules/btoa-lite/btoa-browser.js", "../../../../../node_modules/.pnpm/@octokit+oauth-authorization-url@6.0.2/node_modules/@octokit/oauth-authorization-url/dist-web/index.js", "../../../../../node_modules/.pnpm/@octokit+oauth-methods@4.1.0/node_modules/@octokit/oauth-methods/dist-node/index.js", "../../../../../node_modules/.pnpm/@octokit+auth-oauth-device@6.1.0/node_modules/@octokit/auth-oauth-device/dist-web/index.js", "../../../../../node_modules/.pnpm/@octokit+auth-oauth-user@4.1.0/node_modules/@octokit/auth-oauth-user/dist-web/index.js", "../../../../../node_modules/.pnpm/@octokit+auth-oauth-app@7.1.0/node_modules/@octokit/auth-oauth-app/dist-web/index.js", "../../../../../node_modules/.pnpm/universal-github-app-jwt@1.2.0/node_modules/universal-github-app-jwt/dist-web/index.js", "../../../../../node_modules/.pnpm/@wolfy1339+lru-cache@11.0.2-patch.1/node_modules/@wolfy1339/lru-cache/src/index.ts", "../../../../../node_modules/.pnpm/@octokit+auth-app@6.1.4/node_modules/@octokit/auth-app/dist-node/index.js", "../../../../../node_modules/.pnpm/@octokit+auth-unauthenticated@5.0.1/node_modules/@octokit/auth-unauthenticated/dist-node/index.js", "../../../../../node_modules/.pnpm/@octokit+oauth-app@6.1.0/node_modules/@octokit/oauth-app/dist-node/index.js", "../../../../../node_modules/.pnpm/indent-string@4.0.0/node_modules/indent-string/index.js", "node-modules-polyfills:os", "node-modules-polyfills-commonjs:os", "../../../../../node_modules/.pnpm/clean-stack@2.2.0/node_modules/clean-stack/index.js", "../../../../../node_modules/.pnpm/aggregate-error@3.1.0/node_modules/aggregate-error/index.js", "../../../../../node_modules/.pnpm/platform@1.3.6/node_modules/platform/platform.js", "../../../../../node_modules/.pnpm/normalize-path@3.0.0/node_modules/normalize-path/index.js", "../../../../../node_modules/.pnpm/path-browserify@1.0.1/node_modules/path-browserify/index.js", "../bundle-MfOcNa/middleware-loader.entry.ts", "../bundle-MfOcNa/middleware-insertion-facade.js", "../../../src/index.ts", "../../../../../node_modules/.pnpm/hono@4.11.4/node_modules/hono/dist/index.js", "../../../../../node_modules/.pnpm/hono@4.11.4/node_modules/hono/dist/hono.js", "../../../../../node_modules/.pnpm/hono@4.11.4/node_modules/hono/dist/hono-base.js", "../../../../../node_modules/.pnpm/hono@4.11.4/node_modules/hono/dist/compose.js", "../../../../../node_modules/.pnpm/hono@4.11.4/node_modules/hono/dist/context.js", "../../../../../node_modules/.pnpm/hono@4.11.4/node_modules/hono/dist/request.js", "../../../../../node_modules/.pnpm/hono@4.11.4/node_modules/hono/dist/http-exception.js", "../../../../../node_modules/.pnpm/hono@4.11.4/node_modules/hono/dist/request/constants.js", "../../../../../node_modules/.pnpm/hono@4.11.4/node_modules/hono/dist/utils/body.js", "../../../../../node_modules/.pnpm/hono@4.11.4/node_modules/hono/dist/utils/url.js", "../../../../../node_modules/.pnpm/hono@4.11.4/node_modules/hono/dist/utils/html.js", "../../../../../node_modules/.pnpm/hono@4.11.4/node_modules/hono/dist/router.js", "../../../../../node_modules/.pnpm/hono@4.11.4/node_modules/hono/dist/utils/constants.js", "../../../../../node_modules/.pnpm/hono@4.11.4/node_modules/hono/dist/router/reg-exp-router/index.js", "../../../../../node_modules/.pnpm/hono@4.11.4/node_modules/hono/dist/router/reg-exp-router/router.js", "../../../../../node_modules/.pnpm/hono@4.11.4/node_modules/hono/dist/router/reg-exp-router/matcher.js", "../../../../../node_modules/.pnpm/hono@4.11.4/node_modules/hono/dist/router/reg-exp-router/node.js", "../../../../../node_modules/.pnpm/hono@4.11.4/node_modules/hono/dist/router/reg-exp-router/trie.js", "../../../../../node_modules/.pnpm/hono@4.11.4/node_modules/hono/dist/router/reg-exp-router/prepared-router.js", "../../../../../node_modules/.pnpm/hono@4.11.4/node_modules/hono/dist/router/smart-router/index.js", "../../../../../node_modules/.pnpm/hono@4.11.4/node_modules/hono/dist/router/smart-router/router.js", "../../../../../node_modules/.pnpm/hono@4.11.4/node_modules/hono/dist/router/trie-router/index.js", "../../../../../node_modules/.pnpm/hono@4.11.4/node_modules/hono/dist/router/trie-router/router.js", "../../../../../node_modules/.pnpm/hono@4.11.4/node_modules/hono/dist/router/trie-router/node.js", "../../../../github-integration/src/index.ts", "../../../../../node_modules/.pnpm/@octokit+app@14.1.0/node_modules/@octokit/app/dist-web/index.js", "../../../../../node_modules/.pnpm/@octokit+webhooks@12.3.2/node_modules/@octokit/webhooks/dist-web/index.js", "../../../../../node_modules/.pnpm/@octokit+webhooks-methods@4.1.0/node_modules/@octokit/webhooks-methods/dist-web/index.js", "../../../../../node_modules/.pnpm/@octokit+plugin-paginate-rest@9.2.2_@octokit+core@5.2.2/node_modules/@octokit/plugin-paginate-rest/dist-web/index.js", "../../../../shared/src/index.ts", "../../../../shared/src/types/session.ts", "../../../../shared/src/types/message.ts", "../../../../shared/src/types/user.ts", "../../../../shared/src/types/events.ts", "../../../../shared/src/utils/logger.ts", "../../../../shared/src/utils/validation.ts", "../../../../shared/src/utils/crypto.ts", "../../../src/providers/e2b-provider.ts", "../../../../../node_modules/.pnpm/openapi-typescript-fetch@1.1.3/node_modules/openapi-typescript-fetch/dist/esm/index.js", "../../../../../node_modules/.pnpm/openapi-typescript-fetch@1.1.3/node_modules/openapi-typescript-fetch/dist/esm/fetcher.js", "../../../../../node_modules/.pnpm/openapi-typescript-fetch@1.1.3/node_modules/openapi-typescript-fetch/dist/esm/types.js", "../../../../../node_modules/.pnpm/openapi-typescript-fetch@1.1.3/node_modules/openapi-typescript-fetch/dist/esm/utils.js", "../../../../../node_modules/.pnpm/e2b@0.16.2/node_modules/e2b/src/api/index.ts", "../../../../../node_modules/.pnpm/e2b@0.16.2/node_modules/e2b/src/api/metadata.ts", "../../../../../node_modules/.pnpm/e2b@0.16.2/node_modules/e2b/package.json", "../../../../../node_modules/.pnpm/e2b@0.16.2/node_modules/e2b/src/constants.ts", "../../../../../node_modules/.pnpm/e2b@0.16.2/node_modules/e2b/src/sandbox/terminal.ts", "../../../../../node_modules/.pnpm/e2b@0.16.2/node_modules/e2b/src/utils/timeout.js", "../../../../../node_modules/.pnpm/e2b@0.16.2/node_modules/e2b/src/utils/promise.ts", "../../../../../node_modules/.pnpm/e2b@0.16.2/node_modules/e2b/src/sandbox/filesystem.ts", "../../../../../node_modules/.pnpm/e2b@0.16.2/node_modules/e2b/src/sandbox/filesystemWatcher.ts", "../../../../../node_modules/.pnpm/e2b@0.16.2/node_modules/e2b/src/error.ts", "../../../../../node_modules/.pnpm/e2b@0.16.2/node_modules/e2b/src/sandbox/process.ts", "../../../../../node_modules/.pnpm/e2b@0.16.2/node_modules/e2b/src/sandbox/index.ts", "../../../../../node_modules/.pnpm/e2b@0.16.2/node_modules/e2b/src/utils/id.ts", "../../../../../node_modules/.pnpm/e2b@0.16.2/node_modules/e2b/src/sandbox/codeSnippet.ts", "../../../../../node_modules/.pnpm/e2b@0.16.2/node_modules/e2b/src/sandbox/rpc.ts", "../../../../../node_modules/.pnpm/e2b@0.16.2/node_modules/e2b/src/utils/wait.ts", "../../../../../node_modules/.pnpm/e2b@0.16.2/node_modules/e2b/src/utils/apiKey.ts", "../../../../../node_modules/.pnpm/e2b@0.16.2/node_modules/e2b/src/sandbox/sandboxConnection.ts", "../../../../../node_modules/.pnpm/e2b@0.16.2/node_modules/e2b/src/utils/filesystem.ts", "../../../../../node_modules/.pnpm/e2b@0.16.2/node_modules/e2b/src/index.ts", "../../../../../node_modules/.pnpm/isomorphic-ws@5.0.0_ws@8.19.0_bufferutil@4.1.0_utf-8-validate@6.0.6_/node_modules/isomorphic-ws/browser.js", "../../../../../node_modules/.pnpm/wrangler@3.114.17_@cloudflare+workers-types@4.20260116.0_bufferutil@4.1.0_utf-8-validate@6.0.6/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts", "../../../../../node_modules/.pnpm/wrangler@3.114.17_@cloudflare+workers-types@4.20260116.0_bufferutil@4.1.0_utf-8-validate@6.0.6/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts", "../../../../../node_modules/.pnpm/wrangler@3.114.17_@cloudflare+workers-types@4.20260116.0_bufferutil@4.1.0_utf-8-validate@6.0.6/node_modules/wrangler/templates/middleware/common.ts"],
  "sourceRoot": "/Users/repathkhan/kingkode/packages/sandbox-manager/.wrangler/tmp/dev-3JlKJ0",
  "sourcesContent": ["const urls = new Set();\n\nfunction checkURL(request, init) {\n\tconst url =\n\t\trequest instanceof URL\n\t\t\t? request\n\t\t\t: new URL(\n\t\t\t\t\t(typeof request === \"string\"\n\t\t\t\t\t\t? new Request(request, init)\n\t\t\t\t\t\t: request\n\t\t\t\t\t).url\n\t\t\t\t);\n\tif (url.port && url.port !== \"443\" && url.protocol === \"https:\") {\n\t\tif (!urls.has(url.toString())) {\n\t\t\turls.add(url.toString());\n\t\t\tconsole.warn(\n\t\t\t\t`WARNING: known issue with \\`fetch()\\` requests to custom HTTPS ports in published Workers:\\n` +\n\t\t\t\t\t` - ${url.toString()} - the custom port will be ignored when the Worker is published using the \\`wrangler deploy\\` command.\\n`\n\t\t\t);\n\t\t}\n\t}\n}\n\nglobalThis.fetch = new Proxy(globalThis.fetch, {\n\tapply(target, thisArg, argArray) {\n\t\tconst [request, init] = argArray;\n\t\tcheckURL(request, init);\n\t\treturn Reflect.apply(target, thisArg, argArray);\n\t},\n});\n", "function stripCfConnectingIPHeader(input, init) {\n\tconst request = new Request(input, init);\n\trequest.headers.delete(\"CF-Connecting-IP\");\n\treturn request;\n}\n\nglobalThis.fetch = new Proxy(globalThis.fetch, {\n\tapply(target, thisArg, argArray) {\n\t\treturn Reflect.apply(target, thisArg, [\n\t\t\tstripCfConnectingIPHeader.apply(null, argArray),\n\t\t]);\n\t},\n});\n", "// shim for using process in browser\n// based off https://github.com/defunctzombie/node-process/blob/master/browser.js\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined')\n}\nfunction defaultClearTimeout() {\n    throw new Error('clearTimeout has not been defined')\n}\nvar cachedSetTimeout = defaultSetTimout\nvar cachedClearTimeout = defaultClearTimeout\nif (typeof global.setTimeout === 'function') {\n    cachedSetTimeout = setTimeout\n}\nif (typeof global.clearTimeout === 'function') {\n    cachedClearTimeout = clearTimeout\n}\n\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0)\n    }\n    // if setTimeout wasn't available but was latter defined\n    if (\n        (cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) &&\n        setTimeout\n    ) {\n        cachedSetTimeout = setTimeout\n        return setTimeout(fun, 0)\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0)\n    } catch (e) {\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0)\n        } catch (e) {\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0)\n        }\n    }\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker)\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if (\n        (cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) &&\n        clearTimeout\n    ) {\n        cachedClearTimeout = clearTimeout\n        return clearTimeout(marker)\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker)\n    } catch (e) {\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker)\n        } catch (e) {\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker)\n        }\n    }\n}\nvar queue = []\nvar draining = false\nvar currentQueue\nvar queueIndex = -1\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return\n    }\n    draining = false\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue)\n    } else {\n        queueIndex = -1\n    }\n    if (queue.length) {\n        drainQueue()\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return\n    }\n    var timeout = runTimeout(cleanUpNextTick)\n    draining = true\n\n    var len = queue.length\n    while (len) {\n        currentQueue = queue\n        queue = []\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run()\n            }\n        }\n        queueIndex = -1\n        len = queue.length\n    }\n    currentQueue = null\n    draining = false\n    runClearTimeout(timeout)\n}\nfunction nextTick(fun) {\n    var args = new Array(arguments.length - 1)\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i]\n        }\n    }\n    queue.push(new Item(fun, args))\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue)\n    }\n}\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun\n    this.array = array\n}\nItem.prototype.run = function() {\n    this.fun.apply(null, this.array)\n}\nvar title = 'browser'\nvar platform = 'browser'\nvar browser = true\nvar env = {}\nvar argv = []\nvar version = '' // empty string to avoid regexp issues\nvar versions = {}\nvar release = {}\nvar config = {}\n\nfunction noop() {}\n\nvar on = noop\nvar addListener = noop\nvar once = noop\nvar off = noop\nvar removeListener = noop\nvar removeAllListeners = noop\nvar emit = noop\n\nfunction binding(name) {\n    throw new Error('process.binding is not supported')\n}\n\nfunction cwd() {\n    return '/'\n}\nfunction chdir(dir) {\n    throw new Error('process.chdir is not supported')\n}\nfunction umask() {\n    return 0\n}\n\n// from https://github.com/kumavis/browser-process-hrtime/blob/master/index.js\nvar performance = global.performance || {}\nvar performanceNow =\n    performance.now ||\n    performance.mozNow ||\n    performance.msNow ||\n    performance.oNow ||\n    performance.webkitNow ||\n    function() {\n        return new Date().getTime()\n    }\n\n// generate timestamp or delta\n// see http://nodejs.org/api/process.html#process_process_hrtime\nfunction hrtime(previousTimestamp) {\n    var clocktime = performanceNow.call(performance) * 1e-3\n    var seconds = Math.floor(clocktime)\n    var nanoseconds = Math.floor((clocktime % 1) * 1e9)\n    if (previousTimestamp) {\n        seconds = seconds - previousTimestamp[0]\n        nanoseconds = nanoseconds - previousTimestamp[1]\n        if (nanoseconds < 0) {\n            seconds--\n            nanoseconds += 1e9\n        }\n    }\n    return [seconds, nanoseconds]\n}\n\nvar startTime = new Date()\nfunction uptime() {\n    var currentTime = new Date()\n    var dif = currentTime - startTime\n    return dif / 1000\n}\n\nexport var process = {\n    nextTick: nextTick,\n    title: title,\n    browser: browser,\n    env: env,\n    argv: argv,\n    version: version,\n    versions: versions,\n    on: on,\n    addListener: addListener,\n    once: once,\n    off: off,\n    removeListener: removeListener,\n    removeAllListeners: removeAllListeners,\n    emit: emit,\n    binding: binding,\n    cwd: cwd,\n    chdir: chdir,\n    umask: umask,\n    hrtime: hrtime,\n    platform: platform,\n    release: release,\n    config: config,\n    uptime: uptime,\n}\n\n// replace process.env.VAR with define\n\nconst defines = {}\nObject.keys(defines).forEach((key) => {\n    const segs = key.split('.')\n    let target = process\n    for (let i = 0; i < segs.length; i++) {\n        const seg = segs[i]\n        if (i === segs.length - 1) {\n            target[seg] = defines[key]\n        } else {\n            target = target[seg] || (target[seg] = {})\n        }\n    }\n})\n", "// taken from https://github.com/calvinmetcalf/buffer-es6\n\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\nvar inited = false\nfunction init() {\n    inited = true\n    var code =\n        'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\n    for (var i = 0, len = code.length; i < len; ++i) {\n        lookup[i] = code[i]\n        revLookup[code.charCodeAt(i)] = i\n    }\n\n    revLookup['-'.charCodeAt(0)] = 62\n    revLookup['_'.charCodeAt(0)] = 63\n}\n\nfunction base64toByteArray(b64) {\n    if (!inited) {\n        init()\n    }\n    var i, j, l, tmp, placeHolders, arr\n    var len = b64.length\n\n    if (len % 4 > 0) {\n        throw new Error('Invalid string. Length must be a multiple of 4')\n    }\n\n    // the number of equal signs (place holders)\n    // if there are two placeholders, than the two characters before it\n    // represent one byte\n    // if there is only one, then the three characters before it represent 2 bytes\n    // this is just a cheap hack to not do indexOf twice\n    placeHolders = b64[len - 2] === '=' ? 2 : b64[len - 1] === '=' ? 1 : 0\n\n    // base64 is 4/3 + up to two characters of the original data\n    arr = new Arr((len * 3) / 4 - placeHolders)\n\n    // if there are placeholders, only get up to the last complete 4 chars\n    l = placeHolders > 0 ? len - 4 : len\n\n    var L = 0\n\n    for (i = 0, j = 0; i < l; i += 4, j += 3) {\n        tmp =\n            (revLookup[b64.charCodeAt(i)] << 18) |\n            (revLookup[b64.charCodeAt(i + 1)] << 12) |\n            (revLookup[b64.charCodeAt(i + 2)] << 6) |\n            revLookup[b64.charCodeAt(i + 3)]\n        arr[L++] = (tmp >> 16) & 0xff\n        arr[L++] = (tmp >> 8) & 0xff\n        arr[L++] = tmp & 0xff\n    }\n\n    if (placeHolders === 2) {\n        tmp =\n            (revLookup[b64.charCodeAt(i)] << 2) |\n            (revLookup[b64.charCodeAt(i + 1)] >> 4)\n        arr[L++] = tmp & 0xff\n    } else if (placeHolders === 1) {\n        tmp =\n            (revLookup[b64.charCodeAt(i)] << 10) |\n            (revLookup[b64.charCodeAt(i + 1)] << 4) |\n            (revLookup[b64.charCodeAt(i + 2)] >> 2)\n        arr[L++] = (tmp >> 8) & 0xff\n        arr[L++] = tmp & 0xff\n    }\n\n    return arr\n}\n\nfunction tripletToBase64(num) {\n    return (\n        lookup[(num >> 18) & 0x3f] +\n        lookup[(num >> 12) & 0x3f] +\n        lookup[(num >> 6) & 0x3f] +\n        lookup[num & 0x3f]\n    )\n}\n\nfunction encodeChunk(uint8, start, end) {\n    var tmp\n    var output = []\n    for (var i = start; i < end; i += 3) {\n        tmp = (uint8[i] << 16) + (uint8[i + 1] << 8) + uint8[i + 2]\n        output.push(tripletToBase64(tmp))\n    }\n    return output.join('')\n}\n\nfunction base64fromByteArray(uint8) {\n    if (!inited) {\n        init()\n    }\n    var tmp\n    var len = uint8.length\n    var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n    var output = ''\n    var parts = []\n    var maxChunkLength = 16383 // must be multiple of 3\n\n    // go through the array every three bytes, we'll deal with trailing stuff later\n    for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n        parts.push(\n            encodeChunk(\n                uint8,\n                i,\n                i + maxChunkLength > len2 ? len2 : i + maxChunkLength,\n            ),\n        )\n    }\n\n    // pad the end with zeros, but make sure to not forget the extra bytes\n    if (extraBytes === 1) {\n        tmp = uint8[len - 1]\n        output += lookup[tmp >> 2]\n        output += lookup[(tmp << 4) & 0x3f]\n        output += '=='\n    } else if (extraBytes === 2) {\n        tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n        output += lookup[tmp >> 10]\n        output += lookup[(tmp >> 4) & 0x3f]\n        output += lookup[(tmp << 2) & 0x3f]\n        output += '='\n    }\n\n    parts.push(output)\n\n    return parts.join('')\n}\n\nvar INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT =\n    global.TYPED_ARRAY_SUPPORT !== undefined ? global.TYPED_ARRAY_SUPPORT : true\n\nfunction kMaxLength() {\n    return Buffer.TYPED_ARRAY_SUPPORT ? 0x7fffffff : 0x3fffffff\n}\n\nfunction createBuffer(that, length) {\n    if (kMaxLength() < length) {\n        throw new RangeError('Invalid typed array length')\n    }\n    if (Buffer.TYPED_ARRAY_SUPPORT) {\n        // Return an augmented `Uint8Array` instance, for best performance\n        that = new Uint8Array(length)\n        that.__proto__ = Buffer.prototype\n    } else {\n        // Fallback: Return an object instance of the Buffer class\n        if (that === null) {\n            that = new Buffer(length)\n        }\n        that.length = length\n    }\n\n    return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nexport function Buffer(arg, encodingOrOffset, length) {\n    if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n        return new Buffer(arg, encodingOrOffset, length)\n    }\n\n    // Common case.\n    if (typeof arg === 'number') {\n        if (typeof encodingOrOffset === 'string') {\n            throw new Error(\n                'If encoding is specified then the first argument must be a string',\n            )\n        }\n        return allocUnsafe(this, arg)\n    }\n    return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function(arr) {\n    arr.__proto__ = Buffer.prototype\n    return arr\n}\n\nfunction from(that, value, encodingOrOffset, length) {\n    if (typeof value === 'number') {\n        throw new TypeError('\"value\" argument must not be a number')\n    }\n\n    if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n        return fromArrayBuffer(that, value, encodingOrOffset, length)\n    }\n\n    if (typeof value === 'string') {\n        return fromString(that, value, encodingOrOffset)\n    }\n\n    return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function(value, encodingOrOffset, length) {\n    return from(null, value, encodingOrOffset, length)\n}\n\nBuffer.kMaxLength = kMaxLength()\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n    Buffer.prototype.__proto__ = Uint8Array.prototype\n    Buffer.__proto__ = Uint8Array\n    if (\n        typeof Symbol !== 'undefined' &&\n        Symbol.species &&\n        Buffer[Symbol.species] === Buffer\n    ) {\n        // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n        // Object.defineProperty(Buffer, Symbol.species, {\n        //   value: null,\n        //   configurable: true\n        // })\n    }\n}\n\nfunction assertSize(size) {\n    if (typeof size !== 'number') {\n        throw new TypeError('\"size\" argument must be a number')\n    } else if (size < 0) {\n        throw new RangeError('\"size\" argument must not be negative')\n    }\n}\n\nfunction alloc(that, size, fill, encoding) {\n    assertSize(size)\n    if (size <= 0) {\n        return createBuffer(that, size)\n    }\n    if (fill !== undefined) {\n        // Only pay attention to encoding if it's a string. This\n        // prevents accidentally sending in a number that would\n        // be interpretted as a start offset.\n        return typeof encoding === 'string'\n            ? createBuffer(that, size).fill(fill, encoding)\n            : createBuffer(that, size).fill(fill)\n    }\n    return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function(size, fill, encoding) {\n    return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe(that, size) {\n    assertSize(size)\n    that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n    if (!Buffer.TYPED_ARRAY_SUPPORT) {\n        for (var i = 0; i < size; ++i) {\n            that[i] = 0\n        }\n    }\n    return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function(size) {\n    return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function(size) {\n    return allocUnsafe(null, size)\n}\n\nfunction fromString(that, string, encoding) {\n    if (typeof encoding !== 'string' || encoding === '') {\n        encoding = 'utf8'\n    }\n\n    if (!Buffer.isEncoding(encoding)) {\n        throw new TypeError('\"encoding\" must be a valid string encoding')\n    }\n\n    var length = byteLength(string, encoding) | 0\n    that = createBuffer(that, length)\n\n    var actual = that.write(string, encoding)\n\n    if (actual !== length) {\n        // Writing a hex string, for example, that contains invalid characters will\n        // cause everything after the first invalid character to be ignored. (e.g.\n        // 'abxxcd' will be treated as 'ab')\n        that = that.slice(0, actual)\n    }\n\n    return that\n}\n\nfunction fromArrayLike(that, array) {\n    var length = array.length < 0 ? 0 : checked(array.length) | 0\n    that = createBuffer(that, length)\n    for (var i = 0; i < length; i += 1) {\n        that[i] = array[i] & 255\n    }\n    return that\n}\n\nfunction fromArrayBuffer(that, array, byteOffset, length) {\n    array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n    if (byteOffset < 0 || array.byteLength < byteOffset) {\n        throw new RangeError(\"'offset' is out of bounds\")\n    }\n\n    if (array.byteLength < byteOffset + (length || 0)) {\n        throw new RangeError(\"'length' is out of bounds\")\n    }\n\n    if (byteOffset === undefined && length === undefined) {\n        array = new Uint8Array(array)\n    } else if (length === undefined) {\n        array = new Uint8Array(array, byteOffset)\n    } else {\n        array = new Uint8Array(array, byteOffset, length)\n    }\n\n    if (Buffer.TYPED_ARRAY_SUPPORT) {\n        // Return an augmented `Uint8Array` instance, for best performance\n        that = array\n        that.__proto__ = Buffer.prototype\n    } else {\n        // Fallback: Return an object instance of the Buffer class\n        that = fromArrayLike(that, array)\n    }\n    return that\n}\n\nfunction fromObject(that, obj) {\n    if (internalIsBuffer(obj)) {\n        var len = checked(obj.length) | 0\n        that = createBuffer(that, len)\n\n        if (that.length === 0) {\n            return that\n        }\n\n        obj.copy(that, 0, 0, len)\n        return that\n    }\n\n    if (obj) {\n        if (\n            (typeof ArrayBuffer !== 'undefined' &&\n                obj.buffer instanceof ArrayBuffer) ||\n            'length' in obj\n        ) {\n            if (typeof obj.length !== 'number' || isnan(obj.length)) {\n                return createBuffer(that, 0)\n            }\n            return fromArrayLike(that, obj)\n        }\n\n        if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n            return fromArrayLike(that, obj.data)\n        }\n    }\n\n    throw new TypeError(\n        'First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.',\n    )\n}\n\nfunction checked(length) {\n    // Note: cannot use `length < kMaxLength()` here because that fails when\n    // length is NaN (which is otherwise coerced to zero.)\n    if (length >= kMaxLength()) {\n        throw new RangeError(\n            'Attempt to allocate Buffer larger than maximum ' +\n                'size: 0x' +\n                kMaxLength().toString(16) +\n                ' bytes',\n        )\n    }\n    return length | 0\n}\n\nexport function SlowBuffer(length) {\n    if (+length != length) {\n        // eslint-disable-line eqeqeq\n        length = 0\n    }\n    return Buffer.alloc(+length)\n}\nBuffer.isBuffer = isBuffer\nfunction internalIsBuffer(b) {\n    return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare(a, b) {\n    if (!internalIsBuffer(a) || !internalIsBuffer(b)) {\n        throw new TypeError('Arguments must be Buffers')\n    }\n\n    if (a === b) return 0\n\n    var x = a.length\n    var y = b.length\n\n    for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n        if (a[i] !== b[i]) {\n            x = a[i]\n            y = b[i]\n            break\n        }\n    }\n\n    if (x < y) return -1\n    if (y < x) return 1\n    return 0\n}\n\nBuffer.isEncoding = function isEncoding(encoding) {\n    switch (String(encoding).toLowerCase()) {\n        case 'hex':\n        case 'utf8':\n        case 'utf-8':\n        case 'ascii':\n        case 'latin1':\n        case 'binary':\n        case 'base64':\n        case 'ucs2':\n        case 'ucs-2':\n        case 'utf16le':\n        case 'utf-16le':\n            return true\n        default:\n            return false\n    }\n}\n\nBuffer.concat = function concat(list, length) {\n    if (!Array.isArray(list)) {\n        throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n\n    if (list.length === 0) {\n        return Buffer.alloc(0)\n    }\n\n    var i\n    if (length === undefined) {\n        length = 0\n        for (i = 0; i < list.length; ++i) {\n            length += list[i].length\n        }\n    }\n\n    var buffer = Buffer.allocUnsafe(length)\n    var pos = 0\n    for (i = 0; i < list.length; ++i) {\n        var buf = list[i]\n        if (!internalIsBuffer(buf)) {\n            throw new TypeError('\"list\" argument must be an Array of Buffers')\n        }\n        buf.copy(buffer, pos)\n        pos += buf.length\n    }\n    return buffer\n}\n\nfunction byteLength(string, encoding) {\n    if (internalIsBuffer(string)) {\n        return string.length\n    }\n    if (\n        typeof ArrayBuffer !== 'undefined' &&\n        typeof ArrayBuffer.isView === 'function' &&\n        (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)\n    ) {\n        return string.byteLength\n    }\n    if (typeof string !== 'string') {\n        string = '' + string\n    }\n\n    var len = string.length\n    if (len === 0) return 0\n\n    // Use a for loop to avoid recursion\n    var loweredCase = false\n    for (;;) {\n        switch (encoding) {\n            case 'ascii':\n            case 'latin1':\n            case 'binary':\n                return len\n            case 'utf8':\n            case 'utf-8':\n            case undefined:\n                return utf8ToBytes(string).length\n            case 'ucs2':\n            case 'ucs-2':\n            case 'utf16le':\n            case 'utf-16le':\n                return len * 2\n            case 'hex':\n                return len >>> 1\n            case 'base64':\n                return base64ToBytes(string).length\n            default:\n                if (loweredCase) return utf8ToBytes(string).length // assume utf8\n                encoding = ('' + encoding).toLowerCase()\n                loweredCase = true\n        }\n    }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString(encoding, start, end) {\n    var loweredCase = false\n\n    // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n    // property of a typed array.\n\n    // This behaves neither like String nor Uint8Array in that we set start/end\n    // to their upper/lower bounds if the value passed is out of range.\n    // undefined is handled specially as per ECMA-262 6th Edition,\n    // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n    if (start === undefined || start < 0) {\n        start = 0\n    }\n    // Return early if start > this.length. Done here to prevent potential uint32\n    // coercion fail below.\n    if (start > this.length) {\n        return ''\n    }\n\n    if (end === undefined || end > this.length) {\n        end = this.length\n    }\n\n    if (end <= 0) {\n        return ''\n    }\n\n    // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n    end >>>= 0\n    start >>>= 0\n\n    if (end <= start) {\n        return ''\n    }\n\n    if (!encoding) encoding = 'utf8'\n\n    while (true) {\n        switch (encoding) {\n            case 'hex':\n                return hexSlice(this, start, end)\n\n            case 'utf8':\n            case 'utf-8':\n                return utf8Slice(this, start, end)\n\n            case 'ascii':\n                return asciiSlice(this, start, end)\n\n            case 'latin1':\n            case 'binary':\n                return latin1Slice(this, start, end)\n\n            case 'base64':\n                return base64Slice(this, start, end)\n\n            case 'ucs2':\n            case 'ucs-2':\n            case 'utf16le':\n            case 'utf-16le':\n                return utf16leSlice(this, start, end)\n\n            default:\n                if (loweredCase)\n                    throw new TypeError('Unknown encoding: ' + encoding)\n                encoding = (encoding + '').toLowerCase()\n                loweredCase = true\n        }\n    }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap(b, n, m) {\n    var i = b[n]\n    b[n] = b[m]\n    b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16() {\n    var len = this.length\n    if (len % 2 !== 0) {\n        throw new RangeError('Buffer size must be a multiple of 16-bits')\n    }\n    for (var i = 0; i < len; i += 2) {\n        swap(this, i, i + 1)\n    }\n    return this\n}\n\nBuffer.prototype.swap32 = function swap32() {\n    var len = this.length\n    if (len % 4 !== 0) {\n        throw new RangeError('Buffer size must be a multiple of 32-bits')\n    }\n    for (var i = 0; i < len; i += 4) {\n        swap(this, i, i + 3)\n        swap(this, i + 1, i + 2)\n    }\n    return this\n}\n\nBuffer.prototype.swap64 = function swap64() {\n    var len = this.length\n    if (len % 8 !== 0) {\n        throw new RangeError('Buffer size must be a multiple of 64-bits')\n    }\n    for (var i = 0; i < len; i += 8) {\n        swap(this, i, i + 7)\n        swap(this, i + 1, i + 6)\n        swap(this, i + 2, i + 5)\n        swap(this, i + 3, i + 4)\n    }\n    return this\n}\n\nBuffer.prototype.toString = function toString() {\n    var length = this.length | 0\n    if (length === 0) return ''\n    if (arguments.length === 0) return utf8Slice(this, 0, length)\n    return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals(b) {\n    if (!internalIsBuffer(b)) throw new TypeError('Argument must be a Buffer')\n    if (this === b) return true\n    return Buffer.compare(this, b) === 0\n}\n\n\nBuffer.prototype.compare = function compare(\n    target,\n    start,\n    end,\n    thisStart,\n    thisEnd,\n) {\n    if (!internalIsBuffer(target)) {\n        throw new TypeError('Argument must be a Buffer')\n    }\n\n    if (start === undefined) {\n        start = 0\n    }\n    if (end === undefined) {\n        end = target ? target.length : 0\n    }\n    if (thisStart === undefined) {\n        thisStart = 0\n    }\n    if (thisEnd === undefined) {\n        thisEnd = this.length\n    }\n\n    if (\n        start < 0 ||\n        end > target.length ||\n        thisStart < 0 ||\n        thisEnd > this.length\n    ) {\n        throw new RangeError('out of range index')\n    }\n\n    if (thisStart >= thisEnd && start >= end) {\n        return 0\n    }\n    if (thisStart >= thisEnd) {\n        return -1\n    }\n    if (start >= end) {\n        return 1\n    }\n\n    start >>>= 0\n    end >>>= 0\n    thisStart >>>= 0\n    thisEnd >>>= 0\n\n    if (this === target) return 0\n\n    var x = thisEnd - thisStart\n    var y = end - start\n    var len = Math.min(x, y)\n\n    var thisCopy = this.slice(thisStart, thisEnd)\n    var targetCopy = target.slice(start, end)\n\n    for (var i = 0; i < len; ++i) {\n        if (thisCopy[i] !== targetCopy[i]) {\n            x = thisCopy[i]\n            y = targetCopy[i]\n            break\n        }\n    }\n\n    if (x < y) return -1\n    if (y < x) return 1\n    return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf(buffer, val, byteOffset, encoding, dir) {\n    // Empty buffer means no match\n    if (buffer.length === 0) return -1\n\n    // Normalize byteOffset\n    if (typeof byteOffset === 'string') {\n        encoding = byteOffset\n        byteOffset = 0\n    } else if (byteOffset > 0x7fffffff) {\n        byteOffset = 0x7fffffff\n    } else if (byteOffset < -0x80000000) {\n        byteOffset = -0x80000000\n    }\n    byteOffset = +byteOffset // Coerce to Number.\n    if (isNaN(byteOffset)) {\n        // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n        byteOffset = dir ? 0 : buffer.length - 1\n    }\n\n    // Normalize byteOffset: negative offsets start from the end of the buffer\n    if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n    if (byteOffset >= buffer.length) {\n        if (dir) return -1\n        else byteOffset = buffer.length - 1\n    } else if (byteOffset < 0) {\n        if (dir) byteOffset = 0\n        else return -1\n    }\n\n    // Normalize val\n    if (typeof val === 'string') {\n        val = Buffer.from(val, encoding)\n    }\n\n    // Finally, search either indexOf (if dir is true) or lastIndexOf\n    if (internalIsBuffer(val)) {\n        // Special case: looking for empty string/buffer always fails\n        if (val.length === 0) {\n            return -1\n        }\n        return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n    } else if (typeof val === 'number') {\n        val = val & 0xff // Search for a byte value [0-255]\n        if (\n            Buffer.TYPED_ARRAY_SUPPORT &&\n            typeof Uint8Array.prototype.indexOf === 'function'\n        ) {\n            if (dir) {\n                return Uint8Array.prototype.indexOf.call(\n                    buffer,\n                    val,\n                    byteOffset,\n                )\n            } else {\n                return Uint8Array.prototype.lastIndexOf.call(\n                    buffer,\n                    val,\n                    byteOffset,\n                )\n            }\n        }\n        return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n    }\n\n    throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf(arr, val, byteOffset, encoding, dir) {\n    var indexSize = 1\n    var arrLength = arr.length\n    var valLength = val.length\n\n    if (encoding !== undefined) {\n        encoding = String(encoding).toLowerCase()\n        if (\n            encoding === 'ucs2' ||\n            encoding === 'ucs-2' ||\n            encoding === 'utf16le' ||\n            encoding === 'utf-16le'\n        ) {\n            if (arr.length < 2 || val.length < 2) {\n                return -1\n            }\n            indexSize = 2\n            arrLength /= 2\n            valLength /= 2\n            byteOffset /= 2\n        }\n    }\n\n    function read(buf, i) {\n        if (indexSize === 1) {\n            return buf[i]\n        } else {\n            return buf.readUInt16BE(i * indexSize)\n        }\n    }\n\n    var i\n    if (dir) {\n        var foundIndex = -1\n        for (i = byteOffset; i < arrLength; i++) {\n            if (\n                read(arr, i) ===\n                read(val, foundIndex === -1 ? 0 : i - foundIndex)\n            ) {\n                if (foundIndex === -1) foundIndex = i\n                if (i - foundIndex + 1 === valLength)\n                    return foundIndex * indexSize\n            } else {\n                if (foundIndex !== -1) i -= i - foundIndex\n                foundIndex = -1\n            }\n        }\n    } else {\n        if (byteOffset + valLength > arrLength)\n            byteOffset = arrLength - valLength\n        for (i = byteOffset; i >= 0; i--) {\n            var found = true\n            for (var j = 0; j < valLength; j++) {\n                if (read(arr, i + j) !== read(val, j)) {\n                    found = false\n                    break\n                }\n            }\n            if (found) return i\n        }\n    }\n\n    return -1\n}\n\nBuffer.prototype.includes = function includes(val, byteOffset, encoding) {\n    return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf(val, byteOffset, encoding) {\n    return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf(val, byteOffset, encoding) {\n    return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite(buf, string, offset, length) {\n    offset = Number(offset) || 0\n    var remaining = buf.length - offset\n    if (!length) {\n        length = remaining\n    } else {\n        length = Number(length)\n        if (length > remaining) {\n            length = remaining\n        }\n    }\n\n    // must be an even number of digits\n    var strLen = string.length\n    if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n    if (length > strLen / 2) {\n        length = strLen / 2\n    }\n    for (var i = 0; i < length; ++i) {\n        var parsed = parseInt(string.substr(i * 2, 2), 16)\n        if (isNaN(parsed)) return i\n        buf[offset + i] = parsed\n    }\n    return i\n}\n\nfunction utf8Write(buf, string, offset, length) {\n    return blitBuffer(\n        utf8ToBytes(string, buf.length - offset),\n        buf,\n        offset,\n        length,\n    )\n}\n\nfunction asciiWrite(buf, string, offset, length) {\n    return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write(buf, string, offset, length) {\n    return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write(buf, string, offset, length) {\n    return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write(buf, string, offset, length) {\n    return blitBuffer(\n        utf16leToBytes(string, buf.length - offset),\n        buf,\n        offset,\n        length,\n    )\n}\n\nBuffer.prototype.write = function write(string, offset, length, encoding) {\n    // Buffer#write(string)\n    if (offset === undefined) {\n        encoding = 'utf8'\n        length = this.length\n        offset = 0\n        // Buffer#write(string, encoding)\n    } else if (length === undefined && typeof offset === 'string') {\n        encoding = offset\n        length = this.length\n        offset = 0\n        // Buffer#write(string, offset[, length][, encoding])\n    } else if (isFinite(offset)) {\n        offset = offset | 0\n        if (isFinite(length)) {\n            length = length | 0\n            if (encoding === undefined) encoding = 'utf8'\n        } else {\n            encoding = length\n            length = undefined\n        }\n        // legacy write(string, encoding, offset, length) - remove in v0.13\n    } else {\n        throw new Error(\n            'Buffer.write(string, encoding, offset[, length]) is no longer supported',\n        )\n    }\n\n    var remaining = this.length - offset\n    if (length === undefined || length > remaining) length = remaining\n\n    if (\n        (string.length > 0 && (length < 0 || offset < 0)) ||\n        offset > this.length\n    ) {\n        throw new RangeError('Attempt to write outside buffer bounds')\n    }\n\n    if (!encoding) encoding = 'utf8'\n\n    var loweredCase = false\n    for (;;) {\n        switch (encoding) {\n            case 'hex':\n                return hexWrite(this, string, offset, length)\n\n            case 'utf8':\n            case 'utf-8':\n                return utf8Write(this, string, offset, length)\n\n            case 'ascii':\n                return asciiWrite(this, string, offset, length)\n\n            case 'latin1':\n            case 'binary':\n                return latin1Write(this, string, offset, length)\n\n            case 'base64':\n                // Warning: maxLength not taken into account in base64Write\n                return base64Write(this, string, offset, length)\n\n            case 'ucs2':\n            case 'ucs-2':\n            case 'utf16le':\n            case 'utf-16le':\n                return ucs2Write(this, string, offset, length)\n\n            default:\n                if (loweredCase)\n                    throw new TypeError('Unknown encoding: ' + encoding)\n                encoding = ('' + encoding).toLowerCase()\n                loweredCase = true\n        }\n    }\n}\n\nBuffer.prototype.toJSON = function toJSON() {\n    return {\n        type: 'Buffer',\n        data: Array.prototype.slice.call(this._arr || this, 0),\n    }\n}\n\nfunction base64Slice(buf, start, end) {\n    if (start === 0 && end === buf.length) {\n        return base64fromByteArray(buf)\n    } else {\n        return base64fromByteArray(buf.slice(start, end))\n    }\n}\n\nfunction utf8Slice(buf, start, end) {\n    end = Math.min(buf.length, end)\n    var res = []\n\n    var i = start\n    while (i < end) {\n        var firstByte = buf[i]\n        var codePoint = null\n        var bytesPerSequence =\n            firstByte > 0xef\n                ? 4\n                : firstByte > 0xdf\n                ? 3\n                : firstByte > 0xbf\n                ? 2\n                : 1\n\n        if (i + bytesPerSequence <= end) {\n            var secondByte, thirdByte, fourthByte, tempCodePoint\n\n            switch (bytesPerSequence) {\n                case 1:\n                    if (firstByte < 0x80) {\n                        codePoint = firstByte\n                    }\n                    break\n                case 2:\n                    secondByte = buf[i + 1]\n                    if ((secondByte & 0xc0) === 0x80) {\n                        tempCodePoint =\n                            ((firstByte & 0x1f) << 0x6) | (secondByte & 0x3f)\n                        if (tempCodePoint > 0x7f) {\n                            codePoint = tempCodePoint\n                        }\n                    }\n                    break\n                case 3:\n                    secondByte = buf[i + 1]\n                    thirdByte = buf[i + 2]\n                    if (\n                        (secondByte & 0xc0) === 0x80 &&\n                        (thirdByte & 0xc0) === 0x80\n                    ) {\n                        tempCodePoint =\n                            ((firstByte & 0xf) << 0xc) |\n                            ((secondByte & 0x3f) << 0x6) |\n                            (thirdByte & 0x3f)\n                        if (\n                            tempCodePoint > 0x7ff &&\n                            (tempCodePoint < 0xd800 || tempCodePoint > 0xdfff)\n                        ) {\n                            codePoint = tempCodePoint\n                        }\n                    }\n                    break\n                case 4:\n                    secondByte = buf[i + 1]\n                    thirdByte = buf[i + 2]\n                    fourthByte = buf[i + 3]\n                    if (\n                        (secondByte & 0xc0) === 0x80 &&\n                        (thirdByte & 0xc0) === 0x80 &&\n                        (fourthByte & 0xc0) === 0x80\n                    ) {\n                        tempCodePoint =\n                            ((firstByte & 0xf) << 0x12) |\n                            ((secondByte & 0x3f) << 0xc) |\n                            ((thirdByte & 0x3f) << 0x6) |\n                            (fourthByte & 0x3f)\n                        if (\n                            tempCodePoint > 0xffff &&\n                            tempCodePoint < 0x110000\n                        ) {\n                            codePoint = tempCodePoint\n                        }\n                    }\n            }\n        }\n\n        if (codePoint === null) {\n            // we did not generate a valid codePoint so insert a\n            // replacement char (U+FFFD) and advance only 1 byte\n            codePoint = 0xfffd\n            bytesPerSequence = 1\n        } else if (codePoint > 0xffff) {\n            // encode to utf16 (surrogate pair dance)\n            codePoint -= 0x10000\n            res.push(((codePoint >>> 10) & 0x3ff) | 0xd800)\n            codePoint = 0xdc00 | (codePoint & 0x3ff)\n        }\n\n        res.push(codePoint)\n        i += bytesPerSequence\n    }\n\n    return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray(codePoints) {\n    var len = codePoints.length\n    if (len <= MAX_ARGUMENTS_LENGTH) {\n        return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n    }\n\n    // Decode in chunks to avoid \"call stack size exceeded\".\n    var res = ''\n    var i = 0\n    while (i < len) {\n        res += String.fromCharCode.apply(\n            String,\n            codePoints.slice(i, (i += MAX_ARGUMENTS_LENGTH)),\n        )\n    }\n    return res\n}\n\nfunction asciiSlice(buf, start, end) {\n    var ret = ''\n    end = Math.min(buf.length, end)\n\n    for (var i = start; i < end; ++i) {\n        ret += String.fromCharCode(buf[i] & 0x7f)\n    }\n    return ret\n}\n\nfunction latin1Slice(buf, start, end) {\n    var ret = ''\n    end = Math.min(buf.length, end)\n\n    for (var i = start; i < end; ++i) {\n        ret += String.fromCharCode(buf[i])\n    }\n    return ret\n}\n\nfunction hexSlice(buf, start, end) {\n    var len = buf.length\n\n    if (!start || start < 0) start = 0\n    if (!end || end < 0 || end > len) end = len\n\n    var out = ''\n    for (var i = start; i < end; ++i) {\n        out += toHex(buf[i])\n    }\n    return out\n}\n\nfunction utf16leSlice(buf, start, end) {\n    var bytes = buf.slice(start, end)\n    var res = ''\n    for (var i = 0; i < bytes.length; i += 2) {\n        res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n    }\n    return res\n}\n\nBuffer.prototype.slice = function slice(start, end) {\n    var len = this.length\n    start = ~~start\n    end = end === undefined ? len : ~~end\n\n    if (start < 0) {\n        start += len\n        if (start < 0) start = 0\n    } else if (start > len) {\n        start = len\n    }\n\n    if (end < 0) {\n        end += len\n        if (end < 0) end = 0\n    } else if (end > len) {\n        end = len\n    }\n\n    if (end < start) end = start\n\n    var newBuf\n    if (Buffer.TYPED_ARRAY_SUPPORT) {\n        newBuf = this.subarray(start, end)\n        newBuf.__proto__ = Buffer.prototype\n    } else {\n        var sliceLen = end - start\n        newBuf = new Buffer(sliceLen, undefined)\n        for (var i = 0; i < sliceLen; ++i) {\n            newBuf[i] = this[i + start]\n        }\n    }\n\n    return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset(offset, ext, length) {\n    if (offset % 1 !== 0 || offset < 0)\n        throw new RangeError('offset is not uint')\n    if (offset + ext > length)\n        throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE(\n    offset,\n    byteLength,\n    noAssert,\n) {\n    offset = offset | 0\n    byteLength = byteLength | 0\n    if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n    var val = this[offset]\n    var mul = 1\n    var i = 0\n    while (++i < byteLength && (mul *= 0x100)) {\n        val += this[offset + i] * mul\n    }\n\n    return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE(\n    offset,\n    byteLength,\n    noAssert,\n) {\n    offset = offset | 0\n    byteLength = byteLength | 0\n    if (!noAssert) {\n        checkOffset(offset, byteLength, this.length)\n    }\n\n    var val = this[offset + --byteLength]\n    var mul = 1\n    while (byteLength > 0 && (mul *= 0x100)) {\n        val += this[offset + --byteLength] * mul\n    }\n\n    return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8(offset, noAssert) {\n    if (!noAssert) checkOffset(offset, 1, this.length)\n    return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE(offset, noAssert) {\n    if (!noAssert) checkOffset(offset, 2, this.length)\n    return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE(offset, noAssert) {\n    if (!noAssert) checkOffset(offset, 2, this.length)\n    return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE(offset, noAssert) {\n    if (!noAssert) checkOffset(offset, 4, this.length)\n\n    return (\n        (this[offset] | (this[offset + 1] << 8) | (this[offset + 2] << 16)) +\n        this[offset + 3] * 0x1000000\n    )\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE(offset, noAssert) {\n    if (!noAssert) checkOffset(offset, 4, this.length)\n\n    return (\n        this[offset] * 0x1000000 +\n        ((this[offset + 1] << 16) | (this[offset + 2] << 8) | this[offset + 3])\n    )\n}\n\nBuffer.prototype.readIntLE = function readIntLE(offset, byteLength, noAssert) {\n    offset = offset | 0\n    byteLength = byteLength | 0\n    if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n    var val = this[offset]\n    var mul = 1\n    var i = 0\n    while (++i < byteLength && (mul *= 0x100)) {\n        val += this[offset + i] * mul\n    }\n    mul *= 0x80\n\n    if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n    return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE(offset, byteLength, noAssert) {\n    offset = offset | 0\n    byteLength = byteLength | 0\n    if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n    var i = byteLength\n    var mul = 1\n    var val = this[offset + --i]\n    while (i > 0 && (mul *= 0x100)) {\n        val += this[offset + --i] * mul\n    }\n    mul *= 0x80\n\n    if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n    return val\n}\n\nBuffer.prototype.readInt8 = function readInt8(offset, noAssert) {\n    if (!noAssert) checkOffset(offset, 1, this.length)\n    if (!(this[offset] & 0x80)) return this[offset]\n    return (0xff - this[offset] + 1) * -1\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE(offset, noAssert) {\n    if (!noAssert) checkOffset(offset, 2, this.length)\n    var val = this[offset] | (this[offset + 1] << 8)\n    return val & 0x8000 ? val | 0xffff0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE(offset, noAssert) {\n    if (!noAssert) checkOffset(offset, 2, this.length)\n    var val = this[offset + 1] | (this[offset] << 8)\n    return val & 0x8000 ? val | 0xffff0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE(offset, noAssert) {\n    if (!noAssert) checkOffset(offset, 4, this.length)\n\n    return (\n        this[offset] |\n        (this[offset + 1] << 8) |\n        (this[offset + 2] << 16) |\n        (this[offset + 3] << 24)\n    )\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE(offset, noAssert) {\n    if (!noAssert) checkOffset(offset, 4, this.length)\n\n    return (\n        (this[offset] << 24) |\n        (this[offset + 1] << 16) |\n        (this[offset + 2] << 8) |\n        this[offset + 3]\n    )\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE(offset, noAssert) {\n    if (!noAssert) checkOffset(offset, 4, this.length)\n    return ieee754read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE(offset, noAssert) {\n    if (!noAssert) checkOffset(offset, 4, this.length)\n    return ieee754read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE(offset, noAssert) {\n    if (!noAssert) checkOffset(offset, 8, this.length)\n    return ieee754read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE(offset, noAssert) {\n    if (!noAssert) checkOffset(offset, 8, this.length)\n    return ieee754read(this, offset, false, 52, 8)\n}\n\nfunction checkInt(buf, value, offset, ext, max, min) {\n    if (!internalIsBuffer(buf))\n        throw new TypeError('\"buffer\" argument must be a Buffer instance')\n    if (value > max || value < min)\n        throw new RangeError('\"value\" argument is out of bounds')\n    if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE(\n    value,\n    offset,\n    byteLength,\n    noAssert,\n) {\n    value = +value\n    offset = offset | 0\n    byteLength = byteLength | 0\n    if (!noAssert) {\n        var maxBytes = Math.pow(2, 8 * byteLength) - 1\n        checkInt(this, value, offset, byteLength, maxBytes, 0)\n    }\n\n    var mul = 1\n    var i = 0\n    this[offset] = value & 0xff\n    while (++i < byteLength && (mul *= 0x100)) {\n        this[offset + i] = (value / mul) & 0xff\n    }\n\n    return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE(\n    value,\n    offset,\n    byteLength,\n    noAssert,\n) {\n    value = +value\n    offset = offset | 0\n    byteLength = byteLength | 0\n    if (!noAssert) {\n        var maxBytes = Math.pow(2, 8 * byteLength) - 1\n        checkInt(this, value, offset, byteLength, maxBytes, 0)\n    }\n\n    var i = byteLength - 1\n    var mul = 1\n    this[offset + i] = value & 0xff\n    while (--i >= 0 && (mul *= 0x100)) {\n        this[offset + i] = (value / mul) & 0xff\n    }\n\n    return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8(value, offset, noAssert) {\n    value = +value\n    offset = offset | 0\n    if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n    if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n    this[offset] = value & 0xff\n    return offset + 1\n}\n\nfunction objectWriteUInt16(buf, value, offset, littleEndian) {\n    if (value < 0) value = 0xffff + value + 1\n    for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n        buf[offset + i] =\n            (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n            ((littleEndian ? i : 1 - i) * 8)\n    }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE(\n    value,\n    offset,\n    noAssert,\n) {\n    value = +value\n    offset = offset | 0\n    if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n    if (Buffer.TYPED_ARRAY_SUPPORT) {\n        this[offset] = value & 0xff\n        this[offset + 1] = value >>> 8\n    } else {\n        objectWriteUInt16(this, value, offset, true)\n    }\n    return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE(\n    value,\n    offset,\n    noAssert,\n) {\n    value = +value\n    offset = offset | 0\n    if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n    if (Buffer.TYPED_ARRAY_SUPPORT) {\n        this[offset] = value >>> 8\n        this[offset + 1] = value & 0xff\n    } else {\n        objectWriteUInt16(this, value, offset, false)\n    }\n    return offset + 2\n}\n\nfunction objectWriteUInt32(buf, value, offset, littleEndian) {\n    if (value < 0) value = 0xffffffff + value + 1\n    for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n        buf[offset + i] = (value >>> ((littleEndian ? i : 3 - i) * 8)) & 0xff\n    }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE(\n    value,\n    offset,\n    noAssert,\n) {\n    value = +value\n    offset = offset | 0\n    if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n    if (Buffer.TYPED_ARRAY_SUPPORT) {\n        this[offset + 3] = value >>> 24\n        this[offset + 2] = value >>> 16\n        this[offset + 1] = value >>> 8\n        this[offset] = value & 0xff\n    } else {\n        objectWriteUInt32(this, value, offset, true)\n    }\n    return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE(\n    value,\n    offset,\n    noAssert,\n) {\n    value = +value\n    offset = offset | 0\n    if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n    if (Buffer.TYPED_ARRAY_SUPPORT) {\n        this[offset] = value >>> 24\n        this[offset + 1] = value >>> 16\n        this[offset + 2] = value >>> 8\n        this[offset + 3] = value & 0xff\n    } else {\n        objectWriteUInt32(this, value, offset, false)\n    }\n    return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE(\n    value,\n    offset,\n    byteLength,\n    noAssert,\n) {\n    value = +value\n    offset = offset | 0\n    if (!noAssert) {\n        var limit = Math.pow(2, 8 * byteLength - 1)\n\n        checkInt(this, value, offset, byteLength, limit - 1, -limit)\n    }\n\n    var i = 0\n    var mul = 1\n    var sub = 0\n    this[offset] = value & 0xff\n    while (++i < byteLength && (mul *= 0x100)) {\n        if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n            sub = 1\n        }\n        this[offset + i] = (((value / mul) >> 0) - sub) & 0xff\n    }\n\n    return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE(\n    value,\n    offset,\n    byteLength,\n    noAssert,\n) {\n    value = +value\n    offset = offset | 0\n    if (!noAssert) {\n        var limit = Math.pow(2, 8 * byteLength - 1)\n\n        checkInt(this, value, offset, byteLength, limit - 1, -limit)\n    }\n\n    var i = byteLength - 1\n    var mul = 1\n    var sub = 0\n    this[offset + i] = value & 0xff\n    while (--i >= 0 && (mul *= 0x100)) {\n        if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n            sub = 1\n        }\n        this[offset + i] = (((value / mul) >> 0) - sub) & 0xff\n    }\n\n    return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8(value, offset, noAssert) {\n    value = +value\n    offset = offset | 0\n    if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n    if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n    if (value < 0) value = 0xff + value + 1\n    this[offset] = value & 0xff\n    return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE(value, offset, noAssert) {\n    value = +value\n    offset = offset | 0\n    if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n    if (Buffer.TYPED_ARRAY_SUPPORT) {\n        this[offset] = value & 0xff\n        this[offset + 1] = value >>> 8\n    } else {\n        objectWriteUInt16(this, value, offset, true)\n    }\n    return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE(value, offset, noAssert) {\n    value = +value\n    offset = offset | 0\n    if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n    if (Buffer.TYPED_ARRAY_SUPPORT) {\n        this[offset] = value >>> 8\n        this[offset + 1] = value & 0xff\n    } else {\n        objectWriteUInt16(this, value, offset, false)\n    }\n    return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE(value, offset, noAssert) {\n    value = +value\n    offset = offset | 0\n    if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n    if (Buffer.TYPED_ARRAY_SUPPORT) {\n        this[offset] = value & 0xff\n        this[offset + 1] = value >>> 8\n        this[offset + 2] = value >>> 16\n        this[offset + 3] = value >>> 24\n    } else {\n        objectWriteUInt32(this, value, offset, true)\n    }\n    return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE(value, offset, noAssert) {\n    value = +value\n    offset = offset | 0\n    if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n    if (value < 0) value = 0xffffffff + value + 1\n    if (Buffer.TYPED_ARRAY_SUPPORT) {\n        this[offset] = value >>> 24\n        this[offset + 1] = value >>> 16\n        this[offset + 2] = value >>> 8\n        this[offset + 3] = value & 0xff\n    } else {\n        objectWriteUInt32(this, value, offset, false)\n    }\n    return offset + 4\n}\n\nfunction checkIEEE754(buf, value, offset, ext, max, min) {\n    if (offset + ext > buf.length) throw new RangeError('Index out of range')\n    if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat(buf, value, offset, littleEndian, noAssert) {\n    if (!noAssert) {\n        checkIEEE754(\n            buf,\n            value,\n            offset,\n            4,\n            3.4028234663852886e38,\n            -3.4028234663852886e38,\n        )\n    }\n    ieee754write(buf, value, offset, littleEndian, 23, 4)\n    return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE(value, offset, noAssert) {\n    return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE(value, offset, noAssert) {\n    return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble(buf, value, offset, littleEndian, noAssert) {\n    if (!noAssert) {\n        checkIEEE754(\n            buf,\n            value,\n            offset,\n            8,\n            1.7976931348623157e308,\n            -1.7976931348623157e308,\n        )\n    }\n    ieee754write(buf, value, offset, littleEndian, 52, 8)\n    return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE(\n    value,\n    offset,\n    noAssert,\n) {\n    return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE(\n    value,\n    offset,\n    noAssert,\n) {\n    return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy(target, targetStart, start, end) {\n    if (!start) start = 0\n    if (!end && end !== 0) end = this.length\n    if (targetStart >= target.length) targetStart = target.length\n    if (!targetStart) targetStart = 0\n    if (end > 0 && end < start) end = start\n\n    // Copy 0 bytes; we're done\n    if (end === start) return 0\n    if (target.length === 0 || this.length === 0) return 0\n\n    // Fatal error conditions\n    if (targetStart < 0) {\n        throw new RangeError('targetStart out of bounds')\n    }\n    if (start < 0 || start >= this.length)\n        throw new RangeError('sourceStart out of bounds')\n    if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n    // Are we oob?\n    if (end > this.length) end = this.length\n    if (target.length - targetStart < end - start) {\n        end = target.length - targetStart + start\n    }\n\n    var len = end - start\n    var i\n\n    if (this === target && start < targetStart && targetStart < end) {\n        // descending copy from end\n        for (i = len - 1; i >= 0; --i) {\n            target[i + targetStart] = this[i + start]\n        }\n    } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n        // ascending copy from start\n        for (i = 0; i < len; ++i) {\n            target[i + targetStart] = this[i + start]\n        }\n    } else {\n        Uint8Array.prototype.set.call(\n            target,\n            this.subarray(start, start + len),\n            targetStart,\n        )\n    }\n\n    return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill(val, start, end, encoding) {\n    // Handle string cases:\n    if (typeof val === 'string') {\n        if (typeof start === 'string') {\n            encoding = start\n            start = 0\n            end = this.length\n        } else if (typeof end === 'string') {\n            encoding = end\n            end = this.length\n        }\n        if (val.length === 1) {\n            var code = val.charCodeAt(0)\n            if (code < 256) {\n                val = code\n            }\n        }\n        if (encoding !== undefined && typeof encoding !== 'string') {\n            throw new TypeError('encoding must be a string')\n        }\n        if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n            throw new TypeError('Unknown encoding: ' + encoding)\n        }\n    } else if (typeof val === 'number') {\n        val = val & 255\n    }\n\n    // Invalid ranges are not set to a default, so can range check early.\n    if (start < 0 || this.length < start || this.length < end) {\n        throw new RangeError('Out of range index')\n    }\n\n    if (end <= start) {\n        return this\n    }\n\n    start = start >>> 0\n    end = end === undefined ? this.length : end >>> 0\n\n    if (!val) val = 0\n\n    var i\n    if (typeof val === 'number') {\n        for (i = start; i < end; ++i) {\n            this[i] = val\n        }\n    } else {\n        var bytes = internalIsBuffer(val)\n            ? val\n            : utf8ToBytes(new Buffer(val, encoding).toString())\n        var len = bytes.length\n        for (i = 0; i < end - start; ++i) {\n            this[i + start] = bytes[i % len]\n        }\n    }\n\n    return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean(str) {\n    // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n    str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n    // Node converts strings with length < 2 to ''\n    if (str.length < 2) return ''\n    // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n    while (str.length % 4 !== 0) {\n        str = str + '='\n    }\n    return str\n}\n\nfunction stringtrim(str) {\n    if (str.trim) return str.trim()\n    return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex(n) {\n    if (n < 16) return '0' + n.toString(16)\n    return n.toString(16)\n}\n\nfunction utf8ToBytes(string, units) {\n    units = units || Infinity\n    var codePoint\n    var length = string.length\n    var leadSurrogate = null\n    var bytes = []\n\n    for (var i = 0; i < length; ++i) {\n        codePoint = string.charCodeAt(i)\n\n        // is surrogate component\n        if (codePoint > 0xd7ff && codePoint < 0xe000) {\n            // last char was a lead\n            if (!leadSurrogate) {\n                // no lead yet\n                if (codePoint > 0xdbff) {\n                    // unexpected trail\n                    if ((units -= 3) > -1) bytes.push(0xef, 0xbf, 0xbd)\n                    continue\n                } else if (i + 1 === length) {\n                    // unpaired lead\n                    if ((units -= 3) > -1) bytes.push(0xef, 0xbf, 0xbd)\n                    continue\n                }\n\n                // valid lead\n                leadSurrogate = codePoint\n\n                continue\n            }\n\n            // 2 leads in a row\n            if (codePoint < 0xdc00) {\n                if ((units -= 3) > -1) bytes.push(0xef, 0xbf, 0xbd)\n                leadSurrogate = codePoint\n                continue\n            }\n\n            // valid surrogate pair\n            codePoint =\n                (((leadSurrogate - 0xd800) << 10) | (codePoint - 0xdc00)) +\n                0x10000\n        } else if (leadSurrogate) {\n            // valid bmp char, but last char was a lead\n            if ((units -= 3) > -1) bytes.push(0xef, 0xbf, 0xbd)\n        }\n\n        leadSurrogate = null\n\n        // encode utf8\n        if (codePoint < 0x80) {\n            if ((units -= 1) < 0) break\n            bytes.push(codePoint)\n        } else if (codePoint < 0x800) {\n            if ((units -= 2) < 0) break\n            bytes.push((codePoint >> 0x6) | 0xc0, (codePoint & 0x3f) | 0x80)\n        } else if (codePoint < 0x10000) {\n            if ((units -= 3) < 0) break\n            bytes.push(\n                (codePoint >> 0xc) | 0xe0,\n                ((codePoint >> 0x6) & 0x3f) | 0x80,\n                (codePoint & 0x3f) | 0x80,\n            )\n        } else if (codePoint < 0x110000) {\n            if ((units -= 4) < 0) break\n            bytes.push(\n                (codePoint >> 0x12) | 0xf0,\n                ((codePoint >> 0xc) & 0x3f) | 0x80,\n                ((codePoint >> 0x6) & 0x3f) | 0x80,\n                (codePoint & 0x3f) | 0x80,\n            )\n        } else {\n            throw new Error('Invalid code point')\n        }\n    }\n\n    return bytes\n}\n\nfunction asciiToBytes(str) {\n    var byteArray = []\n    for (var i = 0; i < str.length; ++i) {\n        // Node's code seems to be doing this and not & 0x7F..\n        byteArray.push(str.charCodeAt(i) & 0xff)\n    }\n    return byteArray\n}\n\nfunction utf16leToBytes(str, units) {\n    var c, hi, lo\n    var byteArray = []\n    for (var i = 0; i < str.length; ++i) {\n        if ((units -= 2) < 0) break\n\n        c = str.charCodeAt(i)\n        hi = c >> 8\n        lo = c % 256\n        byteArray.push(lo)\n        byteArray.push(hi)\n    }\n\n    return byteArray\n}\n\nfunction base64ToBytes(str) {\n    return base64toByteArray(base64clean(str))\n}\n\nfunction blitBuffer(src, dst, offset, length) {\n    for (var i = 0; i < length; ++i) {\n        if (i + offset >= dst.length || i >= src.length) break\n        dst[i + offset] = src[i]\n    }\n    return i\n}\n\nfunction isnan(val) {\n    return val !== val // eslint-disable-line no-self-compare\n}\n\n// the following is from is-buffer, also by Feross Aboukhadijeh and with same lisence\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nfunction isBuffer(obj) {\n    return (\n        obj != null &&\n        (!!obj._isBuffer || isFastBuffer(obj) || isSlowBuffer(obj))\n    )\n}\n\nfunction isFastBuffer(obj) {\n    return (\n        !!obj.constructor &&\n        typeof obj.constructor.isBuffer === 'function' &&\n        obj.constructor.isBuffer(obj)\n    )\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer(obj) {\n    return (\n        typeof obj.readFloatLE === 'function' &&\n        typeof obj.slice === 'function' &&\n        isFastBuffer(obj.slice(0, 0))\n    )\n}\n\nfunction ieee754read(buffer, offset, isLE, mLen, nBytes) {\n    var e, m\n    var eLen = nBytes * 8 - mLen - 1\n    var eMax = (1 << eLen) - 1\n    var eBias = eMax >> 1\n    var nBits = -7\n    var i = isLE ? nBytes - 1 : 0\n    var d = isLE ? -1 : 1\n    var s = buffer[offset + i]\n\n    i += d\n\n    e = s & ((1 << -nBits) - 1)\n    s >>= -nBits\n    nBits += eLen\n    for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n    m = e & ((1 << -nBits) - 1)\n    e >>= -nBits\n    nBits += mLen\n    for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n    if (e === 0) {\n        e = 1 - eBias\n    } else if (e === eMax) {\n        return m ? NaN : (s ? -1 : 1) * Infinity\n    } else {\n        m = m + Math.pow(2, mLen)\n        e = e - eBias\n    }\n    return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nfunction ieee754write(buffer, value, offset, isLE, mLen, nBytes) {\n    var e, m, c\n    var eLen = nBytes * 8 - mLen - 1\n    var eMax = (1 << eLen) - 1\n    var eBias = eMax >> 1\n    var rt = mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0\n    var i = isLE ? 0 : nBytes - 1\n    var d = isLE ? 1 : -1\n    var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n    value = Math.abs(value)\n\n    if (isNaN(value) || value === Infinity) {\n        m = isNaN(value) ? 1 : 0\n        e = eMax\n    } else {\n        e = Math.floor(Math.log(value) / Math.LN2)\n        if (value * (c = Math.pow(2, -e)) < 1) {\n            e--\n            c *= 2\n        }\n        if (e + eBias >= 1) {\n            value += rt / c\n        } else {\n            value += rt * Math.pow(2, 1 - eBias)\n        }\n        if (value * c >= 2) {\n            e++\n            c /= 2\n        }\n\n        if (e + eBias >= eMax) {\n            m = 0\n            e = eMax\n        } else if (e + eBias >= 1) {\n            m = (value * c - 1) * Math.pow(2, mLen)\n            e = e + eBias\n        } else {\n            m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n            e = 0\n        }\n    }\n\n    for (\n        ;\n        mLen >= 8;\n        buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8\n    ) {}\n\n    e = (e << mLen) | m\n    eLen += mLen\n    for (\n        ;\n        eLen > 0;\n        buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8\n    ) {}\n\n    buffer[offset + i - d] |= s * 128\n}\n", "export { Buffer } from '_node-buffer-polyfill_.js'\n", "", "// `esbuild` doesn't support returning `watch*` options from `onStart()`\n// plugin callbacks. Instead, we define an empty virtual module that is\n// imported by this injected file. Importing the module registers watchers.\nimport \"wrangler:modules-watch\";\n", "export function getUserAgent() {\n    if (typeof navigator === \"object\" && \"userAgent\" in navigator) {\n        return navigator.userAgent;\n    }\n    if (typeof process === \"object\" && process.version !== undefined) {\n        return `Node.js/${process.version.substr(1)} (${process.platform}; ${process.arch})`;\n    }\n    return \"<environment undetectable>\";\n}\n", "module.exports = register;\n\nfunction register(state, name, method, options) {\n  if (typeof method !== \"function\") {\n    throw new Error(\"method for before hook must be a function\");\n  }\n\n  if (!options) {\n    options = {};\n  }\n\n  if (Array.isArray(name)) {\n    return name.reverse().reduce(function (callback, name) {\n      return register.bind(null, state, name, callback, options);\n    }, method)();\n  }\n\n  return Promise.resolve().then(function () {\n    if (!state.registry[name]) {\n      return method(options);\n    }\n\n    return state.registry[name].reduce(function (method, registered) {\n      return registered.hook.bind(null, method, options);\n    }, method)();\n  });\n}\n", "module.exports = addHook;\n\nfunction addHook(state, kind, name, hook) {\n  var orig = hook;\n  if (!state.registry[name]) {\n    state.registry[name] = [];\n  }\n\n  if (kind === \"before\") {\n    hook = function (method, options) {\n      return Promise.resolve()\n        .then(orig.bind(null, options))\n        .then(method.bind(null, options));\n    };\n  }\n\n  if (kind === \"after\") {\n    hook = function (method, options) {\n      var result;\n      return Promise.resolve()\n        .then(method.bind(null, options))\n        .then(function (result_) {\n          result = result_;\n          return orig(result, options);\n        })\n        .then(function () {\n          return result;\n        });\n    };\n  }\n\n  if (kind === \"error\") {\n    hook = function (method, options) {\n      return Promise.resolve()\n        .then(method.bind(null, options))\n        .catch(function (error) {\n          return orig(error, options);\n        });\n    };\n  }\n\n  state.registry[name].push({\n    hook: hook,\n    orig: orig,\n  });\n}\n", "module.exports = removeHook;\n\nfunction removeHook(state, name, method) {\n  if (!state.registry[name]) {\n    return;\n  }\n\n  var index = state.registry[name]\n    .map(function (registered) {\n      return registered.orig;\n    })\n    .indexOf(method);\n\n  if (index === -1) {\n    return;\n  }\n\n  state.registry[name].splice(index, 1);\n}\n", "var register = require(\"./lib/register\");\nvar addHook = require(\"./lib/add\");\nvar removeHook = require(\"./lib/remove\");\n\n// bind with array of arguments: https://stackoverflow.com/a/21792913\nvar bind = Function.bind;\nvar bindable = bind.bind(bind);\n\nfunction bindApi(hook, state, name) {\n  var removeHookRef = bindable(removeHook, null).apply(\n    null,\n    name ? [state, name] : [state]\n  );\n  hook.api = { remove: removeHookRef };\n  hook.remove = removeHookRef;\n  [\"before\", \"error\", \"after\", \"wrap\"].forEach(function (kind) {\n    var args = name ? [state, kind, name] : [state, kind];\n    hook[kind] = hook.api[kind] = bindable(addHook, null).apply(null, args);\n  });\n}\n\nfunction HookSingular() {\n  var singularHookName = \"h\";\n  var singularHookState = {\n    registry: {},\n  };\n  var singularHook = register.bind(null, singularHookState, singularHookName);\n  bindApi(singularHook, singularHookState, singularHookName);\n  return singularHook;\n}\n\nfunction HookCollection() {\n  var state = {\n    registry: {},\n  };\n\n  var hook = register.bind(null, state);\n  bindApi(hook, state);\n\n  return hook;\n}\n\nvar collectionHookDeprecationMessageDisplayed = false;\nfunction Hook() {\n  if (!collectionHookDeprecationMessageDisplayed) {\n    console.warn(\n      '[before-after-hook]: \"Hook()\" repurposing warning, use \"Hook.Collection()\". Read more: https://git.io/upgrade-before-after-hook-to-1.4'\n    );\n    collectionHookDeprecationMessageDisplayed = true;\n  }\n  return HookCollection();\n}\n\nHook.Singular = HookSingular.bind();\nHook.Collection = HookCollection.bind();\n\nmodule.exports = Hook;\n// expose constructors as a named property for TypeScript\nmodule.exports.Hook = Hook;\nmodule.exports.Singular = Hook.Singular;\nmodule.exports.Collection = Hook.Collection;\n", "// pkg/dist-src/defaults.js\nimport { getUserAgent } from \"universal-user-agent\";\n\n// pkg/dist-src/version.js\nvar VERSION = \"9.0.6\";\n\n// pkg/dist-src/defaults.js\nvar userAgent = `octokit-endpoint.js/${VERSION} ${getUserAgent()}`;\nvar DEFAULTS = {\n  method: \"GET\",\n  baseUrl: \"https://api.github.com\",\n  headers: {\n    accept: \"application/vnd.github.v3+json\",\n    \"user-agent\": userAgent\n  },\n  mediaType: {\n    format: \"\"\n  }\n};\n\n// pkg/dist-src/util/lowercase-keys.js\nfunction lowercaseKeys(object) {\n  if (!object) {\n    return {};\n  }\n  return Object.keys(object).reduce((newObj, key) => {\n    newObj[key.toLowerCase()] = object[key];\n    return newObj;\n  }, {});\n}\n\n// pkg/dist-src/util/is-plain-object.js\nfunction isPlainObject(value) {\n  if (typeof value !== \"object\" || value === null)\n    return false;\n  if (Object.prototype.toString.call(value) !== \"[object Object]\")\n    return false;\n  const proto = Object.getPrototypeOf(value);\n  if (proto === null)\n    return true;\n  const Ctor = Object.prototype.hasOwnProperty.call(proto, \"constructor\") && proto.constructor;\n  return typeof Ctor === \"function\" && Ctor instanceof Ctor && Function.prototype.call(Ctor) === Function.prototype.call(value);\n}\n\n// pkg/dist-src/util/merge-deep.js\nfunction mergeDeep(defaults, options) {\n  const result = Object.assign({}, defaults);\n  Object.keys(options).forEach((key) => {\n    if (isPlainObject(options[key])) {\n      if (!(key in defaults))\n        Object.assign(result, { [key]: options[key] });\n      else\n        result[key] = mergeDeep(defaults[key], options[key]);\n    } else {\n      Object.assign(result, { [key]: options[key] });\n    }\n  });\n  return result;\n}\n\n// pkg/dist-src/util/remove-undefined-properties.js\nfunction removeUndefinedProperties(obj) {\n  for (const key in obj) {\n    if (obj[key] === void 0) {\n      delete obj[key];\n    }\n  }\n  return obj;\n}\n\n// pkg/dist-src/merge.js\nfunction merge(defaults, route, options) {\n  if (typeof route === \"string\") {\n    let [method, url] = route.split(\" \");\n    options = Object.assign(url ? { method, url } : { url: method }, options);\n  } else {\n    options = Object.assign({}, route);\n  }\n  options.headers = lowercaseKeys(options.headers);\n  removeUndefinedProperties(options);\n  removeUndefinedProperties(options.headers);\n  const mergedOptions = mergeDeep(defaults || {}, options);\n  if (options.url === \"/graphql\") {\n    if (defaults && defaults.mediaType.previews?.length) {\n      mergedOptions.mediaType.previews = defaults.mediaType.previews.filter(\n        (preview) => !mergedOptions.mediaType.previews.includes(preview)\n      ).concat(mergedOptions.mediaType.previews);\n    }\n    mergedOptions.mediaType.previews = (mergedOptions.mediaType.previews || []).map((preview) => preview.replace(/-preview/, \"\"));\n  }\n  return mergedOptions;\n}\n\n// pkg/dist-src/util/add-query-parameters.js\nfunction addQueryParameters(url, parameters) {\n  const separator = /\\?/.test(url) ? \"&\" : \"?\";\n  const names = Object.keys(parameters);\n  if (names.length === 0) {\n    return url;\n  }\n  return url + separator + names.map((name) => {\n    if (name === \"q\") {\n      return \"q=\" + parameters.q.split(\"+\").map(encodeURIComponent).join(\"+\");\n    }\n    return `${name}=${encodeURIComponent(parameters[name])}`;\n  }).join(\"&\");\n}\n\n// pkg/dist-src/util/extract-url-variable-names.js\nvar urlVariableRegex = /\\{[^{}}]+\\}/g;\nfunction removeNonChars(variableName) {\n  return variableName.replace(/(?:^\\W+)|(?:(?<!\\W)\\W+$)/g, \"\").split(/,/);\n}\nfunction extractUrlVariableNames(url) {\n  const matches = url.match(urlVariableRegex);\n  if (!matches) {\n    return [];\n  }\n  return matches.map(removeNonChars).reduce((a, b) => a.concat(b), []);\n}\n\n// pkg/dist-src/util/omit.js\nfunction omit(object, keysToOmit) {\n  const result = { __proto__: null };\n  for (const key of Object.keys(object)) {\n    if (keysToOmit.indexOf(key) === -1) {\n      result[key] = object[key];\n    }\n  }\n  return result;\n}\n\n// pkg/dist-src/util/url-template.js\nfunction encodeReserved(str) {\n  return str.split(/(%[0-9A-Fa-f]{2})/g).map(function(part) {\n    if (!/%[0-9A-Fa-f]/.test(part)) {\n      part = encodeURI(part).replace(/%5B/g, \"[\").replace(/%5D/g, \"]\");\n    }\n    return part;\n  }).join(\"\");\n}\nfunction encodeUnreserved(str) {\n  return encodeURIComponent(str).replace(/[!'()*]/g, function(c) {\n    return \"%\" + c.charCodeAt(0).toString(16).toUpperCase();\n  });\n}\nfunction encodeValue(operator, value, key) {\n  value = operator === \"+\" || operator === \"#\" ? encodeReserved(value) : encodeUnreserved(value);\n  if (key) {\n    return encodeUnreserved(key) + \"=\" + value;\n  } else {\n    return value;\n  }\n}\nfunction isDefined(value) {\n  return value !== void 0 && value !== null;\n}\nfunction isKeyOperator(operator) {\n  return operator === \";\" || operator === \"&\" || operator === \"?\";\n}\nfunction getValues(context, operator, key, modifier) {\n  var value = context[key], result = [];\n  if (isDefined(value) && value !== \"\") {\n    if (typeof value === \"string\" || typeof value === \"number\" || typeof value === \"boolean\") {\n      value = value.toString();\n      if (modifier && modifier !== \"*\") {\n        value = value.substring(0, parseInt(modifier, 10));\n      }\n      result.push(\n        encodeValue(operator, value, isKeyOperator(operator) ? key : \"\")\n      );\n    } else {\n      if (modifier === \"*\") {\n        if (Array.isArray(value)) {\n          value.filter(isDefined).forEach(function(value2) {\n            result.push(\n              encodeValue(operator, value2, isKeyOperator(operator) ? key : \"\")\n            );\n          });\n        } else {\n          Object.keys(value).forEach(function(k) {\n            if (isDefined(value[k])) {\n              result.push(encodeValue(operator, value[k], k));\n            }\n          });\n        }\n      } else {\n        const tmp = [];\n        if (Array.isArray(value)) {\n          value.filter(isDefined).forEach(function(value2) {\n            tmp.push(encodeValue(operator, value2));\n          });\n        } else {\n          Object.keys(value).forEach(function(k) {\n            if (isDefined(value[k])) {\n              tmp.push(encodeUnreserved(k));\n              tmp.push(encodeValue(operator, value[k].toString()));\n            }\n          });\n        }\n        if (isKeyOperator(operator)) {\n          result.push(encodeUnreserved(key) + \"=\" + tmp.join(\",\"));\n        } else if (tmp.length !== 0) {\n          result.push(tmp.join(\",\"));\n        }\n      }\n    }\n  } else {\n    if (operator === \";\") {\n      if (isDefined(value)) {\n        result.push(encodeUnreserved(key));\n      }\n    } else if (value === \"\" && (operator === \"&\" || operator === \"?\")) {\n      result.push(encodeUnreserved(key) + \"=\");\n    } else if (value === \"\") {\n      result.push(\"\");\n    }\n  }\n  return result;\n}\nfunction parseUrl(template) {\n  return {\n    expand: expand.bind(null, template)\n  };\n}\nfunction expand(template, context) {\n  var operators = [\"+\", \"#\", \".\", \"/\", \";\", \"?\", \"&\"];\n  template = template.replace(\n    /\\{([^\\{\\}]+)\\}|([^\\{\\}]+)/g,\n    function(_, expression, literal) {\n      if (expression) {\n        let operator = \"\";\n        const values = [];\n        if (operators.indexOf(expression.charAt(0)) !== -1) {\n          operator = expression.charAt(0);\n          expression = expression.substr(1);\n        }\n        expression.split(/,/g).forEach(function(variable) {\n          var tmp = /([^:\\*]*)(?::(\\d+)|(\\*))?/.exec(variable);\n          values.push(getValues(context, operator, tmp[1], tmp[2] || tmp[3]));\n        });\n        if (operator && operator !== \"+\") {\n          var separator = \",\";\n          if (operator === \"?\") {\n            separator = \"&\";\n          } else if (operator !== \"#\") {\n            separator = operator;\n          }\n          return (values.length !== 0 ? operator : \"\") + values.join(separator);\n        } else {\n          return values.join(\",\");\n        }\n      } else {\n        return encodeReserved(literal);\n      }\n    }\n  );\n  if (template === \"/\") {\n    return template;\n  } else {\n    return template.replace(/\\/$/, \"\");\n  }\n}\n\n// pkg/dist-src/parse.js\nfunction parse(options) {\n  let method = options.method.toUpperCase();\n  let url = (options.url || \"/\").replace(/:([a-z]\\w+)/g, \"{$1}\");\n  let headers = Object.assign({}, options.headers);\n  let body;\n  let parameters = omit(options, [\n    \"method\",\n    \"baseUrl\",\n    \"url\",\n    \"headers\",\n    \"request\",\n    \"mediaType\"\n  ]);\n  const urlVariableNames = extractUrlVariableNames(url);\n  url = parseUrl(url).expand(parameters);\n  if (!/^http/.test(url)) {\n    url = options.baseUrl + url;\n  }\n  const omittedParameters = Object.keys(options).filter((option) => urlVariableNames.includes(option)).concat(\"baseUrl\");\n  const remainingParameters = omit(parameters, omittedParameters);\n  const isBinaryRequest = /application\\/octet-stream/i.test(headers.accept);\n  if (!isBinaryRequest) {\n    if (options.mediaType.format) {\n      headers.accept = headers.accept.split(/,/).map(\n        (format) => format.replace(\n          /application\\/vnd(\\.\\w+)(\\.v3)?(\\.\\w+)?(\\+json)?$/,\n          `application/vnd$1$2.${options.mediaType.format}`\n        )\n      ).join(\",\");\n    }\n    if (url.endsWith(\"/graphql\")) {\n      if (options.mediaType.previews?.length) {\n        const previewsFromAcceptHeader = headers.accept.match(/(?<![\\w-])[\\w-]+(?=-preview)/g) || [];\n        headers.accept = previewsFromAcceptHeader.concat(options.mediaType.previews).map((preview) => {\n          const format = options.mediaType.format ? `.${options.mediaType.format}` : \"+json\";\n          return `application/vnd.github.${preview}-preview${format}`;\n        }).join(\",\");\n      }\n    }\n  }\n  if ([\"GET\", \"HEAD\"].includes(method)) {\n    url = addQueryParameters(url, remainingParameters);\n  } else {\n    if (\"data\" in remainingParameters) {\n      body = remainingParameters.data;\n    } else {\n      if (Object.keys(remainingParameters).length) {\n        body = remainingParameters;\n      }\n    }\n  }\n  if (!headers[\"content-type\"] && typeof body !== \"undefined\") {\n    headers[\"content-type\"] = \"application/json; charset=utf-8\";\n  }\n  if ([\"PATCH\", \"PUT\"].includes(method) && typeof body === \"undefined\") {\n    body = \"\";\n  }\n  return Object.assign(\n    { method, url, headers },\n    typeof body !== \"undefined\" ? { body } : null,\n    options.request ? { request: options.request } : null\n  );\n}\n\n// pkg/dist-src/endpoint-with-defaults.js\nfunction endpointWithDefaults(defaults, route, options) {\n  return parse(merge(defaults, route, options));\n}\n\n// pkg/dist-src/with-defaults.js\nfunction withDefaults(oldDefaults, newDefaults) {\n  const DEFAULTS2 = merge(oldDefaults, newDefaults);\n  const endpoint2 = endpointWithDefaults.bind(null, DEFAULTS2);\n  return Object.assign(endpoint2, {\n    DEFAULTS: DEFAULTS2,\n    defaults: withDefaults.bind(null, DEFAULTS2),\n    merge: merge.bind(null, DEFAULTS2),\n    parse\n  });\n}\n\n// pkg/dist-src/index.js\nvar endpoint = withDefaults(null, DEFAULTS);\nexport {\n  endpoint\n};\n", "'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nclass Deprecation extends Error {\n  constructor(message) {\n    super(message); // Maintains proper stack trace (only available on V8)\n\n    /* istanbul ignore next */\n\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, this.constructor);\n    }\n\n    this.name = 'Deprecation';\n  }\n\n}\n\nexports.Deprecation = Deprecation;\n", "// Returns a wrapper function that returns a wrapped callback\n// The wrapper function should do some stuff, and return a\n// presumably different callback function.\n// This makes sure that own properties are retained, so that\n// decorations and such are not lost along the way.\nmodule.exports = wrappy\nfunction wrappy (fn, cb) {\n  if (fn && cb) return wrappy(fn)(cb)\n\n  if (typeof fn !== 'function')\n    throw new TypeError('need wrapper function')\n\n  Object.keys(fn).forEach(function (k) {\n    wrapper[k] = fn[k]\n  })\n\n  return wrapper\n\n  function wrapper() {\n    var args = new Array(arguments.length)\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i]\n    }\n    var ret = fn.apply(this, args)\n    var cb = args[args.length-1]\n    if (typeof ret === 'function' && ret !== cb) {\n      Object.keys(cb).forEach(function (k) {\n        ret[k] = cb[k]\n      })\n    }\n    return ret\n  }\n}\n", "var wrappy = require('wrappy')\nmodule.exports = wrappy(once)\nmodule.exports.strict = wrappy(onceStrict)\n\nonce.proto = once(function () {\n  Object.defineProperty(Function.prototype, 'once', {\n    value: function () {\n      return once(this)\n    },\n    configurable: true\n  })\n\n  Object.defineProperty(Function.prototype, 'onceStrict', {\n    value: function () {\n      return onceStrict(this)\n    },\n    configurable: true\n  })\n})\n\nfunction once (fn) {\n  var f = function () {\n    if (f.called) return f.value\n    f.called = true\n    return f.value = fn.apply(this, arguments)\n  }\n  f.called = false\n  return f\n}\n\nfunction onceStrict (fn) {\n  var f = function () {\n    if (f.called)\n      throw new Error(f.onceError)\n    f.called = true\n    return f.value = fn.apply(this, arguments)\n  }\n  var name = fn.name || 'Function wrapped with `once`'\n  f.onceError = name + \" shouldn't be called more than once\"\n  f.called = false\n  return f\n}\n", "// pkg/dist-src/index.js\nimport { Deprecation } from \"deprecation\";\nimport once from \"once\";\nvar logOnceCode = once((deprecation) => console.warn(deprecation));\nvar logOnceHeaders = once((deprecation) => console.warn(deprecation));\nvar RequestError = class extends Error {\n  constructor(message, statusCode, options) {\n    super(message);\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, this.constructor);\n    }\n    this.name = \"HttpError\";\n    this.status = statusCode;\n    let headers;\n    if (\"headers\" in options && typeof options.headers !== \"undefined\") {\n      headers = options.headers;\n    }\n    if (\"response\" in options) {\n      this.response = options.response;\n      headers = options.response.headers;\n    }\n    const requestCopy = Object.assign({}, options.request);\n    if (options.request.headers.authorization) {\n      requestCopy.headers = Object.assign({}, options.request.headers, {\n        authorization: options.request.headers.authorization.replace(\n          /(?<! ) .*$/,\n          \" [REDACTED]\"\n        )\n      });\n    }\n    requestCopy.url = requestCopy.url.replace(/\\bclient_secret=\\w+/g, \"client_secret=[REDACTED]\").replace(/\\baccess_token=\\w+/g, \"access_token=[REDACTED]\");\n    this.request = requestCopy;\n    Object.defineProperty(this, \"code\", {\n      get() {\n        logOnceCode(\n          new Deprecation(\n            \"[@octokit/request-error] `error.code` is deprecated, use `error.status`.\"\n          )\n        );\n        return statusCode;\n      }\n    });\n    Object.defineProperty(this, \"headers\", {\n      get() {\n        logOnceHeaders(\n          new Deprecation(\n            \"[@octokit/request-error] `error.headers` is deprecated, use `error.response.headers`.\"\n          )\n        );\n        return headers || {};\n      }\n    });\n  }\n};\nexport {\n  RequestError\n};\n", "// pkg/dist-src/index.js\nimport { endpoint } from \"@octokit/endpoint\";\nimport { getUserAgent } from \"universal-user-agent\";\n\n// pkg/dist-src/version.js\nvar VERSION = \"8.4.1\";\n\n// pkg/dist-src/is-plain-object.js\nfunction isPlainObject(value) {\n  if (typeof value !== \"object\" || value === null)\n    return false;\n  if (Object.prototype.toString.call(value) !== \"[object Object]\")\n    return false;\n  const proto = Object.getPrototypeOf(value);\n  if (proto === null)\n    return true;\n  const Ctor = Object.prototype.hasOwnProperty.call(proto, \"constructor\") && proto.constructor;\n  return typeof Ctor === \"function\" && Ctor instanceof Ctor && Function.prototype.call(Ctor) === Function.prototype.call(value);\n}\n\n// pkg/dist-src/fetch-wrapper.js\nimport { RequestError } from \"@octokit/request-error\";\n\n// pkg/dist-src/get-buffer-response.js\nfunction getBufferResponse(response) {\n  return response.arrayBuffer();\n}\n\n// pkg/dist-src/fetch-wrapper.js\nfunction fetchWrapper(requestOptions) {\n  const log = requestOptions.request && requestOptions.request.log ? requestOptions.request.log : console;\n  const parseSuccessResponseBody = requestOptions.request?.parseSuccessResponseBody !== false;\n  if (isPlainObject(requestOptions.body) || Array.isArray(requestOptions.body)) {\n    requestOptions.body = JSON.stringify(requestOptions.body);\n  }\n  let headers = {};\n  let status;\n  let url;\n  let { fetch } = globalThis;\n  if (requestOptions.request?.fetch) {\n    fetch = requestOptions.request.fetch;\n  }\n  if (!fetch) {\n    throw new Error(\n      \"fetch is not set. Please pass a fetch implementation as new Octokit({ request: { fetch }}). Learn more at https://github.com/octokit/octokit.js/#fetch-missing\"\n    );\n  }\n  return fetch(requestOptions.url, {\n    method: requestOptions.method,\n    body: requestOptions.body,\n    redirect: requestOptions.request?.redirect,\n    headers: requestOptions.headers,\n    signal: requestOptions.request?.signal,\n    // duplex must be set if request.body is ReadableStream or Async Iterables.\n    // See https://fetch.spec.whatwg.org/#dom-requestinit-duplex.\n    ...requestOptions.body && { duplex: \"half\" }\n  }).then(async (response) => {\n    url = response.url;\n    status = response.status;\n    for (const keyAndValue of response.headers) {\n      headers[keyAndValue[0]] = keyAndValue[1];\n    }\n    if (\"deprecation\" in headers) {\n      const matches = headers.link && headers.link.match(/<([^<>]+)>; rel=\"deprecation\"/);\n      const deprecationLink = matches && matches.pop();\n      log.warn(\n        `[@octokit/request] \"${requestOptions.method} ${requestOptions.url}\" is deprecated. It is scheduled to be removed on ${headers.sunset}${deprecationLink ? `. See ${deprecationLink}` : \"\"}`\n      );\n    }\n    if (status === 204 || status === 205) {\n      return;\n    }\n    if (requestOptions.method === \"HEAD\") {\n      if (status < 400) {\n        return;\n      }\n      throw new RequestError(response.statusText, status, {\n        response: {\n          url,\n          status,\n          headers,\n          data: void 0\n        },\n        request: requestOptions\n      });\n    }\n    if (status === 304) {\n      throw new RequestError(\"Not modified\", status, {\n        response: {\n          url,\n          status,\n          headers,\n          data: await getResponseData(response)\n        },\n        request: requestOptions\n      });\n    }\n    if (status >= 400) {\n      const data = await getResponseData(response);\n      const error = new RequestError(toErrorMessage(data), status, {\n        response: {\n          url,\n          status,\n          headers,\n          data\n        },\n        request: requestOptions\n      });\n      throw error;\n    }\n    return parseSuccessResponseBody ? await getResponseData(response) : response.body;\n  }).then((data) => {\n    return {\n      status,\n      url,\n      headers,\n      data\n    };\n  }).catch((error) => {\n    if (error instanceof RequestError)\n      throw error;\n    else if (error.name === \"AbortError\")\n      throw error;\n    let message = error.message;\n    if (error.name === \"TypeError\" && \"cause\" in error) {\n      if (error.cause instanceof Error) {\n        message = error.cause.message;\n      } else if (typeof error.cause === \"string\") {\n        message = error.cause;\n      }\n    }\n    throw new RequestError(message, 500, {\n      request: requestOptions\n    });\n  });\n}\nasync function getResponseData(response) {\n  const contentType = response.headers.get(\"content-type\");\n  if (/application\\/json/.test(contentType)) {\n    return response.json().catch(() => response.text()).catch(() => \"\");\n  }\n  if (!contentType || /^text\\/|charset=utf-8$/.test(contentType)) {\n    return response.text();\n  }\n  return getBufferResponse(response);\n}\nfunction toErrorMessage(data) {\n  if (typeof data === \"string\")\n    return data;\n  let suffix;\n  if (\"documentation_url\" in data) {\n    suffix = ` - ${data.documentation_url}`;\n  } else {\n    suffix = \"\";\n  }\n  if (\"message\" in data) {\n    if (Array.isArray(data.errors)) {\n      return `${data.message}: ${data.errors.map(JSON.stringify).join(\", \")}${suffix}`;\n    }\n    return `${data.message}${suffix}`;\n  }\n  return `Unknown error: ${JSON.stringify(data)}`;\n}\n\n// pkg/dist-src/with-defaults.js\nfunction withDefaults(oldEndpoint, newDefaults) {\n  const endpoint2 = oldEndpoint.defaults(newDefaults);\n  const newApi = function(route, parameters) {\n    const endpointOptions = endpoint2.merge(route, parameters);\n    if (!endpointOptions.request || !endpointOptions.request.hook) {\n      return fetchWrapper(endpoint2.parse(endpointOptions));\n    }\n    const request2 = (route2, parameters2) => {\n      return fetchWrapper(\n        endpoint2.parse(endpoint2.merge(route2, parameters2))\n      );\n    };\n    Object.assign(request2, {\n      endpoint: endpoint2,\n      defaults: withDefaults.bind(null, endpoint2)\n    });\n    return endpointOptions.request.hook(request2, endpointOptions);\n  };\n  return Object.assign(newApi, {\n    endpoint: endpoint2,\n    defaults: withDefaults.bind(null, endpoint2)\n  });\n}\n\n// pkg/dist-src/index.js\nvar request = withDefaults(endpoint, {\n  headers: {\n    \"user-agent\": `octokit-request.js/${VERSION} ${getUserAgent()}`\n  }\n});\nexport {\n  request\n};\n", "\"use strict\";\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\n\n// pkg/dist-src/index.js\nvar index_exports = {};\n__export(index_exports, {\n  GraphqlResponseError: () => GraphqlResponseError,\n  graphql: () => graphql2,\n  withCustomRequest: () => withCustomRequest\n});\nmodule.exports = __toCommonJS(index_exports);\nvar import_request3 = require(\"@octokit/request\");\nvar import_universal_user_agent = require(\"universal-user-agent\");\n\n// pkg/dist-src/version.js\nvar VERSION = \"7.1.1\";\n\n// pkg/dist-src/with-defaults.js\nvar import_request2 = require(\"@octokit/request\");\n\n// pkg/dist-src/graphql.js\nvar import_request = require(\"@octokit/request\");\n\n// pkg/dist-src/error.js\nfunction _buildMessageForResponseErrors(data) {\n  return `Request failed due to following response errors:\n` + data.errors.map((e) => ` - ${e.message}`).join(\"\\n\");\n}\nvar GraphqlResponseError = class extends Error {\n  constructor(request2, headers, response) {\n    super(_buildMessageForResponseErrors(response));\n    this.request = request2;\n    this.headers = headers;\n    this.response = response;\n    this.name = \"GraphqlResponseError\";\n    this.errors = response.errors;\n    this.data = response.data;\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, this.constructor);\n    }\n  }\n};\n\n// pkg/dist-src/graphql.js\nvar NON_VARIABLE_OPTIONS = [\n  \"method\",\n  \"baseUrl\",\n  \"url\",\n  \"headers\",\n  \"request\",\n  \"query\",\n  \"mediaType\"\n];\nvar FORBIDDEN_VARIABLE_OPTIONS = [\"query\", \"method\", \"url\"];\nvar GHES_V3_SUFFIX_REGEX = /\\/api\\/v3\\/?$/;\nfunction graphql(request2, query, options) {\n  if (options) {\n    if (typeof query === \"string\" && \"query\" in options) {\n      return Promise.reject(\n        new Error(`[@octokit/graphql] \"query\" cannot be used as variable name`)\n      );\n    }\n    for (const key in options) {\n      if (!FORBIDDEN_VARIABLE_OPTIONS.includes(key)) continue;\n      return Promise.reject(\n        new Error(\n          `[@octokit/graphql] \"${key}\" cannot be used as variable name`\n        )\n      );\n    }\n  }\n  const parsedOptions = typeof query === \"string\" ? Object.assign({ query }, options) : query;\n  const requestOptions = Object.keys(\n    parsedOptions\n  ).reduce((result, key) => {\n    if (NON_VARIABLE_OPTIONS.includes(key)) {\n      result[key] = parsedOptions[key];\n      return result;\n    }\n    if (!result.variables) {\n      result.variables = {};\n    }\n    result.variables[key] = parsedOptions[key];\n    return result;\n  }, {});\n  const baseUrl = parsedOptions.baseUrl || request2.endpoint.DEFAULTS.baseUrl;\n  if (GHES_V3_SUFFIX_REGEX.test(baseUrl)) {\n    requestOptions.url = baseUrl.replace(GHES_V3_SUFFIX_REGEX, \"/api/graphql\");\n  }\n  return request2(requestOptions).then((response) => {\n    if (response.data.errors) {\n      const headers = {};\n      for (const key of Object.keys(response.headers)) {\n        headers[key] = response.headers[key];\n      }\n      throw new GraphqlResponseError(\n        requestOptions,\n        headers,\n        response.data\n      );\n    }\n    return response.data.data;\n  });\n}\n\n// pkg/dist-src/with-defaults.js\nfunction withDefaults(request2, newDefaults) {\n  const newRequest = request2.defaults(newDefaults);\n  const newApi = (query, options) => {\n    return graphql(newRequest, query, options);\n  };\n  return Object.assign(newApi, {\n    defaults: withDefaults.bind(null, newRequest),\n    endpoint: newRequest.endpoint\n  });\n}\n\n// pkg/dist-src/index.js\nvar graphql2 = withDefaults(import_request3.request, {\n  headers: {\n    \"user-agent\": `octokit-graphql.js/${VERSION} ${(0, import_universal_user_agent.getUserAgent)()}`\n  },\n  method: \"POST\",\n  url: \"/graphql\"\n});\nfunction withCustomRequest(customRequest) {\n  return withDefaults(customRequest, {\n    method: \"POST\",\n    url: \"/graphql\"\n  });\n}\n// Annotate the CommonJS export names for ESM import in node:\n0 && (module.exports = {\n  GraphqlResponseError,\n  graphql,\n  withCustomRequest\n});\n", "// pkg/dist-src/auth.js\nvar REGEX_IS_INSTALLATION_LEGACY = /^v1\\./;\nvar REGEX_IS_INSTALLATION = /^ghs_/;\nvar REGEX_IS_USER_TO_SERVER = /^ghu_/;\nasync function auth(token) {\n  const isApp = token.split(/\\./).length === 3;\n  const isInstallation = REGEX_IS_INSTALLATION_LEGACY.test(token) || REGEX_IS_INSTALLATION.test(token);\n  const isUserToServer = REGEX_IS_USER_TO_SERVER.test(token);\n  const tokenType = isApp ? \"app\" : isInstallation ? \"installation\" : isUserToServer ? \"user-to-server\" : \"oauth\";\n  return {\n    type: \"token\",\n    token,\n    tokenType\n  };\n}\n\n// pkg/dist-src/with-authorization-prefix.js\nfunction withAuthorizationPrefix(token) {\n  if (token.split(/\\./).length === 3) {\n    return `bearer ${token}`;\n  }\n  return `token ${token}`;\n}\n\n// pkg/dist-src/hook.js\nasync function hook(token, request, route, parameters) {\n  const endpoint = request.endpoint.merge(\n    route,\n    parameters\n  );\n  endpoint.headers.authorization = withAuthorizationPrefix(token);\n  return request(endpoint);\n}\n\n// pkg/dist-src/index.js\nvar createTokenAuth = function createTokenAuth2(token) {\n  if (!token) {\n    throw new Error(\"[@octokit/auth-token] No token passed to createTokenAuth\");\n  }\n  if (typeof token !== \"string\") {\n    throw new Error(\n      \"[@octokit/auth-token] Token passed to createTokenAuth is not a string\"\n    );\n  }\n  token = token.replace(/^(token|bearer) +/i, \"\");\n  return Object.assign(auth.bind(null, token), {\n    hook: hook.bind(null, token)\n  });\n};\nexport {\n  createTokenAuth\n};\n", "\"use strict\";\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\n\n// pkg/dist-src/index.js\nvar index_exports = {};\n__export(index_exports, {\n  Octokit: () => Octokit\n});\nmodule.exports = __toCommonJS(index_exports);\nvar import_universal_user_agent = require(\"universal-user-agent\");\nvar import_before_after_hook = require(\"before-after-hook\");\nvar import_request = require(\"@octokit/request\");\nvar import_graphql = require(\"@octokit/graphql\");\nvar import_auth_token = require(\"@octokit/auth-token\");\n\n// pkg/dist-src/version.js\nvar VERSION = \"5.2.2\";\n\n// pkg/dist-src/index.js\nvar noop = () => {\n};\nvar consoleWarn = console.warn.bind(console);\nvar consoleError = console.error.bind(console);\nfunction createLogger(logger = {}) {\n  if (typeof logger.debug !== \"function\") {\n    logger.debug = noop;\n  }\n  if (typeof logger.info !== \"function\") {\n    logger.info = noop;\n  }\n  if (typeof logger.warn !== \"function\") {\n    logger.warn = consoleWarn;\n  }\n  if (typeof logger.error !== \"function\") {\n    logger.error = consoleError;\n  }\n  return logger;\n}\nvar userAgentTrail = `octokit-core.js/${VERSION} ${(0, import_universal_user_agent.getUserAgent)()}`;\nvar Octokit = class {\n  static {\n    this.VERSION = VERSION;\n  }\n  static defaults(defaults) {\n    const OctokitWithDefaults = class extends this {\n      constructor(...args) {\n        const options = args[0] || {};\n        if (typeof defaults === \"function\") {\n          super(defaults(options));\n          return;\n        }\n        super(\n          Object.assign(\n            {},\n            defaults,\n            options,\n            options.userAgent && defaults.userAgent ? {\n              userAgent: `${options.userAgent} ${defaults.userAgent}`\n            } : null\n          )\n        );\n      }\n    };\n    return OctokitWithDefaults;\n  }\n  static {\n    this.plugins = [];\n  }\n  /**\n   * Attach a plugin (or many) to your Octokit instance.\n   *\n   * @example\n   * const API = Octokit.plugin(plugin1, plugin2, plugin3, ...)\n   */\n  static plugin(...newPlugins) {\n    const currentPlugins = this.plugins;\n    const NewOctokit = class extends this {\n      static {\n        this.plugins = currentPlugins.concat(\n          newPlugins.filter((plugin) => !currentPlugins.includes(plugin))\n        );\n      }\n    };\n    return NewOctokit;\n  }\n  constructor(options = {}) {\n    const hook = new import_before_after_hook.Collection();\n    const requestDefaults = {\n      baseUrl: import_request.request.endpoint.DEFAULTS.baseUrl,\n      headers: {},\n      request: Object.assign({}, options.request, {\n        // @ts-ignore internal usage only, no need to type\n        hook: hook.bind(null, \"request\")\n      }),\n      mediaType: {\n        previews: [],\n        format: \"\"\n      }\n    };\n    requestDefaults.headers[\"user-agent\"] = options.userAgent ? `${options.userAgent} ${userAgentTrail}` : userAgentTrail;\n    if (options.baseUrl) {\n      requestDefaults.baseUrl = options.baseUrl;\n    }\n    if (options.previews) {\n      requestDefaults.mediaType.previews = options.previews;\n    }\n    if (options.timeZone) {\n      requestDefaults.headers[\"time-zone\"] = options.timeZone;\n    }\n    this.request = import_request.request.defaults(requestDefaults);\n    this.graphql = (0, import_graphql.withCustomRequest)(this.request).defaults(requestDefaults);\n    this.log = createLogger(options.log);\n    this.hook = hook;\n    if (!options.authStrategy) {\n      if (!options.auth) {\n        this.auth = async () => ({\n          type: \"unauthenticated\"\n        });\n      } else {\n        const auth = (0, import_auth_token.createTokenAuth)(options.auth);\n        hook.wrap(\"request\", auth.hook);\n        this.auth = auth;\n      }\n    } else {\n      const { authStrategy, ...otherOptions } = options;\n      const auth = authStrategy(\n        Object.assign(\n          {\n            request: this.request,\n            log: this.log,\n            // we pass the current octokit instance as well as its constructor options\n            // to allow for authentication strategies that return a new octokit instance\n            // that shares the same internal state as the current one. The original\n            // requirement for this was the \"event-octokit\" authentication strategy\n            // of https://github.com/probot/octokit-auth-probot.\n            octokit: this,\n            octokitOptions: otherOptions\n          },\n          options.auth\n        )\n      );\n      hook.wrap(\"request\", auth.hook);\n      this.auth = auth;\n    }\n    const classConstructor = this.constructor;\n    for (let i = 0; i < classConstructor.plugins.length; ++i) {\n      Object.assign(this, classConstructor.plugins[i](this, options));\n    }\n  }\n};\n// Annotate the CommonJS export names for ESM import in node:\n0 && (module.exports = {\n  Octokit\n});\n", "module.exports = function _btoa(str) {\n  return btoa(str)\n}\n", "// pkg/dist-src/index.js\nfunction oauthAuthorizationUrl(options) {\n  const clientType = options.clientType || \"oauth-app\";\n  const baseUrl = options.baseUrl || \"https://github.com\";\n  const result = {\n    clientType,\n    allowSignup: options.allowSignup === false ? false : true,\n    clientId: options.clientId,\n    login: options.login || null,\n    redirectUrl: options.redirectUrl || null,\n    state: options.state || Math.random().toString(36).substr(2),\n    url: \"\"\n  };\n  if (clientType === \"oauth-app\") {\n    const scopes = \"scopes\" in options ? options.scopes : [];\n    result.scopes = typeof scopes === \"string\" ? scopes.split(/[,\\s]+/).filter(Boolean) : scopes;\n  }\n  result.url = urlBuilderAuthorize(`${baseUrl}/login/oauth/authorize`, result);\n  return result;\n}\nfunction urlBuilderAuthorize(base, options) {\n  const map = {\n    allowSignup: \"allow_signup\",\n    clientId: \"client_id\",\n    login: \"login\",\n    redirectUrl: \"redirect_uri\",\n    scopes: \"scope\",\n    state: \"state\"\n  };\n  let url = base;\n  Object.keys(map).filter((k) => options[k] !== null).filter((k) => {\n    if (k !== \"scopes\")\n      return true;\n    if (options.clientType === \"github-app\")\n      return false;\n    return !Array.isArray(options[k]) || options[k].length > 0;\n  }).map((key) => [map[key], `${options[key]}`]).forEach(([key, value], index) => {\n    url += index === 0 ? `?` : \"&\";\n    url += `${key}=${encodeURIComponent(value)}`;\n  });\n  return url;\n}\nexport {\n  oauthAuthorizationUrl\n};\n", "\"use strict\";\nvar __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(\n  // If the importer is in node compatibility mode or this is not an ESM\n  // file that has been converted to a CommonJS file using a Babel-\n  // compatible transform (i.e. \"__esModule\" has not been set), then set\n  // \"default\" to the CommonJS \"module.exports\" for node compatibility.\n  isNodeMode || !mod || !mod.__esModule ? __defProp(target, \"default\", { value: mod, enumerable: true }) : target,\n  mod\n));\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\n\n// pkg/dist-src/index.js\nvar dist_src_exports = {};\n__export(dist_src_exports, {\n  VERSION: () => VERSION,\n  checkToken: () => checkToken,\n  createDeviceCode: () => createDeviceCode,\n  deleteAuthorization: () => deleteAuthorization,\n  deleteToken: () => deleteToken,\n  exchangeDeviceCode: () => exchangeDeviceCode,\n  exchangeWebFlowCode: () => exchangeWebFlowCode,\n  getWebFlowAuthorizationUrl: () => getWebFlowAuthorizationUrl,\n  refreshToken: () => refreshToken,\n  resetToken: () => resetToken,\n  scopeToken: () => scopeToken\n});\nmodule.exports = __toCommonJS(dist_src_exports);\n\n// pkg/dist-src/version.js\nvar VERSION = \"4.1.0\";\n\n// pkg/dist-src/get-web-flow-authorization-url.js\nvar import_oauth_authorization_url = require(\"@octokit/oauth-authorization-url\");\nvar import_request = require(\"@octokit/request\");\n\n// pkg/dist-src/utils.js\nvar import_request_error = require(\"@octokit/request-error\");\nfunction requestToOAuthBaseUrl(request) {\n  const endpointDefaults = request.endpoint.DEFAULTS;\n  return /^https:\\/\\/(api\\.)?github\\.com$/.test(endpointDefaults.baseUrl) ? \"https://github.com\" : endpointDefaults.baseUrl.replace(\"/api/v3\", \"\");\n}\nasync function oauthRequest(request, route, parameters) {\n  const withOAuthParameters = {\n    baseUrl: requestToOAuthBaseUrl(request),\n    headers: {\n      accept: \"application/json\"\n    },\n    ...parameters\n  };\n  const response = await request(route, withOAuthParameters);\n  if (\"error\" in response.data) {\n    const error = new import_request_error.RequestError(\n      `${response.data.error_description} (${response.data.error}, ${response.data.error_uri})`,\n      400,\n      {\n        request: request.endpoint.merge(\n          route,\n          withOAuthParameters\n        ),\n        headers: response.headers\n      }\n    );\n    error.response = response;\n    throw error;\n  }\n  return response;\n}\n\n// pkg/dist-src/get-web-flow-authorization-url.js\nfunction getWebFlowAuthorizationUrl({\n  request = import_request.request,\n  ...options\n}) {\n  const baseUrl = requestToOAuthBaseUrl(request);\n  return (0, import_oauth_authorization_url.oauthAuthorizationUrl)({\n    ...options,\n    baseUrl\n  });\n}\n\n// pkg/dist-src/exchange-web-flow-code.js\nvar import_request2 = require(\"@octokit/request\");\nasync function exchangeWebFlowCode(options) {\n  const request = options.request || /* istanbul ignore next: we always pass a custom request in tests */\n  import_request2.request;\n  const response = await oauthRequest(\n    request,\n    \"POST /login/oauth/access_token\",\n    {\n      client_id: options.clientId,\n      client_secret: options.clientSecret,\n      code: options.code,\n      redirect_uri: options.redirectUrl\n    }\n  );\n  const authentication = {\n    clientType: options.clientType,\n    clientId: options.clientId,\n    clientSecret: options.clientSecret,\n    token: response.data.access_token,\n    scopes: response.data.scope.split(/\\s+/).filter(Boolean)\n  };\n  if (options.clientType === \"github-app\") {\n    if (\"refresh_token\" in response.data) {\n      const apiTimeInMs = new Date(response.headers.date).getTime();\n      authentication.refreshToken = response.data.refresh_token, authentication.expiresAt = toTimestamp(\n        apiTimeInMs,\n        response.data.expires_in\n      ), authentication.refreshTokenExpiresAt = toTimestamp(\n        apiTimeInMs,\n        response.data.refresh_token_expires_in\n      );\n    }\n    delete authentication.scopes;\n  }\n  return { ...response, authentication };\n}\nfunction toTimestamp(apiTimeInMs, expirationInSeconds) {\n  return new Date(apiTimeInMs + expirationInSeconds * 1e3).toISOString();\n}\n\n// pkg/dist-src/create-device-code.js\nvar import_request3 = require(\"@octokit/request\");\nasync function createDeviceCode(options) {\n  const request = options.request || /* istanbul ignore next: we always pass a custom request in tests */\n  import_request3.request;\n  const parameters = {\n    client_id: options.clientId\n  };\n  if (\"scopes\" in options && Array.isArray(options.scopes)) {\n    parameters.scope = options.scopes.join(\" \");\n  }\n  return oauthRequest(request, \"POST /login/device/code\", parameters);\n}\n\n// pkg/dist-src/exchange-device-code.js\nvar import_request4 = require(\"@octokit/request\");\nasync function exchangeDeviceCode(options) {\n  const request = options.request || /* istanbul ignore next: we always pass a custom request in tests */\n  import_request4.request;\n  const response = await oauthRequest(\n    request,\n    \"POST /login/oauth/access_token\",\n    {\n      client_id: options.clientId,\n      device_code: options.code,\n      grant_type: \"urn:ietf:params:oauth:grant-type:device_code\"\n    }\n  );\n  const authentication = {\n    clientType: options.clientType,\n    clientId: options.clientId,\n    token: response.data.access_token,\n    scopes: response.data.scope.split(/\\s+/).filter(Boolean)\n  };\n  if (\"clientSecret\" in options) {\n    authentication.clientSecret = options.clientSecret;\n  }\n  if (options.clientType === \"github-app\") {\n    if (\"refresh_token\" in response.data) {\n      const apiTimeInMs = new Date(response.headers.date).getTime();\n      authentication.refreshToken = response.data.refresh_token, authentication.expiresAt = toTimestamp2(\n        apiTimeInMs,\n        response.data.expires_in\n      ), authentication.refreshTokenExpiresAt = toTimestamp2(\n        apiTimeInMs,\n        response.data.refresh_token_expires_in\n      );\n    }\n    delete authentication.scopes;\n  }\n  return { ...response, authentication };\n}\nfunction toTimestamp2(apiTimeInMs, expirationInSeconds) {\n  return new Date(apiTimeInMs + expirationInSeconds * 1e3).toISOString();\n}\n\n// pkg/dist-src/check-token.js\nvar import_request5 = require(\"@octokit/request\");\nvar import_btoa_lite = __toESM(require(\"btoa-lite\"));\nasync function checkToken(options) {\n  const request = options.request || /* istanbul ignore next: we always pass a custom request in tests */\n  import_request5.request;\n  const response = await request(\"POST /applications/{client_id}/token\", {\n    headers: {\n      authorization: `basic ${(0, import_btoa_lite.default)(\n        `${options.clientId}:${options.clientSecret}`\n      )}`\n    },\n    client_id: options.clientId,\n    access_token: options.token\n  });\n  const authentication = {\n    clientType: options.clientType,\n    clientId: options.clientId,\n    clientSecret: options.clientSecret,\n    token: options.token,\n    scopes: response.data.scopes\n  };\n  if (response.data.expires_at)\n    authentication.expiresAt = response.data.expires_at;\n  if (options.clientType === \"github-app\") {\n    delete authentication.scopes;\n  }\n  return { ...response, authentication };\n}\n\n// pkg/dist-src/refresh-token.js\nvar import_request6 = require(\"@octokit/request\");\nasync function refreshToken(options) {\n  const request = options.request || /* istanbul ignore next: we always pass a custom request in tests */\n  import_request6.request;\n  const response = await oauthRequest(\n    request,\n    \"POST /login/oauth/access_token\",\n    {\n      client_id: options.clientId,\n      client_secret: options.clientSecret,\n      grant_type: \"refresh_token\",\n      refresh_token: options.refreshToken\n    }\n  );\n  const apiTimeInMs = new Date(response.headers.date).getTime();\n  const authentication = {\n    clientType: \"github-app\",\n    clientId: options.clientId,\n    clientSecret: options.clientSecret,\n    token: response.data.access_token,\n    refreshToken: response.data.refresh_token,\n    expiresAt: toTimestamp3(apiTimeInMs, response.data.expires_in),\n    refreshTokenExpiresAt: toTimestamp3(\n      apiTimeInMs,\n      response.data.refresh_token_expires_in\n    )\n  };\n  return { ...response, authentication };\n}\nfunction toTimestamp3(apiTimeInMs, expirationInSeconds) {\n  return new Date(apiTimeInMs + expirationInSeconds * 1e3).toISOString();\n}\n\n// pkg/dist-src/scope-token.js\nvar import_request7 = require(\"@octokit/request\");\nvar import_btoa_lite2 = __toESM(require(\"btoa-lite\"));\nasync function scopeToken(options) {\n  const {\n    request: optionsRequest,\n    clientType,\n    clientId,\n    clientSecret,\n    token,\n    ...requestOptions\n  } = options;\n  const request = optionsRequest || /* istanbul ignore next: we always pass a custom request in tests */\n  import_request7.request;\n  const response = await request(\n    \"POST /applications/{client_id}/token/scoped\",\n    {\n      headers: {\n        authorization: `basic ${(0, import_btoa_lite2.default)(`${clientId}:${clientSecret}`)}`\n      },\n      client_id: clientId,\n      access_token: token,\n      ...requestOptions\n    }\n  );\n  const authentication = Object.assign(\n    {\n      clientType,\n      clientId,\n      clientSecret,\n      token: response.data.token\n    },\n    response.data.expires_at ? { expiresAt: response.data.expires_at } : {}\n  );\n  return { ...response, authentication };\n}\n\n// pkg/dist-src/reset-token.js\nvar import_request8 = require(\"@octokit/request\");\nvar import_btoa_lite3 = __toESM(require(\"btoa-lite\"));\nasync function resetToken(options) {\n  const request = options.request || /* istanbul ignore next: we always pass a custom request in tests */\n  import_request8.request;\n  const auth = (0, import_btoa_lite3.default)(`${options.clientId}:${options.clientSecret}`);\n  const response = await request(\n    \"PATCH /applications/{client_id}/token\",\n    {\n      headers: {\n        authorization: `basic ${auth}`\n      },\n      client_id: options.clientId,\n      access_token: options.token\n    }\n  );\n  const authentication = {\n    clientType: options.clientType,\n    clientId: options.clientId,\n    clientSecret: options.clientSecret,\n    token: response.data.token,\n    scopes: response.data.scopes\n  };\n  if (response.data.expires_at)\n    authentication.expiresAt = response.data.expires_at;\n  if (options.clientType === \"github-app\") {\n    delete authentication.scopes;\n  }\n  return { ...response, authentication };\n}\n\n// pkg/dist-src/delete-token.js\nvar import_request9 = require(\"@octokit/request\");\nvar import_btoa_lite4 = __toESM(require(\"btoa-lite\"));\nasync function deleteToken(options) {\n  const request = options.request || /* istanbul ignore next: we always pass a custom request in tests */\n  import_request9.request;\n  const auth = (0, import_btoa_lite4.default)(`${options.clientId}:${options.clientSecret}`);\n  return request(\n    \"DELETE /applications/{client_id}/token\",\n    {\n      headers: {\n        authorization: `basic ${auth}`\n      },\n      client_id: options.clientId,\n      access_token: options.token\n    }\n  );\n}\n\n// pkg/dist-src/delete-authorization.js\nvar import_request10 = require(\"@octokit/request\");\nvar import_btoa_lite5 = __toESM(require(\"btoa-lite\"));\nasync function deleteAuthorization(options) {\n  const request = options.request || /* istanbul ignore next: we always pass a custom request in tests */\n  import_request10.request;\n  const auth = (0, import_btoa_lite5.default)(`${options.clientId}:${options.clientSecret}`);\n  return request(\n    \"DELETE /applications/{client_id}/grant\",\n    {\n      headers: {\n        authorization: `basic ${auth}`\n      },\n      client_id: options.clientId,\n      access_token: options.token\n    }\n  );\n}\n// Annotate the CommonJS export names for ESM import in node:\n0 && (module.exports = {\n  VERSION,\n  checkToken,\n  createDeviceCode,\n  deleteAuthorization,\n  deleteToken,\n  exchangeDeviceCode,\n  exchangeWebFlowCode,\n  getWebFlowAuthorizationUrl,\n  refreshToken,\n  resetToken,\n  scopeToken\n});\n", "// pkg/dist-src/index.js\nimport { getUserAgent } from \"universal-user-agent\";\nimport { request as octokitRequest } from \"@octokit/request\";\n\n// pkg/dist-src/get-oauth-access-token.js\nimport { createDeviceCode, exchangeDeviceCode } from \"@octokit/oauth-methods\";\nasync function getOAuthAccessToken(state, options) {\n  const cachedAuthentication = getCachedAuthentication(state, options.auth);\n  if (cachedAuthentication)\n    return cachedAuthentication;\n  const { data: verification } = await createDeviceCode({\n    clientType: state.clientType,\n    clientId: state.clientId,\n    request: options.request || state.request,\n    // @ts-expect-error the extra code to make TS happy is not worth it\n    scopes: options.auth.scopes || state.scopes\n  });\n  await state.onVerification(verification);\n  const authentication = await waitForAccessToken(\n    options.request || state.request,\n    state.clientId,\n    state.clientType,\n    verification\n  );\n  state.authentication = authentication;\n  return authentication;\n}\nfunction getCachedAuthentication(state, auth2) {\n  if (auth2.refresh === true)\n    return false;\n  if (!state.authentication)\n    return false;\n  if (state.clientType === \"github-app\") {\n    return state.authentication;\n  }\n  const authentication = state.authentication;\n  const newScope = (\"scopes\" in auth2 && auth2.scopes || state.scopes).join(\n    \" \"\n  );\n  const currentScope = authentication.scopes.join(\" \");\n  return newScope === currentScope ? authentication : false;\n}\nasync function wait(seconds) {\n  await new Promise((resolve) => setTimeout(resolve, seconds * 1e3));\n}\nasync function waitForAccessToken(request, clientId, clientType, verification) {\n  try {\n    const options = {\n      clientId,\n      request,\n      code: verification.device_code\n    };\n    const { authentication } = clientType === \"oauth-app\" ? await exchangeDeviceCode({\n      ...options,\n      clientType: \"oauth-app\"\n    }) : await exchangeDeviceCode({\n      ...options,\n      clientType: \"github-app\"\n    });\n    return {\n      type: \"token\",\n      tokenType: \"oauth\",\n      ...authentication\n    };\n  } catch (error) {\n    if (!error.response)\n      throw error;\n    const errorType = error.response.data.error;\n    if (errorType === \"authorization_pending\") {\n      await wait(verification.interval);\n      return waitForAccessToken(request, clientId, clientType, verification);\n    }\n    if (errorType === \"slow_down\") {\n      await wait(verification.interval + 5);\n      return waitForAccessToken(request, clientId, clientType, verification);\n    }\n    throw error;\n  }\n}\n\n// pkg/dist-src/auth.js\nasync function auth(state, authOptions) {\n  return getOAuthAccessToken(state, {\n    auth: authOptions\n  });\n}\n\n// pkg/dist-src/hook.js\nasync function hook(state, request, route, parameters) {\n  let endpoint = request.endpoint.merge(\n    route,\n    parameters\n  );\n  if (/\\/login\\/(oauth\\/access_token|device\\/code)$/.test(endpoint.url)) {\n    return request(endpoint);\n  }\n  const { token } = await getOAuthAccessToken(state, {\n    request,\n    auth: { type: \"oauth\" }\n  });\n  endpoint.headers.authorization = `token ${token}`;\n  return request(endpoint);\n}\n\n// pkg/dist-src/version.js\nvar VERSION = \"6.1.0\";\n\n// pkg/dist-src/index.js\nfunction createOAuthDeviceAuth(options) {\n  const requestWithDefaults = options.request || octokitRequest.defaults({\n    headers: {\n      \"user-agent\": `octokit-auth-oauth-device.js/${VERSION} ${getUserAgent()}`\n    }\n  });\n  const { request = requestWithDefaults, ...otherOptions } = options;\n  const state = options.clientType === \"github-app\" ? {\n    ...otherOptions,\n    clientType: \"github-app\",\n    request\n  } : {\n    ...otherOptions,\n    clientType: \"oauth-app\",\n    request,\n    scopes: options.scopes || []\n  };\n  if (!options.clientId) {\n    throw new Error(\n      '[@octokit/auth-oauth-device] \"clientId\" option must be set (https://github.com/octokit/auth-oauth-device.js#usage)'\n    );\n  }\n  if (!options.onVerification) {\n    throw new Error(\n      '[@octokit/auth-oauth-device] \"onVerification\" option must be a function (https://github.com/octokit/auth-oauth-device.js#usage)'\n    );\n  }\n  return Object.assign(auth.bind(null, state), {\n    hook: hook.bind(null, state)\n  });\n}\nexport {\n  createOAuthDeviceAuth\n};\n", "// pkg/dist-src/index.js\nimport { getUserAgent } from \"universal-user-agent\";\nimport { request as octokitRequest } from \"@octokit/request\";\n\n// pkg/dist-src/version.js\nvar VERSION = \"4.1.0\";\n\n// pkg/dist-src/get-authentication.js\nimport { createOAuthDeviceAuth } from \"@octokit/auth-oauth-device\";\nimport { exchangeWebFlowCode } from \"@octokit/oauth-methods\";\nasync function getAuthentication(state) {\n  if (\"code\" in state.strategyOptions) {\n    const { authentication } = await exchangeWebFlowCode({\n      clientId: state.clientId,\n      clientSecret: state.clientSecret,\n      clientType: state.clientType,\n      onTokenCreated: state.onTokenCreated,\n      ...state.strategyOptions,\n      request: state.request\n    });\n    return {\n      type: \"token\",\n      tokenType: \"oauth\",\n      ...authentication\n    };\n  }\n  if (\"onVerification\" in state.strategyOptions) {\n    const deviceAuth = createOAuthDeviceAuth({\n      clientType: state.clientType,\n      clientId: state.clientId,\n      onTokenCreated: state.onTokenCreated,\n      ...state.strategyOptions,\n      request: state.request\n    });\n    const authentication = await deviceAuth({\n      type: \"oauth\"\n    });\n    return {\n      clientSecret: state.clientSecret,\n      ...authentication\n    };\n  }\n  if (\"token\" in state.strategyOptions) {\n    return {\n      type: \"token\",\n      tokenType: \"oauth\",\n      clientId: state.clientId,\n      clientSecret: state.clientSecret,\n      clientType: state.clientType,\n      onTokenCreated: state.onTokenCreated,\n      ...state.strategyOptions\n    };\n  }\n  throw new Error(\"[@octokit/auth-oauth-user] Invalid strategy options\");\n}\n\n// pkg/dist-src/auth.js\nimport {\n  checkToken,\n  deleteAuthorization,\n  deleteToken,\n  refreshToken,\n  resetToken\n} from \"@octokit/oauth-methods\";\nasync function auth(state, options = {}) {\n  if (!state.authentication) {\n    state.authentication = state.clientType === \"oauth-app\" ? await getAuthentication(state) : await getAuthentication(state);\n  }\n  if (state.authentication.invalid) {\n    throw new Error(\"[@octokit/auth-oauth-user] Token is invalid\");\n  }\n  const currentAuthentication = state.authentication;\n  if (\"expiresAt\" in currentAuthentication) {\n    if (options.type === \"refresh\" || new Date(currentAuthentication.expiresAt) < /* @__PURE__ */ new Date()) {\n      const { authentication } = await refreshToken({\n        clientType: \"github-app\",\n        clientId: state.clientId,\n        clientSecret: state.clientSecret,\n        refreshToken: currentAuthentication.refreshToken,\n        request: state.request\n      });\n      state.authentication = {\n        tokenType: \"oauth\",\n        type: \"token\",\n        ...authentication\n      };\n    }\n  }\n  if (options.type === \"refresh\") {\n    if (state.clientType === \"oauth-app\") {\n      throw new Error(\n        \"[@octokit/auth-oauth-user] OAuth Apps do not support expiring tokens\"\n      );\n    }\n    if (!currentAuthentication.hasOwnProperty(\"expiresAt\")) {\n      throw new Error(\"[@octokit/auth-oauth-user] Refresh token missing\");\n    }\n    await state.onTokenCreated?.(state.authentication, {\n      type: options.type\n    });\n  }\n  if (options.type === \"check\" || options.type === \"reset\") {\n    const method = options.type === \"check\" ? checkToken : resetToken;\n    try {\n      const { authentication } = await method({\n        // @ts-expect-error making TS happy would require unnecessary code so no\n        clientType: state.clientType,\n        clientId: state.clientId,\n        clientSecret: state.clientSecret,\n        token: state.authentication.token,\n        request: state.request\n      });\n      state.authentication = {\n        tokenType: \"oauth\",\n        type: \"token\",\n        // @ts-expect-error TBD\n        ...authentication\n      };\n      if (options.type === \"reset\") {\n        await state.onTokenCreated?.(state.authentication, {\n          type: options.type\n        });\n      }\n      return state.authentication;\n    } catch (error) {\n      if (error.status === 404) {\n        error.message = \"[@octokit/auth-oauth-user] Token is invalid\";\n        state.authentication.invalid = true;\n      }\n      throw error;\n    }\n  }\n  if (options.type === \"delete\" || options.type === \"deleteAuthorization\") {\n    const method = options.type === \"delete\" ? deleteToken : deleteAuthorization;\n    try {\n      await method({\n        // @ts-expect-error making TS happy would require unnecessary code so no\n        clientType: state.clientType,\n        clientId: state.clientId,\n        clientSecret: state.clientSecret,\n        token: state.authentication.token,\n        request: state.request\n      });\n    } catch (error) {\n      if (error.status !== 404)\n        throw error;\n    }\n    state.authentication.invalid = true;\n    return state.authentication;\n  }\n  return state.authentication;\n}\n\n// pkg/dist-src/hook.js\nimport btoa from \"btoa-lite\";\n\n// pkg/dist-src/requires-basic-auth.js\nvar ROUTES_REQUIRING_BASIC_AUTH = /\\/applications\\/[^/]+\\/(token|grant)s?/;\nfunction requiresBasicAuth(url) {\n  return url && ROUTES_REQUIRING_BASIC_AUTH.test(url);\n}\n\n// pkg/dist-src/hook.js\nasync function hook(state, request, route, parameters = {}) {\n  const endpoint = request.endpoint.merge(\n    route,\n    parameters\n  );\n  if (/\\/login\\/(oauth\\/access_token|device\\/code)$/.test(endpoint.url)) {\n    return request(endpoint);\n  }\n  if (requiresBasicAuth(endpoint.url)) {\n    const credentials = btoa(`${state.clientId}:${state.clientSecret}`);\n    endpoint.headers.authorization = `basic ${credentials}`;\n    return request(endpoint);\n  }\n  const { token } = state.clientType === \"oauth-app\" ? await auth({ ...state, request }) : await auth({ ...state, request });\n  endpoint.headers.authorization = \"token \" + token;\n  return request(endpoint);\n}\n\n// pkg/dist-src/index.js\nfunction createOAuthUserAuth({\n  clientId,\n  clientSecret,\n  clientType = \"oauth-app\",\n  request = octokitRequest.defaults({\n    headers: {\n      \"user-agent\": `octokit-auth-oauth-app.js/${VERSION} ${getUserAgent()}`\n    }\n  }),\n  onTokenCreated,\n  ...strategyOptions\n}) {\n  const state = Object.assign({\n    clientType,\n    clientId,\n    clientSecret,\n    onTokenCreated,\n    strategyOptions,\n    request\n  });\n  return Object.assign(auth.bind(null, state), {\n    // @ts-expect-error not worth the extra code needed to appease TS\n    hook: hook.bind(null, state)\n  });\n}\ncreateOAuthUserAuth.VERSION = VERSION;\nexport {\n  createOAuthUserAuth,\n  requiresBasicAuth\n};\n", "// pkg/dist-src/index.js\nimport { getUserAgent } from \"universal-user-agent\";\nimport { request } from \"@octokit/request\";\n\n// pkg/dist-src/auth.js\nimport btoa from \"btoa-lite\";\nimport { createOAuthUserAuth } from \"@octokit/auth-oauth-user\";\nasync function auth(state, authOptions) {\n  if (authOptions.type === \"oauth-app\") {\n    return {\n      type: \"oauth-app\",\n      clientId: state.clientId,\n      clientSecret: state.clientSecret,\n      clientType: state.clientType,\n      headers: {\n        authorization: `basic ${btoa(\n          `${state.clientId}:${state.clientSecret}`\n        )}`\n      }\n    };\n  }\n  if (\"factory\" in authOptions) {\n    const { type, ...options } = {\n      ...authOptions,\n      ...state\n    };\n    return authOptions.factory(options);\n  }\n  const common = {\n    clientId: state.clientId,\n    clientSecret: state.clientSecret,\n    request: state.request,\n    ...authOptions\n  };\n  const userAuth = state.clientType === \"oauth-app\" ? await createOAuthUserAuth({\n    ...common,\n    clientType: state.clientType\n  }) : await createOAuthUserAuth({\n    ...common,\n    clientType: state.clientType\n  });\n  return userAuth();\n}\n\n// pkg/dist-src/hook.js\nimport btoa2 from \"btoa-lite\";\nimport { requiresBasicAuth } from \"@octokit/auth-oauth-user\";\nasync function hook(state, request2, route, parameters) {\n  let endpoint = request2.endpoint.merge(\n    route,\n    parameters\n  );\n  if (/\\/login\\/(oauth\\/access_token|device\\/code)$/.test(endpoint.url)) {\n    return request2(endpoint);\n  }\n  if (state.clientType === \"github-app\" && !requiresBasicAuth(endpoint.url)) {\n    throw new Error(\n      `[@octokit/auth-oauth-app] GitHub Apps cannot use their client ID/secret for basic authentication for endpoints other than \"/applications/{client_id}/**\". \"${endpoint.method} ${endpoint.url}\" is not supported.`\n    );\n  }\n  const credentials = btoa2(`${state.clientId}:${state.clientSecret}`);\n  endpoint.headers.authorization = `basic ${credentials}`;\n  try {\n    return await request2(endpoint);\n  } catch (error) {\n    if (error.status !== 401)\n      throw error;\n    error.message = `[@octokit/auth-oauth-app] \"${endpoint.method} ${endpoint.url}\" does not support clientId/clientSecret basic authentication.`;\n    throw error;\n  }\n}\n\n// pkg/dist-src/version.js\nvar VERSION = \"7.1.0\";\n\n// pkg/dist-src/index.js\nimport { createOAuthUserAuth as createOAuthUserAuth2 } from \"@octokit/auth-oauth-user\";\nfunction createOAuthAppAuth(options) {\n  const state = Object.assign(\n    {\n      request: request.defaults({\n        headers: {\n          \"user-agent\": `octokit-auth-oauth-app.js/${VERSION} ${getUserAgent()}`\n        }\n      }),\n      clientType: \"oauth-app\"\n    },\n    options\n  );\n  return Object.assign(auth.bind(null, state), {\n    hook: hook.bind(null, state)\n  });\n}\nexport {\n  createOAuthAppAuth,\n  createOAuthUserAuth2 as createOAuthUserAuth\n};\n", "function string2ArrayBuffer(str) {\n    const buf = new ArrayBuffer(str.length);\n    const bufView = new Uint8Array(buf);\n    for (let i = 0, strLen = str.length; i < strLen; i++) {\n        bufView[i] = str.charCodeAt(i);\n    }\n    return buf;\n}\nfunction getDERfromPEM(pem) {\n    const pemB64 = pem\n        .trim()\n        .split(\"\\n\")\n        .slice(1, -1) // Remove the --- BEGIN / END PRIVATE KEY ---\n        .join(\"\");\n    const decoded = atob(pemB64);\n    return string2ArrayBuffer(decoded);\n}\nfunction getEncodedMessage(header, payload) {\n    return `${base64encodeJSON(header)}.${base64encodeJSON(payload)}`;\n}\nfunction base64encode(buffer) {\n    var binary = \"\";\n    var bytes = new Uint8Array(buffer);\n    var len = bytes.byteLength;\n    for (var i = 0; i < len; i++) {\n        binary += String.fromCharCode(bytes[i]);\n    }\n    return fromBase64(btoa(binary));\n}\nfunction fromBase64(base64) {\n    return base64.replace(/=/g, \"\").replace(/\\+/g, \"-\").replace(/\\//g, \"_\");\n}\nfunction base64encodeJSON(obj) {\n    return fromBase64(btoa(JSON.stringify(obj)));\n}\n\nconst getToken = async ({ privateKey, payload, }) => {\n    // WebCrypto only supports PKCS#8, unfortunately\n    if (/BEGIN RSA PRIVATE KEY/.test(privateKey)) {\n        throw new Error(\"[universal-github-app-jwt] Private Key is in PKCS#1 format, but only PKCS#8 is supported. See https://github.com/gr2m/universal-github-app-jwt#readme\");\n    }\n    const algorithm = {\n        name: \"RSASSA-PKCS1-v1_5\",\n        hash: { name: \"SHA-256\" },\n    };\n    const header = { alg: \"RS256\", typ: \"JWT\" };\n    const privateKeyDER = getDERfromPEM(privateKey);\n    const importedKey = await crypto.subtle.importKey(\"pkcs8\", privateKeyDER, algorithm, false, [\"sign\"]);\n    const encodedMessage = getEncodedMessage(header, payload);\n    const encodedMessageArrBuf = string2ArrayBuffer(encodedMessage);\n    const signatureArrBuf = await crypto.subtle.sign(algorithm.name, importedKey, encodedMessageArrBuf);\n    const encodedSignature = base64encode(signatureArrBuf);\n    return `${encodedMessage}.${encodedSignature}`;\n};\n\nasync function githubAppJwt({ id, privateKey, now = Math.floor(Date.now() / 1000), }) {\n    // When creating a JSON Web Token, it sets the \"issued at time\" (iat) to 30s\n    // in the past as we have seen people running situations where the GitHub API\n    // claimed the iat would be in future. It turned out the clocks on the\n    // different machine were not in sync.\n    const nowWithSafetyMargin = now - 30;\n    const expiration = nowWithSafetyMargin + 60 * 10; // JWT expiration time (10 minute maximum)\n    const payload = {\n        iat: nowWithSafetyMargin,\n        exp: expiration,\n        iss: id,\n    };\n    const token = await getToken({\n        privateKey,\n        payload,\n    });\n    return {\n        appId: id,\n        expiration,\n        token,\n    };\n}\n\nexport { githubAppJwt };\n//# sourceMappingURL=index.js.map\n", "/**\n * @module LRUCache\n */\n\n// module-private names and types\ntype Perf = { now: () => number }\nconst perf: Perf =\n  typeof performance === 'object' &&\n  performance &&\n  typeof performance.now === 'function'\n    ? performance\n    : Date\n\nconst warned = new Set<string>()\n\n// either a function or a class\ntype ForC = ((...a: any[]) => any) | { new (...a: any[]): any }\n\n/* c8 ignore start */\nconst PROCESS = (\n  typeof process === 'object' && !!process ? process : {}\n) as { [k: string]: any }\n/* c8 ignore start */\n\nconst emitWarning = (\n  msg: string,\n  type: string,\n  code: string,\n  fn: ForC\n) => {\n  typeof PROCESS.emitWarning === 'function'\n    ? PROCESS.emitWarning(msg, type, code, fn)\n    : console.error(`[${code}] ${type}: ${msg}`)\n}\n\nlet AC = globalThis.AbortController\nlet AS = globalThis.AbortSignal\n\n/* c8 ignore start */\nif (typeof AC === 'undefined') {\n  //@ts-ignore\n  AS = class AbortSignal {\n    onabort?: (...a: any[]) => any\n    _onabort: ((...a: any[]) => any)[] = []\n    reason?: any\n    aborted: boolean = false\n    addEventListener(_: string, fn: (...a: any[]) => any) {\n      this._onabort.push(fn)\n    }\n  }\n  //@ts-ignore\n  AC = class AbortController {\n    constructor() {\n      warnACPolyfill()\n    }\n    signal = new AS()\n    abort(reason: any) {\n      if (this.signal.aborted) return\n      //@ts-ignore\n      this.signal.reason = reason\n      //@ts-ignore\n      this.signal.aborted = true\n      //@ts-ignore\n      for (const fn of this.signal._onabort) {\n        fn(reason)\n      }\n      this.signal.onabort?.(reason)\n    }\n  }\n  let printACPolyfillWarning =\n    PROCESS.env?.LRU_CACHE_IGNORE_AC_WARNING !== '1'\n  const warnACPolyfill = () => {\n    if (!printACPolyfillWarning) return\n    printACPolyfillWarning = false\n    emitWarning(\n      'AbortController is not defined. If using lru-cache in ' +\n        'node 14, load an AbortController polyfill from the ' +\n        '`node-abort-controller` package. A minimal polyfill is ' +\n        'provided for use by LRUCache.fetch(), but it should not be ' +\n        'relied upon in other contexts (eg, passing it to other APIs that ' +\n        'use AbortController/AbortSignal might have undesirable effects). ' +\n        'You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.',\n      'NO_ABORT_CONTROLLER',\n      'ENOTSUP',\n      warnACPolyfill\n    )\n  }\n}\n/* c8 ignore stop */\n\nconst shouldWarn = (code: string) => !warned.has(code)\n\nconst TYPE = Symbol('type')\nexport type PosInt = number & { [TYPE]: 'Positive Integer' }\nexport type Index = number & { [TYPE]: 'LRUCache Index' }\n\nconst isPosInt = (n: any): n is PosInt =>\n  n && n === Math.floor(n) && n > 0 && isFinite(n)\n\nexport type UintArray = Uint8Array | Uint16Array | Uint32Array\nexport type NumberArray = UintArray | number[]\n\n/* c8 ignore start */\n// This is a little bit ridiculous, tbh.\n// The maximum array length is 2^32-1 or thereabouts on most JS impls.\n// And well before that point, you're caching the entire world, I mean,\n// that's ~32GB of just integers for the next/prev links, plus whatever\n// else to hold that many keys and values.  Just filling the memory with\n// zeroes at init time is brutal when you get that big.\n// But why not be complete?\n// Maybe in the future, these limits will have expanded.\nconst getUintArray = (max: number) =>\n  !isPosInt(max)\n    ? null\n    : max <= Math.pow(2, 8)\n    ? Uint8Array\n    : max <= Math.pow(2, 16)\n    ? Uint16Array\n    : max <= Math.pow(2, 32)\n    ? Uint32Array\n    : max <= Number.MAX_SAFE_INTEGER\n    ? ZeroArray\n    : null\n/* c8 ignore stop */\n\nclass ZeroArray extends Array<number> {\n  constructor(size: number) {\n    super(size)\n    this.fill(0)\n  }\n}\nexport type { ZeroArray }\nexport type { Stack }\n\nexport type StackLike = Stack | Index[]\nclass Stack {\n  heap: NumberArray\n  length: number\n  // private constructor\n  static #constructing: boolean = false\n  static create(max: number): StackLike {\n    const HeapCls = getUintArray(max)\n    if (!HeapCls) return []\n    Stack.#constructing = true\n    const s = new Stack(max, HeapCls)\n    Stack.#constructing = false\n    return s\n  }\n  constructor(\n    max: number,\n    HeapCls: { new (n: number): NumberArray }\n  ) {\n    /* c8 ignore start */\n    if (!Stack.#constructing) {\n      throw new TypeError('instantiate Stack using Stack.create(n)')\n    }\n    /* c8 ignore stop */\n    this.heap = new HeapCls(max)\n    this.length = 0\n  }\n  push(n: Index) {\n    this.heap[this.length++] = n\n  }\n  pop(): Index {\n    return this.heap[--this.length] as Index\n  }\n}\n\n/**\n * Promise representing an in-progress {@link LRUCache#fetch} call\n */\nexport type BackgroundFetch<V> = Promise<V | undefined> & {\n  __returned: BackgroundFetch<V> | undefined\n  __abortController: AbortController\n  __staleWhileFetching: V | undefined\n}\n\nexport type DisposeTask<K, V> = [\n  value: V,\n  key: K,\n  reason: LRUCache.DisposeReason\n]\n\nexport namespace LRUCache {\n  /**\n   * An integer greater than 0, reflecting the calculated size of items\n   */\n  export type Size = number\n\n  /**\n   * Integer greater than 0, representing some number of milliseconds, or the\n   * time at which a TTL started counting from.\n   */\n  export type Milliseconds = number\n\n  /**\n   * An integer greater than 0, reflecting a number of items\n   */\n  export type Count = number\n\n  /**\n   * The reason why an item was removed from the cache, passed\n   * to the {@link Disposer} methods.\n   *\n   * - `evict`: The item was evicted because it is the least recently used,\n   *   and the cache is full.\n   * - `set`: A new value was set, overwriting the old value being disposed.\n   * - `delete`: The item was explicitly deleted, either by calling\n   *   {@link LRUCache#delete}, {@link LRUCache#clear}, or\n   *   {@link LRUCache#set} with an undefined value.\n   * - `expire`: The item was removed due to exceeding its TTL.\n   * - `fetch`: A {@link OptionsBase#fetchMethod} operation returned\n   *   `undefined` or was aborted, causing the item to be deleted.\n   */\n  export type DisposeReason =\n    | 'evict'\n    | 'set'\n    | 'delete'\n    | 'expire'\n    | 'fetch'\n  /**\n   * A method called upon item removal, passed as the\n   * {@link OptionsBase.dispose} and/or\n   * {@link OptionsBase.disposeAfter} options.\n   */\n  export type Disposer<K, V> = (\n    value: V,\n    key: K,\n    reason: DisposeReason\n  ) => void\n\n  /**\n   * A function that returns the effective calculated size\n   * of an entry in the cache.\n   */\n  export type SizeCalculator<K, V> = (value: V, key: K) => Size\n\n  /**\n   * Options provided to the\n   * {@link OptionsBase.fetchMethod} function.\n   */\n  export interface FetcherOptions<K, V, FC = unknown> {\n    signal: AbortSignal\n    options: FetcherFetchOptions<K, V, FC>\n    /**\n     * Object provided in the {@link FetchOptions.context} option to\n     * {@link LRUCache#fetch}\n     */\n    context: FC\n  }\n\n  /**\n   * Occasionally, it may be useful to track the internal behavior of the\n   * cache, particularly for logging, debugging, or for behavior within the\n   * `fetchMethod`. To do this, you can pass a `status` object to the\n   * {@link LRUCache#fetch}, {@link LRUCache#get}, {@link LRUCache#set},\n   * {@link LRUCache#memo}, and {@link LRUCache#has} methods.\n   *\n   * The `status` option should be a plain JavaScript object. The following\n   * fields will be set on it appropriately, depending on the situation.\n   */\n  export interface Status<V> {\n    /**\n     * The status of a set() operation.\n     *\n     * - add: the item was not found in the cache, and was added\n     * - update: the item was in the cache, with the same value provided\n     * - replace: the item was in the cache, and replaced\n     * - miss: the item was not added to the cache for some reason\n     */\n    set?: 'add' | 'update' | 'replace' | 'miss'\n\n    /**\n     * the ttl stored for the item, or undefined if ttls are not used.\n     */\n    ttl?: Milliseconds\n\n    /**\n     * the start time for the item, or undefined if ttls are not used.\n     */\n    start?: Milliseconds\n\n    /**\n     * The timestamp used for TTL calculation\n     */\n    now?: Milliseconds\n\n    /**\n     * the remaining ttl for the item, or undefined if ttls are not used.\n     */\n    remainingTTL?: Milliseconds\n\n    /**\n     * The calculated size for the item, if sizes are used.\n     */\n    entrySize?: Size\n\n    /**\n     * The total calculated size of the cache, if sizes are used.\n     */\n    totalCalculatedSize?: Size\n\n    /**\n     * A flag indicating that the item was not stored, due to exceeding the\n     * {@link OptionsBase.maxEntrySize}\n     */\n    maxEntrySizeExceeded?: true\n\n    /**\n     * The old value, specified in the case of `set:'update'` or\n     * `set:'replace'`\n     */\n    oldValue?: V\n\n    /**\n     * The results of a {@link LRUCache#has} operation\n     *\n     * - hit: the item was found in the cache\n     * - stale: the item was found in the cache, but is stale\n     * - miss: the item was not found in the cache\n     */\n    has?: 'hit' | 'stale' | 'miss'\n\n    /**\n     * The status of a {@link LRUCache#fetch} operation.\n     * Note that this can change as the underlying fetch() moves through\n     * various states.\n     *\n     * - inflight: there is another fetch() for this key which is in process\n     * - get: there is no {@link OptionsBase.fetchMethod}, so\n     *   {@link LRUCache#get} was called.\n     * - miss: the item is not in cache, and will be fetched.\n     * - hit: the item is in the cache, and was resolved immediately.\n     * - stale: the item is in the cache, but stale.\n     * - refresh: the item is in the cache, and not stale, but\n     *   {@link FetchOptions.forceRefresh} was specified.\n     */\n    fetch?: 'get' | 'inflight' | 'miss' | 'hit' | 'stale' | 'refresh'\n\n    /**\n     * The {@link OptionsBase.fetchMethod} was called\n     */\n    fetchDispatched?: true\n\n    /**\n     * The cached value was updated after a successful call to\n     * {@link OptionsBase.fetchMethod}\n     */\n    fetchUpdated?: true\n\n    /**\n     * The reason for a fetch() rejection.  Either the error raised by the\n     * {@link OptionsBase.fetchMethod}, or the reason for an\n     * AbortSignal.\n     */\n    fetchError?: Error\n\n    /**\n     * The fetch received an abort signal\n     */\n    fetchAborted?: true\n\n    /**\n     * The abort signal received was ignored, and the fetch was allowed to\n     * continue.\n     */\n    fetchAbortIgnored?: true\n\n    /**\n     * The fetchMethod promise resolved successfully\n     */\n    fetchResolved?: true\n\n    /**\n     * The fetchMethod promise was rejected\n     */\n    fetchRejected?: true\n\n    /**\n     * The status of a {@link LRUCache#get} operation.\n     *\n     * - fetching: The item is currently being fetched.  If a previous value\n     *   is present and allowed, that will be returned.\n     * - stale: The item is in the cache, and is stale.\n     * - hit: the item is in the cache\n     * - miss: the item is not in the cache\n     */\n    get?: 'stale' | 'hit' | 'miss'\n\n    /**\n     * A fetch or get operation returned a stale value.\n     */\n    returnedStale?: true\n  }\n\n  /**\n   * options which override the options set in the LRUCache constructor\n   * when calling {@link LRUCache#fetch}.\n   *\n   * This is the union of {@link GetOptions} and {@link SetOptions}, plus\n   * {@link OptionsBase.noDeleteOnFetchRejection},\n   * {@link OptionsBase.allowStaleOnFetchRejection},\n   * {@link FetchOptions.forceRefresh}, and\n   * {@link FetcherOptions.context}\n   *\n   * Any of these may be modified in the {@link OptionsBase.fetchMethod}\n   * function, but the {@link GetOptions} fields will of course have no\n   * effect, as the {@link LRUCache#get} call already happened by the time\n   * the fetchMethod is called.\n   */\n  export interface FetcherFetchOptions<K, V, FC = unknown>\n    extends Pick<\n      OptionsBase<K, V, FC>,\n      | 'allowStale'\n      | 'updateAgeOnGet'\n      | 'noDeleteOnStaleGet'\n      | 'sizeCalculation'\n      | 'ttl'\n      | 'noDisposeOnSet'\n      | 'noUpdateTTL'\n      | 'noDeleteOnFetchRejection'\n      | 'allowStaleOnFetchRejection'\n      | 'ignoreFetchAbort'\n      | 'allowStaleOnFetchAbort'\n    > {\n    status?: Status<V>\n    size?: Size\n  }\n\n  /**\n   * Options that may be passed to the {@link LRUCache#fetch} method.\n   */\n  export interface FetchOptions<K, V, FC>\n    extends FetcherFetchOptions<K, V, FC> {\n    /**\n     * Set to true to force a re-load of the existing data, even if it\n     * is not yet stale.\n     */\n    forceRefresh?: boolean\n    /**\n     * Context provided to the {@link OptionsBase.fetchMethod} as\n     * the {@link FetcherOptions.context} param.\n     *\n     * If the FC type is specified as unknown (the default),\n     * undefined or void, then this is optional.  Otherwise, it will\n     * be required.\n     */\n    context?: FC\n    signal?: AbortSignal\n    status?: Status<V>\n  }\n  /**\n   * Options provided to {@link LRUCache#fetch} when the FC type is something\n   * other than `unknown`, `undefined`, or `void`\n   */\n  export interface FetchOptionsWithContext<K, V, FC>\n    extends FetchOptions<K, V, FC> {\n    context: FC\n  }\n  /**\n   * Options provided to {@link LRUCache#fetch} when the FC type is\n   * `undefined` or `void`\n   */\n  export interface FetchOptionsNoContext<K, V>\n    extends FetchOptions<K, V, undefined> {\n    context?: undefined\n  }\n\n  export interface MemoOptions<K, V, FC = unknown>\n    extends Pick<\n      OptionsBase<K, V, FC>,\n      | 'allowStale'\n      | 'updateAgeOnGet'\n      | 'noDeleteOnStaleGet'\n      | 'sizeCalculation'\n      | 'ttl'\n      | 'noDisposeOnSet'\n      | 'noUpdateTTL'\n      | 'noDeleteOnFetchRejection'\n      | 'allowStaleOnFetchRejection'\n      | 'ignoreFetchAbort'\n      | 'allowStaleOnFetchAbort'\n    > {\n    /**\n     * Set to true to force a re-load of the existing data, even if it\n     * is not yet stale.\n     */\n    forceRefresh?: boolean\n    /**\n     * Context provided to the {@link OptionsBase.memoMethod} as\n     * the {@link MemoizerOptions.context} param.\n     *\n     * If the FC type is specified as unknown (the default),\n     * undefined or void, then this is optional.  Otherwise, it will\n     * be required.\n     */\n    context?: FC\n    status?: Status<V>\n  }\n  /**\n   * Options provided to {@link LRUCache#memo} when the FC type is something\n   * other than `unknown`, `undefined`, or `void`\n   */\n  export interface MemoOptionsWithContext<K, V, FC>\n    extends MemoOptions<K, V, FC> {\n    context: FC\n  }\n  /**\n   * Options provided to {@link LRUCache#memo} when the FC type is\n   * `undefined` or `void`\n   */\n  export interface MemoOptionsNoContext<K, V>\n    extends MemoOptions<K, V, undefined> {\n    context?: undefined\n  }\n\n  /**\n   * Options provided to the\n   * {@link OptionsBase.memoMethod} function.\n   */\n  export interface MemoizerOptions<K, V, FC = unknown> {\n    options: MemoizerMemoOptions<K, V, FC>\n    /**\n     * Object provided in the {@link MemoOptions.context} option to\n     * {@link LRUCache#memo}\n     */\n    context: FC\n  }\n\n  /**\n   * options which override the options set in the LRUCache constructor\n   * when calling {@link LRUCache#memo}.\n   *\n   * This is the union of {@link GetOptions} and {@link SetOptions}, plus\n   * {@link MemoOptions.forceRefresh}, and\n   * {@link MemoOptions.context}\n   *\n   * Any of these may be modified in the {@link OptionsBase.memoMethod}\n   * function, but the {@link GetOptions} fields will of course have no\n   * effect, as the {@link LRUCache#get} call already happened by the time\n   * the memoMethod is called.\n   */\n  export interface MemoizerMemoOptions<K, V, FC = unknown>\n    extends Pick<\n      OptionsBase<K, V, FC>,\n      | 'allowStale'\n      | 'updateAgeOnGet'\n      | 'noDeleteOnStaleGet'\n      | 'sizeCalculation'\n      | 'ttl'\n      | 'noDisposeOnSet'\n      | 'noUpdateTTL'\n    > {\n    status?: Status<V>\n    size?: Size\n    start?: Milliseconds\n  }\n\n  /**\n   * Options that may be passed to the {@link LRUCache#has} method.\n   */\n  export interface HasOptions<K, V, FC>\n    extends Pick<OptionsBase<K, V, FC>, 'updateAgeOnHas'> {\n    status?: Status<V>\n  }\n\n  /**\n   * Options that may be passed to the {@link LRUCache#get} method.\n   */\n  export interface GetOptions<K, V, FC>\n    extends Pick<\n      OptionsBase<K, V, FC>,\n      'allowStale' | 'updateAgeOnGet' | 'noDeleteOnStaleGet'\n    > {\n    status?: Status<V>\n  }\n\n  /**\n   * Options that may be passed to the {@link LRUCache#peek} method.\n   */\n  export interface PeekOptions<K, V, FC>\n    extends Pick<OptionsBase<K, V, FC>, 'allowStale'> {}\n\n  /**\n   * Options that may be passed to the {@link LRUCache#set} method.\n   */\n  export interface SetOptions<K, V, FC>\n    extends Pick<\n      OptionsBase<K, V, FC>,\n      'sizeCalculation' | 'ttl' | 'noDisposeOnSet' | 'noUpdateTTL'\n    > {\n    /**\n     * If size tracking is enabled, then setting an explicit size\n     * in the {@link LRUCache#set} call will prevent calling the\n     * {@link OptionsBase.sizeCalculation} function.\n     */\n    size?: Size\n    /**\n     * If TTL tracking is enabled, then setting an explicit start\n     * time in the {@link LRUCache#set} call will override the\n     * default time from `performance.now()` or `Date.now()`.\n     *\n     * Note that it must be a valid value for whichever time-tracking\n     * method is in use.\n     */\n    start?: Milliseconds\n    status?: Status<V>\n  }\n\n  /**\n   * The type signature for the {@link OptionsBase.fetchMethod} option.\n   */\n  export type Fetcher<K, V, FC = unknown> = (\n    key: K,\n    staleValue: V | undefined,\n    options: FetcherOptions<K, V, FC>\n  ) => Promise<V | undefined | void> | V | undefined | void\n\n  /**\n   * the type signature for the {@link OptionsBase.memoMethod} option.\n   */\n  export type Memoizer<K, V, FC = unknown> = (\n    key: K,\n    staleValue: V | undefined,\n    options: MemoizerOptions<K, V, FC>\n  ) => V\n\n  /**\n   * Options which may be passed to the {@link LRUCache} constructor.\n   *\n   * Most of these may be overridden in the various options that use\n   * them.\n   *\n   * Despite all being technically optional, the constructor requires that\n   * a cache is at minimum limited by one or more of {@link OptionsBase.max},\n   * {@link OptionsBase.ttl}, or {@link OptionsBase.maxSize}.\n   *\n   * If {@link OptionsBase.ttl} is used alone, then it is strongly advised\n   * (and in fact required by the type definitions here) that the cache\n   * also set {@link OptionsBase.ttlAutopurge}, to prevent potentially\n   * unbounded storage.\n   *\n   * All options are also available on the {@link LRUCache} instance, making\n   * it safe to pass an LRUCache instance as the options argumemnt to\n   * make another empty cache of the same type.\n   *\n   * Some options are marked as read-only, because changing them after\n   * instantiation is not safe. Changing any of the other options will of\n   * course only have an effect on subsequent method calls.\n   */\n  export interface OptionsBase<K, V, FC> {\n    /**\n     * The maximum number of items to store in the cache before evicting\n     * old entries. This is read-only on the {@link LRUCache} instance,\n     * and may not be overridden.\n     *\n     * If set, then storage space will be pre-allocated at construction\n     * time, and the cache will perform significantly faster.\n     *\n     * Note that significantly fewer items may be stored, if\n     * {@link OptionsBase.maxSize} and/or {@link OptionsBase.ttl} are also\n     * set.\n     *\n     * **It is strongly recommended to set a `max` to prevent unbounded growth\n     * of the cache.**\n     */\n    max?: Count\n\n    /**\n     * Max time in milliseconds for items to live in cache before they are\n     * considered stale.  Note that stale items are NOT preemptively removed by\n     * default, and MAY live in the cache, contributing to its LRU max, long\n     * after they have expired, unless {@link OptionsBase.ttlAutopurge} is\n     * set.\n     *\n     * If set to `0` (the default value), then that means \"do not track\n     * TTL\", not \"expire immediately\".\n     *\n     * Also, as this cache is optimized for LRU/MRU operations, some of\n     * the staleness/TTL checks will reduce performance, as they will incur\n     * overhead by deleting items.\n     *\n     * This is not primarily a TTL cache, and does not make strong TTL\n     * guarantees. There is no pre-emptive pruning of expired items, but you\n     * _may_ set a TTL on the cache, and it will treat expired items as missing\n     * when they are fetched, and delete them.\n     *\n     * Optional, but must be a non-negative integer in ms if specified.\n     *\n     * This may be overridden by passing an options object to `cache.set()`.\n     *\n     * At least one of `max`, `maxSize`, or `TTL` is required. This must be a\n     * positive integer if set.\n     *\n     * Even if ttl tracking is enabled, **it is strongly recommended to set a\n     * `max` to prevent unbounded growth of the cache.**\n     *\n     * If ttl tracking is enabled, and `max` and `maxSize` are not set,\n     * and `ttlAutopurge` is not set, then a warning will be emitted\n     * cautioning about the potential for unbounded memory consumption.\n     * (The TypeScript definitions will also discourage this.)\n     */\n    ttl?: Milliseconds\n\n    /**\n     * Minimum amount of time in ms in which to check for staleness.\n     * Defaults to 1, which means that the current time is checked\n     * at most once per millisecond.\n     *\n     * Set to 0 to check the current time every time staleness is tested.\n     * (This reduces performance, and is theoretically unnecessary.)\n     *\n     * Setting this to a higher value will improve performance somewhat\n     * while using ttl tracking, albeit at the expense of keeping stale\n     * items around a bit longer than their TTLs would indicate.\n     *\n     * @default 1\n     */\n    ttlResolution?: Milliseconds\n\n    /**\n     * Preemptively remove stale items from the cache.\n     *\n     * Note that this may *significantly* degrade performance, especially if\n     * the cache is storing a large number of items. It is almost always best\n     * to just leave the stale items in the cache, and let them fall out as new\n     * items are added.\n     *\n     * Note that this means that {@link OptionsBase.allowStale} is a bit\n     * pointless, as stale items will be deleted almost as soon as they\n     * expire.\n     *\n     * Use with caution!\n     */\n    ttlAutopurge?: boolean\n\n    /**\n     * When using time-expiring entries with `ttl`, setting this to `true` will\n     * make each item's age reset to 0 whenever it is retrieved from cache with\n     * {@link LRUCache#get}, causing it to not expire. (It can still fall out\n     * of cache based on recency of use, of course.)\n     *\n     * Has no effect if {@link OptionsBase.ttl} is not set.\n     *\n     * This may be overridden by passing an options object to `cache.get()`.\n     */\n    updateAgeOnGet?: boolean\n\n    /**\n     * When using time-expiring entries with `ttl`, setting this to `true` will\n     * make each item's age reset to 0 whenever its presence in the cache is\n     * checked with {@link LRUCache#has}, causing it to not expire. (It can\n     * still fall out of cache based on recency of use, of course.)\n     *\n     * Has no effect if {@link OptionsBase.ttl} is not set.\n     */\n    updateAgeOnHas?: boolean\n\n    /**\n     * Allow {@link LRUCache#get} and {@link LRUCache#fetch} calls to return\n     * stale data, if available.\n     *\n     * By default, if you set `ttl`, stale items will only be deleted from the\n     * cache when you `get(key)`. That is, it's not preemptively pruning items,\n     * unless {@link OptionsBase.ttlAutopurge} is set.\n     *\n     * If you set `allowStale:true`, it'll return the stale value *as well as*\n     * deleting it. If you don't set this, then it'll return `undefined` when\n     * you try to get a stale entry.\n     *\n     * Note that when a stale entry is fetched, _even if it is returned due to\n     * `allowStale` being set_, it is removed from the cache immediately. You\n     * can suppress this behavior by setting\n     * {@link OptionsBase.noDeleteOnStaleGet}, either in the constructor, or in\n     * the options provided to {@link LRUCache#get}.\n     *\n     * This may be overridden by passing an options object to `cache.get()`.\n     * The `cache.has()` method will always return `false` for stale items.\n     *\n     * Only relevant if a ttl is set.\n     */\n    allowStale?: boolean\n\n    /**\n     * Function that is called on items when they are dropped from the\n     * cache, as `dispose(value, key, reason)`.\n     *\n     * This can be handy if you want to close file descriptors or do\n     * other cleanup tasks when items are no longer stored in the cache.\n     *\n     * **NOTE**: It is called _before_ the item has been fully removed\n     * from the cache, so if you want to put it right back in, you need\n     * to wait until the next tick. If you try to add it back in during\n     * the `dispose()` function call, it will break things in subtle and\n     * weird ways.\n     *\n     * Unlike several other options, this may _not_ be overridden by\n     * passing an option to `set()`, for performance reasons.\n     *\n     * The `reason` will be one of the following strings, corresponding\n     * to the reason for the item's deletion:\n     *\n     * - `evict` Item was evicted to make space for a new addition\n     * - `set` Item was overwritten by a new value\n     * - `expire` Item expired its TTL\n     * - `fetch` Item was deleted due to a failed or aborted fetch, or a\n     *   fetchMethod returning `undefined.\n     * - `delete` Item was removed by explicit `cache.delete(key)`,\n     *   `cache.clear()`, or `cache.set(key, undefined)`.\n     */\n    dispose?: Disposer<K, V>\n\n    /**\n     * The same as {@link OptionsBase.dispose}, but called *after* the entry\n     * is completely removed and the cache is once again in a clean state.\n     *\n     * It is safe to add an item right back into the cache at this point.\n     * However, note that it is *very* easy to inadvertently create infinite\n     * recursion this way.\n     */\n    disposeAfter?: Disposer<K, V>\n\n    /**\n     * Set to true to suppress calling the\n     * {@link OptionsBase.dispose} function if the entry key is\n     * still accessible within the cache.\n     *\n     * This may be overridden by passing an options object to\n     * {@link LRUCache#set}.\n     *\n     * Only relevant if `dispose` or `disposeAfter` are set.\n     */\n    noDisposeOnSet?: boolean\n\n    /**\n     * Boolean flag to tell the cache to not update the TTL when setting a new\n     * value for an existing key (ie, when updating a value rather than\n     * inserting a new value).  Note that the TTL value is _always_ set (if\n     * provided) when adding a new entry into the cache.\n     *\n     * Has no effect if a {@link OptionsBase.ttl} is not set.\n     *\n     * May be passed as an option to {@link LRUCache#set}.\n     */\n    noUpdateTTL?: boolean\n\n    /**\n     * Set to a positive integer to track the sizes of items added to the\n     * cache, and automatically evict items in order to stay below this size.\n     * Note that this may result in fewer than `max` items being stored.\n     *\n     * Attempting to add an item to the cache whose calculated size is greater\n     * that this amount will be a no-op. The item will not be cached, and no\n     * other items will be evicted.\n     *\n     * Optional, must be a positive integer if provided.\n     *\n     * Sets `maxEntrySize` to the same value, unless a different value is\n     * provided for `maxEntrySize`.\n     *\n     * At least one of `max`, `maxSize`, or `TTL` is required. This must be a\n     * positive integer if set.\n     *\n     * Even if size tracking is enabled, **it is strongly recommended to set a\n     * `max` to prevent unbounded growth of the cache.**\n     *\n     * Note also that size tracking can negatively impact performance,\n     * though for most cases, only minimally.\n     */\n    maxSize?: Size\n\n    /**\n     * The maximum allowed size for any single item in the cache.\n     *\n     * If a larger item is passed to {@link LRUCache#set} or returned by a\n     * {@link OptionsBase.fetchMethod} or {@link OptionsBase.memoMethod}, then\n     * it will not be stored in the cache.\n     *\n     * Attempting to add an item whose calculated size is greater than\n     * this amount will not cache the item or evict any old items, but\n     * WILL delete an existing value if one is already present.\n     *\n     * Optional, must be a positive integer if provided. Defaults to\n     * the value of `maxSize` if provided.\n     */\n    maxEntrySize?: Size\n\n    /**\n     * A function that returns a number indicating the item's size.\n     *\n     * Requires {@link OptionsBase.maxSize} to be set.\n     *\n     * If not provided, and {@link OptionsBase.maxSize} or\n     * {@link OptionsBase.maxEntrySize} are set, then all\n     * {@link LRUCache#set} calls **must** provide an explicit\n     * {@link SetOptions.size} or sizeCalculation param.\n     */\n    sizeCalculation?: SizeCalculator<K, V>\n\n    /**\n     * Method that provides the implementation for {@link LRUCache#fetch}\n     *\n     * ```ts\n     * fetchMethod(key, staleValue, { signal, options, context })\n     * ```\n     *\n     * If `fetchMethod` is not provided, then `cache.fetch(key)` is equivalent\n     * to `Promise.resolve(cache.get(key))`.\n     *\n     * If at any time, `signal.aborted` is set to `true`, or if the\n     * `signal.onabort` method is called, or if it emits an `'abort'` event\n     * which you can listen to with `addEventListener`, then that means that\n     * the fetch should be abandoned. This may be passed along to async\n     * functions aware of AbortController/AbortSignal behavior.\n     *\n     * The `fetchMethod` should **only** return `undefined` or a Promise\n     * resolving to `undefined` if the AbortController signaled an `abort`\n     * event. In all other cases, it should return or resolve to a value\n     * suitable for adding to the cache.\n     *\n     * The `options` object is a union of the options that may be provided to\n     * `set()` and `get()`. If they are modified, then that will result in\n     * modifying the settings to `cache.set()` when the value is resolved, and\n     * in the case of\n     * {@link OptionsBase.noDeleteOnFetchRejection} and\n     * {@link OptionsBase.allowStaleOnFetchRejection}, the handling of\n     * `fetchMethod` failures.\n     *\n     * For example, a DNS cache may update the TTL based on the value returned\n     * from a remote DNS server by changing `options.ttl` in the `fetchMethod`.\n     */\n    fetchMethod?: Fetcher<K, V, FC>\n\n    /**\n     * Method that provides the implementation for {@link LRUCache#memo}\n     */\n    memoMethod?: Memoizer<K, V, FC>\n\n    /**\n     * Set to true to suppress the deletion of stale data when a\n     * {@link OptionsBase.fetchMethod} returns a rejected promise.\n     */\n    noDeleteOnFetchRejection?: boolean\n\n    /**\n     * Do not delete stale items when they are retrieved with\n     * {@link LRUCache#get}.\n     *\n     * Note that the `get` return value will still be `undefined`\n     * unless {@link OptionsBase.allowStale} is true.\n     *\n     * When using time-expiring entries with `ttl`, by default stale\n     * items will be removed from the cache when the key is accessed\n     * with `cache.get()`.\n     *\n     * Setting this option will cause stale items to remain in the cache, until\n     * they are explicitly deleted with `cache.delete(key)`, or retrieved with\n     * `noDeleteOnStaleGet` set to `false`.\n     *\n     * This may be overridden by passing an options object to `cache.get()`.\n     *\n     * Only relevant if a ttl is used.\n     */\n    noDeleteOnStaleGet?: boolean\n\n    /**\n     * Set to true to allow returning stale data when a\n     * {@link OptionsBase.fetchMethod} throws an error or returns a rejected\n     * promise.\n     *\n     * This differs from using {@link OptionsBase.allowStale} in that stale\n     * data will ONLY be returned in the case that the {@link LRUCache#fetch}\n     * fails, not any other times.\n     *\n     * If a `fetchMethod` fails, and there is no stale value available, the\n     * `fetch()` will resolve to `undefined`. Ie, all `fetchMethod` errors are\n     * suppressed.\n     *\n     * Implies `noDeleteOnFetchRejection`.\n     *\n     * This may be set in calls to `fetch()`, or defaulted on the constructor,\n     * or overridden by modifying the options object in the `fetchMethod`.\n     */\n    allowStaleOnFetchRejection?: boolean\n\n    /**\n     * Set to true to return a stale value from the cache when the\n     * `AbortSignal` passed to the {@link OptionsBase.fetchMethod} dispatches\n     * an `'abort'` event, whether user-triggered, or due to internal cache\n     * behavior.\n     *\n     * Unless {@link OptionsBase.ignoreFetchAbort} is also set, the underlying\n     * {@link OptionsBase.fetchMethod} will still be considered canceled, and\n     * any value it returns will be ignored and not cached.\n     *\n     * Caveat: since fetches are aborted when a new value is explicitly\n     * set in the cache, this can lead to fetch returning a stale value,\n     * since that was the fallback value _at the moment the `fetch()` was\n     * initiated_, even though the new updated value is now present in\n     * the cache.\n     *\n     * For example:\n     *\n     * ```ts\n     * const cache = new LRUCache<string, any>({\n     *   ttl: 100,\n     *   fetchMethod: async (url, oldValue, { signal }) =>  {\n     *     const res = await fetch(url, { signal })\n     *     return await res.json()\n     *   }\n     * })\n     * cache.set('https://example.com/', { some: 'data' })\n     * // 100ms go by...\n     * const result = cache.fetch('https://example.com/')\n     * cache.set('https://example.com/', { other: 'thing' })\n     * console.log(await result) // { some: 'data' }\n     * console.log(cache.get('https://example.com/')) // { other: 'thing' }\n     * ```\n     */\n    allowStaleOnFetchAbort?: boolean\n\n    /**\n     * Set to true to ignore the `abort` event emitted by the `AbortSignal`\n     * object passed to {@link OptionsBase.fetchMethod}, and still cache the\n     * resulting resolution value, as long as it is not `undefined`.\n     *\n     * When used on its own, this means aborted {@link LRUCache#fetch} calls\n     * are not immediately resolved or rejected when they are aborted, and\n     * instead take the full time to await.\n     *\n     * When used with {@link OptionsBase.allowStaleOnFetchAbort}, aborted\n     * {@link LRUCache#fetch} calls will resolve immediately to their stale\n     * cached value or `undefined`, and will continue to process and eventually\n     * update the cache when they resolve, as long as the resulting value is\n     * not `undefined`, thus supporting a \"return stale on timeout while\n     * refreshing\" mechanism by passing `AbortSignal.timeout(n)` as the signal.\n     *\n     * For example:\n     *\n     * ```ts\n     * const c = new LRUCache({\n     *   ttl: 100,\n     *   ignoreFetchAbort: true,\n     *   allowStaleOnFetchAbort: true,\n     *   fetchMethod: async (key, oldValue, { signal }) => {\n     *     // note: do NOT pass the signal to fetch()!\n     *     // let's say this fetch can take a long time.\n     *     const res = await fetch(`https://slow-backend-server/${key}`)\n     *     return await res.json()\n     *   },\n     * })\n     *\n     * // this will return the stale value after 100ms, while still\n     * // updating in the background for next time.\n     * const val = await c.fetch('key', { signal: AbortSignal.timeout(100) })\n     * ```\n     *\n     * **Note**: regardless of this setting, an `abort` event _is still\n     * emitted on the `AbortSignal` object_, so may result in invalid results\n     * when passed to other underlying APIs that use AbortSignals.\n     *\n     * This may be overridden in the {@link OptionsBase.fetchMethod} or the\n     * call to {@link LRUCache#fetch}.\n     */\n    ignoreFetchAbort?: boolean\n  }\n\n  export interface OptionsMaxLimit<K, V, FC>\n    extends OptionsBase<K, V, FC> {\n    max: Count\n  }\n  export interface OptionsTTLLimit<K, V, FC>\n    extends OptionsBase<K, V, FC> {\n    ttl: Milliseconds\n    ttlAutopurge: boolean\n  }\n  export interface OptionsSizeLimit<K, V, FC>\n    extends OptionsBase<K, V, FC> {\n    maxSize: Size\n  }\n\n  /**\n   * The valid safe options for the {@link LRUCache} constructor\n   */\n  export type Options<K, V, FC> =\n    | OptionsMaxLimit<K, V, FC>\n    | OptionsSizeLimit<K, V, FC>\n    | OptionsTTLLimit<K, V, FC>\n\n  /**\n   * Entry objects used by {@link LRUCache#load} and {@link LRUCache#dump},\n   * and returned by {@link LRUCache#info}.\n   */\n  export interface Entry<V> {\n    value: V\n    ttl?: Milliseconds\n    size?: Size\n    start?: Milliseconds\n  }\n}\n\n/**\n * Default export, the thing you're using this module to get.\n *\n * The `K` and `V` types define the key and value types, respectively. The\n * optional `FC` type defines the type of the `context` object passed to\n * `cache.fetch()` and `cache.memo()`.\n *\n * Keys and values **must not** be `null` or `undefined`.\n *\n * All properties from the options object (with the exception of `max`,\n * `maxSize`, `fetchMethod`, `memoMethod`, `dispose` and `disposeAfter`) are\n * added as normal public members. (The listed options are read-only getters.)\n *\n * Changing any of these will alter the defaults for subsequent method calls.\n */\nexport class LRUCache<K extends {}, V extends {}, FC = unknown> {\n  // options that cannot be changed without disaster\n  readonly #max: LRUCache.Count\n  readonly #maxSize: LRUCache.Size\n  readonly #dispose?: LRUCache.Disposer<K, V>\n  readonly #disposeAfter?: LRUCache.Disposer<K, V>\n  readonly #fetchMethod?: LRUCache.Fetcher<K, V, FC>\n  readonly #memoMethod?: LRUCache.Memoizer<K, V, FC>\n\n  /**\n   * {@link LRUCache.OptionsBase.ttl}\n   */\n  ttl: LRUCache.Milliseconds\n\n  /**\n   * {@link LRUCache.OptionsBase.ttlResolution}\n   */\n  ttlResolution: LRUCache.Milliseconds\n  /**\n   * {@link LRUCache.OptionsBase.ttlAutopurge}\n   */\n  ttlAutopurge: boolean\n  /**\n   * {@link LRUCache.OptionsBase.updateAgeOnGet}\n   */\n  updateAgeOnGet: boolean\n  /**\n   * {@link LRUCache.OptionsBase.updateAgeOnHas}\n   */\n  updateAgeOnHas: boolean\n  /**\n   * {@link LRUCache.OptionsBase.allowStale}\n   */\n  allowStale: boolean\n\n  /**\n   * {@link LRUCache.OptionsBase.noDisposeOnSet}\n   */\n  noDisposeOnSet: boolean\n  /**\n   * {@link LRUCache.OptionsBase.noUpdateTTL}\n   */\n  noUpdateTTL: boolean\n  /**\n   * {@link LRUCache.OptionsBase.maxEntrySize}\n   */\n  maxEntrySize: LRUCache.Size\n  /**\n   * {@link LRUCache.OptionsBase.sizeCalculation}\n   */\n  sizeCalculation?: LRUCache.SizeCalculator<K, V>\n  /**\n   * {@link LRUCache.OptionsBase.noDeleteOnFetchRejection}\n   */\n  noDeleteOnFetchRejection: boolean\n  /**\n   * {@link LRUCache.OptionsBase.noDeleteOnStaleGet}\n   */\n  noDeleteOnStaleGet: boolean\n  /**\n   * {@link LRUCache.OptionsBase.allowStaleOnFetchAbort}\n   */\n  allowStaleOnFetchAbort: boolean\n  /**\n   * {@link LRUCache.OptionsBase.allowStaleOnFetchRejection}\n   */\n  allowStaleOnFetchRejection: boolean\n  /**\n   * {@link LRUCache.OptionsBase.ignoreFetchAbort}\n   */\n  ignoreFetchAbort: boolean\n\n  // computed properties\n  #size: LRUCache.Count\n  #calculatedSize: LRUCache.Size\n  #keyMap: Map<K, Index>\n  #keyList: (K | undefined)[]\n  #valList: (V | BackgroundFetch<V> | undefined)[]\n  #next: NumberArray\n  #prev: NumberArray\n  #head: Index\n  #tail: Index\n  #free: StackLike\n  #disposed?: DisposeTask<K, V>[]\n  #sizes?: ZeroArray\n  #starts?: ZeroArray\n  #ttls?: ZeroArray\n\n  #hasDispose: boolean\n  #hasFetchMethod: boolean\n  #hasDisposeAfter: boolean\n\n  /**\n   * Do not call this method unless you need to inspect the\n   * inner workings of the cache.  If anything returned by this\n   * object is modified in any way, strange breakage may occur.\n   *\n   * These fields are private for a reason!\n   *\n   * @internal\n   */\n  static unsafeExposeInternals<\n    K extends {},\n    V extends {},\n    FC extends unknown = unknown\n  >(c: LRUCache<K, V, FC>) {\n    return {\n      // properties\n      starts: c.#starts,\n      ttls: c.#ttls,\n      sizes: c.#sizes,\n      keyMap: c.#keyMap as Map<K, number>,\n      keyList: c.#keyList,\n      valList: c.#valList,\n      next: c.#next,\n      prev: c.#prev,\n      get head() {\n        return c.#head\n      },\n      get tail() {\n        return c.#tail\n      },\n      free: c.#free,\n      // methods\n      isBackgroundFetch: (p: any) => c.#isBackgroundFetch(p),\n      backgroundFetch: (\n        k: K,\n        index: number | undefined,\n        options: LRUCache.FetchOptions<K, V, FC>,\n        context: any\n      ): BackgroundFetch<V> =>\n        c.#backgroundFetch(\n          k,\n          index as Index | undefined,\n          options,\n          context\n        ),\n      moveToTail: (index: number): void =>\n        c.#moveToTail(index as Index),\n      indexes: (options?: { allowStale: boolean }) =>\n        c.#indexes(options),\n      rindexes: (options?: { allowStale: boolean }) =>\n        c.#rindexes(options),\n      isStale: (index: number | undefined) =>\n        c.#isStale(index as Index),\n    }\n  }\n\n  // Protected read-only members\n\n  /**\n   * {@link LRUCache.OptionsBase.max} (read-only)\n   */\n  get max(): LRUCache.Count {\n    return this.#max\n  }\n  /**\n   * {@link LRUCache.OptionsBase.maxSize} (read-only)\n   */\n  get maxSize(): LRUCache.Count {\n    return this.#maxSize\n  }\n  /**\n   * The total computed size of items in the cache (read-only)\n   */\n  get calculatedSize(): LRUCache.Size {\n    return this.#calculatedSize\n  }\n  /**\n   * The number of items stored in the cache (read-only)\n   */\n  get size(): LRUCache.Count {\n    return this.#size\n  }\n  /**\n   * {@link LRUCache.OptionsBase.fetchMethod} (read-only)\n   */\n  get fetchMethod(): LRUCache.Fetcher<K, V, FC> | undefined {\n    return this.#fetchMethod\n  }\n  get memoMethod(): LRUCache.Memoizer<K, V, FC> | undefined {\n    return this.#memoMethod\n  }\n  /**\n   * {@link LRUCache.OptionsBase.dispose} (read-only)\n   */\n  get dispose() {\n    return this.#dispose\n  }\n  /**\n   * {@link LRUCache.OptionsBase.disposeAfter} (read-only)\n   */\n  get disposeAfter() {\n    return this.#disposeAfter\n  }\n\n  constructor(\n    options: LRUCache.Options<K, V, FC> | LRUCache<K, V, FC>\n  ) {\n    const {\n      max = 0,\n      ttl,\n      ttlResolution = 1,\n      ttlAutopurge,\n      updateAgeOnGet,\n      updateAgeOnHas,\n      allowStale,\n      dispose,\n      disposeAfter,\n      noDisposeOnSet,\n      noUpdateTTL,\n      maxSize = 0,\n      maxEntrySize = 0,\n      sizeCalculation,\n      fetchMethod,\n      memoMethod,\n      noDeleteOnFetchRejection,\n      noDeleteOnStaleGet,\n      allowStaleOnFetchRejection,\n      allowStaleOnFetchAbort,\n      ignoreFetchAbort,\n    } = options\n\n    if (max !== 0 && !isPosInt(max)) {\n      throw new TypeError('max option must be a nonnegative integer')\n    }\n\n    const UintArray = max ? getUintArray(max) : Array\n    if (!UintArray) {\n      throw new Error('invalid max value: ' + max)\n    }\n\n    this.#max = max\n    this.#maxSize = maxSize\n    this.maxEntrySize = maxEntrySize || this.#maxSize\n    this.sizeCalculation = sizeCalculation\n    if (this.sizeCalculation) {\n      if (!this.#maxSize && !this.maxEntrySize) {\n        throw new TypeError(\n          'cannot set sizeCalculation without setting maxSize or maxEntrySize'\n        )\n      }\n      if (typeof this.sizeCalculation !== 'function') {\n        throw new TypeError('sizeCalculation set to non-function')\n      }\n    }\n\n    if (\n      memoMethod !== undefined &&\n      typeof memoMethod !== 'function'\n    ) {\n      throw new TypeError('memoMethod must be a function if defined')\n    }\n    this.#memoMethod = memoMethod\n\n    if (\n      fetchMethod !== undefined &&\n      typeof fetchMethod !== 'function'\n    ) {\n      throw new TypeError(\n        'fetchMethod must be a function if specified'\n      )\n    }\n    this.#fetchMethod = fetchMethod\n    this.#hasFetchMethod = !!fetchMethod\n\n    this.#keyMap = new Map()\n    this.#keyList = new Array(max).fill(undefined)\n    this.#valList = new Array(max).fill(undefined)\n    this.#next = new UintArray(max)\n    this.#prev = new UintArray(max)\n    this.#head = 0 as Index\n    this.#tail = 0 as Index\n    this.#free = Stack.create(max)\n    this.#size = 0\n    this.#calculatedSize = 0\n\n    if (typeof dispose === 'function') {\n      this.#dispose = dispose\n    }\n    if (typeof disposeAfter === 'function') {\n      this.#disposeAfter = disposeAfter\n      this.#disposed = []\n    } else {\n      this.#disposeAfter = undefined\n      this.#disposed = undefined\n    }\n    this.#hasDispose = !!this.#dispose\n    this.#hasDisposeAfter = !!this.#disposeAfter\n\n    this.noDisposeOnSet = !!noDisposeOnSet\n    this.noUpdateTTL = !!noUpdateTTL\n    this.noDeleteOnFetchRejection = !!noDeleteOnFetchRejection\n    this.allowStaleOnFetchRejection = !!allowStaleOnFetchRejection\n    this.allowStaleOnFetchAbort = !!allowStaleOnFetchAbort\n    this.ignoreFetchAbort = !!ignoreFetchAbort\n\n    // NB: maxEntrySize is set to maxSize if it's set\n    if (this.maxEntrySize !== 0) {\n      if (this.#maxSize !== 0) {\n        if (!isPosInt(this.#maxSize)) {\n          throw new TypeError(\n            'maxSize must be a positive integer if specified'\n          )\n        }\n      }\n      if (!isPosInt(this.maxEntrySize)) {\n        throw new TypeError(\n          'maxEntrySize must be a positive integer if specified'\n        )\n      }\n      this.#initializeSizeTracking()\n    }\n\n    this.allowStale = !!allowStale\n    this.noDeleteOnStaleGet = !!noDeleteOnStaleGet\n    this.updateAgeOnGet = !!updateAgeOnGet\n    this.updateAgeOnHas = !!updateAgeOnHas\n    this.ttlResolution =\n      isPosInt(ttlResolution) || ttlResolution === 0\n        ? ttlResolution\n        : 1\n    this.ttlAutopurge = !!ttlAutopurge\n    this.ttl = ttl || 0\n    if (this.ttl) {\n      if (!isPosInt(this.ttl)) {\n        throw new TypeError(\n          'ttl must be a positive integer if specified'\n        )\n      }\n      this.#initializeTTLTracking()\n    }\n\n    // do not allow completely unbounded caches\n    if (this.#max === 0 && this.ttl === 0 && this.#maxSize === 0) {\n      throw new TypeError(\n        'At least one of max, maxSize, or ttl is required'\n      )\n    }\n    if (!this.ttlAutopurge && !this.#max && !this.#maxSize) {\n      const code = 'LRU_CACHE_UNBOUNDED'\n      if (shouldWarn(code)) {\n        warned.add(code)\n        const msg =\n          'TTL caching without ttlAutopurge, max, or maxSize can ' +\n          'result in unbounded memory consumption.'\n        emitWarning(msg, 'UnboundedCacheWarning', code, LRUCache)\n      }\n    }\n  }\n\n  /**\n   * Return the number of ms left in the item's TTL. If item is not in cache,\n   * returns `0`. Returns `Infinity` if item is in cache without a defined TTL.\n   */\n  getRemainingTTL(key: K) {\n    return this.#keyMap.has(key) ? Infinity : 0\n  }\n\n  #initializeTTLTracking() {\n    const ttls = new ZeroArray(this.#max)\n    const starts = new ZeroArray(this.#max)\n    this.#ttls = ttls\n    this.#starts = starts\n\n    this.#setItemTTL = (index, ttl, start = perf.now()) => {\n      starts[index] = ttl !== 0 ? start : 0\n      ttls[index] = ttl\n      if (ttl !== 0 && this.ttlAutopurge) {\n        const t = setTimeout(() => {\n          if (this.#isStale(index)) {\n            this.#delete(this.#keyList[index] as K, 'expire')\n          }\n        }, ttl + 1)\n        // unref() not supported on all platforms\n        /* c8 ignore start */\n        if (t.unref) {\n          t.unref()\n        }\n        /* c8 ignore stop */\n      }\n    }\n\n    this.#updateItemAge = index => {\n      starts[index] = ttls[index] !== 0 ? perf.now() : 0\n    }\n\n    this.#statusTTL = (status, index) => {\n      if (ttls[index]) {\n        const ttl = ttls[index]\n        const start = starts[index]\n        /* c8 ignore next */\n        if (!ttl || !start) return\n        status.ttl = ttl\n        status.start = start\n        status.now = cachedNow || getNow()\n        const age = status.now - start\n        status.remainingTTL = ttl - age\n      }\n    }\n\n    // debounce calls to perf.now() to 1s so we're not hitting\n    // that costly call repeatedly.\n    let cachedNow = 0\n    const getNow = () => {\n      const n = perf.now()\n      if (this.ttlResolution > 0) {\n        cachedNow = n\n        const t = setTimeout(\n          () => (cachedNow = 0),\n          this.ttlResolution\n        )\n        // not available on all platforms\n        /* c8 ignore start */\n        if (t.unref) {\n          t.unref()\n        }\n        /* c8 ignore stop */\n      }\n      return n\n    }\n\n    this.getRemainingTTL = key => {\n      const index = this.#keyMap.get(key)\n      if (index === undefined) {\n        return 0\n      }\n      const ttl = ttls[index]\n      const start = starts[index]\n      if (!ttl || !start) {\n        return Infinity\n      }\n      const age = (cachedNow || getNow()) - start\n      return ttl - age\n    }\n\n    this.#isStale = index => {\n      const s = starts[index]\n      const t = ttls[index]\n      return !!t && !!s && (cachedNow || getNow()) - s > t\n    }\n  }\n\n  // conditionally set private methods related to TTL\n  #updateItemAge: (index: Index) => void = () => {}\n  #statusTTL: (status: LRUCache.Status<V>, index: Index) => void =\n    () => {}\n  #setItemTTL: (\n    index: Index,\n    ttl: LRUCache.Milliseconds,\n    start?: LRUCache.Milliseconds\n    // ignore because we never call this if we're not already in TTL mode\n    /* c8 ignore start */\n  ) => void = () => {}\n  /* c8 ignore stop */\n\n  #isStale: (index: Index) => boolean = () => false\n\n  #initializeSizeTracking() {\n    const sizes = new ZeroArray(this.#max)\n    this.#calculatedSize = 0\n    this.#sizes = sizes\n    this.#removeItemSize = index => {\n      this.#calculatedSize -= sizes[index] as number\n      sizes[index] = 0\n    }\n    this.#requireSize = (k, v, size, sizeCalculation) => {\n      // provisionally accept background fetches.\n      // actual value size will be checked when they return.\n      if (this.#isBackgroundFetch(v)) {\n        return 0\n      }\n      if (!isPosInt(size)) {\n        if (sizeCalculation) {\n          if (typeof sizeCalculation !== 'function') {\n            throw new TypeError('sizeCalculation must be a function')\n          }\n          size = sizeCalculation(v, k)\n          if (!isPosInt(size)) {\n            throw new TypeError(\n              'sizeCalculation return invalid (expect positive integer)'\n            )\n          }\n        } else {\n          throw new TypeError(\n            'invalid size value (must be positive integer). ' +\n              'When maxSize or maxEntrySize is used, sizeCalculation ' +\n              'or size must be set.'\n          )\n        }\n      }\n      return size\n    }\n    this.#addItemSize = (\n      index: Index,\n      size: LRUCache.Size,\n      status?: LRUCache.Status<V>\n    ) => {\n      sizes[index] = size\n      if (this.#maxSize) {\n        const maxSize = this.#maxSize - (sizes[index] as number)\n        while (this.#calculatedSize > maxSize) {\n          this.#evict(true)\n        }\n      }\n      this.#calculatedSize += sizes[index] as number\n      if (status) {\n        status.entrySize = size\n        status.totalCalculatedSize = this.#calculatedSize\n      }\n    }\n  }\n\n  #removeItemSize: (index: Index) => void = _i => {}\n  #addItemSize: (\n    index: Index,\n    size: LRUCache.Size,\n    status?: LRUCache.Status<V>\n  ) => void = (_i, _s, _st) => {}\n  #requireSize: (\n    k: K,\n    v: V | BackgroundFetch<V>,\n    size?: LRUCache.Size,\n    sizeCalculation?: LRUCache.SizeCalculator<K, V>\n  ) => LRUCache.Size = (\n    _k: K,\n    _v: V | BackgroundFetch<V>,\n    size?: LRUCache.Size,\n    sizeCalculation?: LRUCache.SizeCalculator<K, V>\n  ) => {\n    if (size || sizeCalculation) {\n      throw new TypeError(\n        'cannot set size without setting maxSize or maxEntrySize on cache'\n      )\n    }\n    return 0\n  };\n\n  *#indexes({ allowStale = this.allowStale } = {}) {\n    if (this.#size) {\n      for (let i = this.#tail; true; ) {\n        if (!this.#isValidIndex(i)) {\n          break\n        }\n        if (allowStale || !this.#isStale(i)) {\n          yield i\n        }\n        if (i === this.#head) {\n          break\n        } else {\n          i = this.#prev[i] as Index\n        }\n      }\n    }\n  }\n\n  *#rindexes({ allowStale = this.allowStale } = {}) {\n    if (this.#size) {\n      for (let i = this.#head; true; ) {\n        if (!this.#isValidIndex(i)) {\n          break\n        }\n        if (allowStale || !this.#isStale(i)) {\n          yield i\n        }\n        if (i === this.#tail) {\n          break\n        } else {\n          i = this.#next[i] as Index\n        }\n      }\n    }\n  }\n\n  #isValidIndex(index: Index) {\n    return (\n      index !== undefined &&\n      this.#keyMap.get(this.#keyList[index] as K) === index\n    )\n  }\n\n  /**\n   * Return a generator yielding `[key, value]` pairs,\n   * in order from most recently used to least recently used.\n   */\n  *entries() {\n    for (const i of this.#indexes()) {\n      if (\n        this.#valList[i] !== undefined &&\n        this.#keyList[i] !== undefined &&\n        !this.#isBackgroundFetch(this.#valList[i])\n      ) {\n        yield [this.#keyList[i], this.#valList[i]] as [K, V]\n      }\n    }\n  }\n\n  /**\n   * Inverse order version of {@link LRUCache.entries}\n   *\n   * Return a generator yielding `[key, value]` pairs,\n   * in order from least recently used to most recently used.\n   */\n  *rentries() {\n    for (const i of this.#rindexes()) {\n      if (\n        this.#valList[i] !== undefined &&\n        this.#keyList[i] !== undefined &&\n        !this.#isBackgroundFetch(this.#valList[i])\n      ) {\n        yield [this.#keyList[i], this.#valList[i]]\n      }\n    }\n  }\n\n  /**\n   * Return a generator yielding the keys in the cache,\n   * in order from most recently used to least recently used.\n   */\n  *keys() {\n    for (const i of this.#indexes()) {\n      const k = this.#keyList[i]\n      if (\n        k !== undefined &&\n        !this.#isBackgroundFetch(this.#valList[i])\n      ) {\n        yield k\n      }\n    }\n  }\n\n  /**\n   * Inverse order version of {@link LRUCache.keys}\n   *\n   * Return a generator yielding the keys in the cache,\n   * in order from least recently used to most recently used.\n   */\n  *rkeys() {\n    for (const i of this.#rindexes()) {\n      const k = this.#keyList[i]\n      if (\n        k !== undefined &&\n        !this.#isBackgroundFetch(this.#valList[i])\n      ) {\n        yield k\n      }\n    }\n  }\n\n  /**\n   * Return a generator yielding the values in the cache,\n   * in order from most recently used to least recently used.\n   */\n  *values() {\n    for (const i of this.#indexes()) {\n      const v = this.#valList[i]\n      if (\n        v !== undefined &&\n        !this.#isBackgroundFetch(this.#valList[i])\n      ) {\n        yield this.#valList[i] as V\n      }\n    }\n  }\n\n  /**\n   * Inverse order version of {@link LRUCache.values}\n   *\n   * Return a generator yielding the values in the cache,\n   * in order from least recently used to most recently used.\n   */\n  *rvalues() {\n    for (const i of this.#rindexes()) {\n      const v = this.#valList[i]\n      if (\n        v !== undefined &&\n        !this.#isBackgroundFetch(this.#valList[i])\n      ) {\n        yield this.#valList[i]\n      }\n    }\n  }\n\n  /**\n   * Iterating over the cache itself yields the same results as\n   * {@link LRUCache.entries}\n   */\n  [Symbol.iterator]() {\n    return this.entries()\n  }\n\n  /**\n   * A String value that is used in the creation of the default string\n   * description of an object. Called by the built-in method\n   * `Object.prototype.toString`.\n   */\n  [Symbol.toStringTag] = 'LRUCache'\n\n  /**\n   * Find a value for which the supplied fn method returns a truthy value,\n   * similar to `Array.find()`. fn is called as `fn(value, key, cache)`.\n   */\n  find(\n    fn: (v: V, k: K, self: LRUCache<K, V, FC>) => boolean,\n    getOptions: LRUCache.GetOptions<K, V, FC> = {}\n  ) {\n    for (const i of this.#indexes()) {\n      const v = this.#valList[i]\n      const value = this.#isBackgroundFetch(v)\n        ? v.__staleWhileFetching\n        : v\n      if (value === undefined) continue\n      if (fn(value, this.#keyList[i] as K, this)) {\n        return this.get(this.#keyList[i] as K, getOptions)\n      }\n    }\n  }\n\n  /**\n   * Call the supplied function on each item in the cache, in order from most\n   * recently used to least recently used.\n   *\n   * `fn` is called as `fn(value, key, cache)`.\n   *\n   * If `thisp` is provided, function will be called in the `this`-context of\n   * the provided object, or the cache if no `thisp` object is provided.\n   *\n   * Does not update age or recenty of use, or iterate over stale values.\n   */\n  forEach(\n    fn: (v: V, k: K, self: LRUCache<K, V, FC>) => any,\n    thisp: any = this\n  ) {\n    for (const i of this.#indexes()) {\n      const v = this.#valList[i]\n      const value = this.#isBackgroundFetch(v)\n        ? v.__staleWhileFetching\n        : v\n      if (value === undefined) continue\n      fn.call(thisp, value, this.#keyList[i] as K, this)\n    }\n  }\n\n  /**\n   * The same as {@link LRUCache.forEach} but items are iterated over in\n   * reverse order.  (ie, less recently used items are iterated over first.)\n   */\n  rforEach(\n    fn: (v: V, k: K, self: LRUCache<K, V, FC>) => any,\n    thisp: any = this\n  ) {\n    for (const i of this.#rindexes()) {\n      const v = this.#valList[i]\n      const value = this.#isBackgroundFetch(v)\n        ? v.__staleWhileFetching\n        : v\n      if (value === undefined) continue\n      fn.call(thisp, value, this.#keyList[i] as K, this)\n    }\n  }\n\n  /**\n   * Delete any stale entries. Returns true if anything was removed,\n   * false otherwise.\n   */\n  purgeStale() {\n    let deleted = false\n    for (const i of this.#rindexes({ allowStale: true })) {\n      if (this.#isStale(i)) {\n        this.#delete(this.#keyList[i] as K, 'expire')\n        deleted = true\n      }\n    }\n    return deleted\n  }\n\n  /**\n   * Get the extended info about a given entry, to get its value, size, and\n   * TTL info simultaneously. Returns `undefined` if the key is not present.\n   *\n   * Unlike {@link LRUCache#dump}, which is designed to be portable and survive\n   * serialization, the `start` value is always the current timestamp, and the\n   * `ttl` is a calculated remaining time to live (negative if expired).\n   *\n   * Always returns stale values, if their info is found in the cache, so be\n   * sure to check for expirations (ie, a negative {@link LRUCache.Entry#ttl})\n   * if relevant.\n   */\n  info(key: K): LRUCache.Entry<V> | undefined {\n    const i = this.#keyMap.get(key)\n    if (i === undefined) return undefined\n    const v = this.#valList[i]\n    const value: V | undefined = this.#isBackgroundFetch(v)\n      ? v.__staleWhileFetching\n      : v\n    if (value === undefined) return undefined\n    const entry: LRUCache.Entry<V> = { value }\n    if (this.#ttls && this.#starts) {\n      const ttl = this.#ttls[i]\n      const start = this.#starts[i]\n      if (ttl && start) {\n        const remain = ttl - (perf.now() - start)\n        entry.ttl = remain\n        entry.start = Date.now()\n      }\n    }\n    if (this.#sizes) {\n      entry.size = this.#sizes[i]\n    }\n    return entry\n  }\n\n  /**\n   * Return an array of [key, {@link LRUCache.Entry}] tuples which can be\n   * passed to {@link LRUCache#load}.\n   *\n   * The `start` fields are calculated relative to a portable `Date.now()`\n   * timestamp, even if `performance.now()` is available.\n   *\n   * Stale entries are always included in the `dump`, even if\n   * {@link LRUCache.OptionsBase.allowStale} is false.\n   *\n   * Note: this returns an actual array, not a generator, so it can be more\n   * easily passed around.\n   */\n  dump() {\n    const arr: [K, LRUCache.Entry<V>][] = []\n    for (const i of this.#indexes({ allowStale: true })) {\n      const key = this.#keyList[i]\n      const v = this.#valList[i]\n      const value: V | undefined = this.#isBackgroundFetch(v)\n        ? v.__staleWhileFetching\n        : v\n      if (value === undefined || key === undefined) continue\n      const entry: LRUCache.Entry<V> = { value }\n      if (this.#ttls && this.#starts) {\n        entry.ttl = this.#ttls[i]\n        // always dump the start relative to a portable timestamp\n        // it's ok for this to be a bit slow, it's a rare operation.\n        const age = perf.now() - (this.#starts[i] as number)\n        entry.start = Math.floor(Date.now() - age)\n      }\n      if (this.#sizes) {\n        entry.size = this.#sizes[i]\n      }\n      arr.unshift([key, entry])\n    }\n    return arr\n  }\n\n  /**\n   * Reset the cache and load in the items in entries in the order listed.\n   *\n   * The shape of the resulting cache may be different if the same options are\n   * not used in both caches.\n   *\n   * The `start` fields are assumed to be calculated relative to a portable\n   * `Date.now()` timestamp, even if `performance.now()` is available.\n   */\n  load(arr: [K, LRUCache.Entry<V>][]) {\n    this.clear()\n    for (const [key, entry] of arr) {\n      if (entry.start) {\n        // entry.start is a portable timestamp, but we may be using\n        // node's performance.now(), so calculate the offset, so that\n        // we get the intended remaining TTL, no matter how long it's\n        // been on ice.\n        //\n        // it's ok for this to be a bit slow, it's a rare operation.\n        const age = Date.now() - entry.start\n        entry.start = perf.now() - age\n      }\n      this.set(key, entry.value, entry)\n    }\n  }\n\n  /**\n   * Add a value to the cache.\n   *\n   * Note: if `undefined` is specified as a value, this is an alias for\n   * {@link LRUCache#delete}\n   *\n   * Fields on the {@link LRUCache.SetOptions} options param will override\n   * their corresponding values in the constructor options for the scope\n   * of this single `set()` operation.\n   *\n   * If `start` is provided, then that will set the effective start\n   * time for the TTL calculation. Note that this must be a previous\n   * value of `performance.now()` if supported, or a previous value of\n   * `Date.now()` if not.\n   *\n   * Options object may also include `size`, which will prevent\n   * calling the `sizeCalculation` function and just use the specified\n   * number if it is a positive integer, and `noDisposeOnSet` which\n   * will prevent calling a `dispose` function in the case of\n   * overwrites.\n   *\n   * If the `size` (or return value of `sizeCalculation`) for a given\n   * entry is greater than `maxEntrySize`, then the item will not be\n   * added to the cache.\n   *\n   * Will update the recency of the entry.\n   *\n   * If the value is `undefined`, then this is an alias for\n   * `cache.delete(key)`. `undefined` is never stored in the cache.\n   */\n  set(\n    k: K,\n    v: V | BackgroundFetch<V> | undefined,\n    setOptions: LRUCache.SetOptions<K, V, FC> = {}\n  ) {\n    if (v === undefined) {\n      this.delete(k)\n      return this\n    }\n    const {\n      ttl = this.ttl,\n      start,\n      noDisposeOnSet = this.noDisposeOnSet,\n      sizeCalculation = this.sizeCalculation,\n      status,\n    } = setOptions\n    let { noUpdateTTL = this.noUpdateTTL } = setOptions\n\n    const size = this.#requireSize(\n      k,\n      v,\n      setOptions.size || 0,\n      sizeCalculation\n    )\n    // if the item doesn't fit, don't do anything\n    // NB: maxEntrySize set to maxSize by default\n    if (this.maxEntrySize && size > this.maxEntrySize) {\n      if (status) {\n        status.set = 'miss'\n        status.maxEntrySizeExceeded = true\n      }\n      // have to delete, in case something is there already.\n      this.#delete(k, 'set')\n      return this\n    }\n    let index = this.#size === 0 ? undefined : this.#keyMap.get(k)\n    if (index === undefined) {\n      // addition\n      index = (\n        this.#size === 0\n          ? this.#tail\n          : this.#free.length !== 0\n          ? this.#free.pop()\n          : this.#size === this.#max\n          ? this.#evict(false)\n          : this.#size\n      ) as Index\n      this.#keyList[index] = k\n      this.#valList[index] = v\n      this.#keyMap.set(k, index)\n      this.#next[this.#tail] = index\n      this.#prev[index] = this.#tail\n      this.#tail = index\n      this.#size++\n      this.#addItemSize(index, size, status)\n      if (status) status.set = 'add'\n      noUpdateTTL = false\n    } else {\n      // update\n      this.#moveToTail(index)\n      const oldVal = this.#valList[index] as V | BackgroundFetch<V>\n      if (v !== oldVal) {\n        if (this.#hasFetchMethod && this.#isBackgroundFetch(oldVal)) {\n          oldVal.__abortController.abort(new Error('replaced'))\n          const { __staleWhileFetching: s } = oldVal\n          if (s !== undefined && !noDisposeOnSet) {\n            if (this.#hasDispose) {\n              this.#dispose?.(s as V, k, 'set')\n            }\n            if (this.#hasDisposeAfter) {\n              this.#disposed?.push([s as V, k, 'set'])\n            }\n          }\n        } else if (!noDisposeOnSet) {\n          if (this.#hasDispose) {\n            this.#dispose?.(oldVal as V, k, 'set')\n          }\n          if (this.#hasDisposeAfter) {\n            this.#disposed?.push([oldVal as V, k, 'set'])\n          }\n        }\n        this.#removeItemSize(index)\n        this.#addItemSize(index, size, status)\n        this.#valList[index] = v\n        if (status) {\n          status.set = 'replace'\n          const oldValue =\n            oldVal && this.#isBackgroundFetch(oldVal)\n              ? oldVal.__staleWhileFetching\n              : oldVal\n          if (oldValue !== undefined) status.oldValue = oldValue\n        }\n      } else if (status) {\n        status.set = 'update'\n      }\n    }\n    if (ttl !== 0 && !this.#ttls) {\n      this.#initializeTTLTracking()\n    }\n    if (this.#ttls) {\n      if (!noUpdateTTL) {\n        this.#setItemTTL(index, ttl, start)\n      }\n      if (status) this.#statusTTL(status, index)\n    }\n    if (!noDisposeOnSet && this.#hasDisposeAfter && this.#disposed) {\n      const dt = this.#disposed\n      let task: DisposeTask<K, V> | undefined\n      while ((task = dt?.shift())) {\n        this.#disposeAfter?.(...task)\n      }\n    }\n    return this\n  }\n\n  /**\n   * Evict the least recently used item, returning its value or\n   * `undefined` if cache is empty.\n   */\n  pop(): V | undefined {\n    try {\n      while (this.#size) {\n        const val = this.#valList[this.#head]\n        this.#evict(true)\n        if (this.#isBackgroundFetch(val)) {\n          if (val.__staleWhileFetching) {\n            return val.__staleWhileFetching\n          }\n        } else if (val !== undefined) {\n          return val\n        }\n      }\n    } finally {\n      if (this.#hasDisposeAfter && this.#disposed) {\n        const dt = this.#disposed\n        let task: DisposeTask<K, V> | undefined\n        while ((task = dt?.shift())) {\n          this.#disposeAfter?.(...task)\n        }\n      }\n    }\n  }\n\n  #evict(free: boolean) {\n    const head = this.#head\n    const k = this.#keyList[head] as K\n    const v = this.#valList[head] as V\n    if (this.#hasFetchMethod && this.#isBackgroundFetch(v)) {\n      v.__abortController.abort(new Error('evicted'))\n    } else if (this.#hasDispose || this.#hasDisposeAfter) {\n      if (this.#hasDispose) {\n        this.#dispose?.(v, k, 'evict')\n      }\n      if (this.#hasDisposeAfter) {\n        this.#disposed?.push([v, k, 'evict'])\n      }\n    }\n    this.#removeItemSize(head)\n    // if we aren't about to use the index, then null these out\n    if (free) {\n      this.#keyList[head] = undefined\n      this.#valList[head] = undefined\n      this.#free.push(head)\n    }\n    if (this.#size === 1) {\n      this.#head = this.#tail = 0 as Index\n      this.#free.length = 0\n    } else {\n      this.#head = this.#next[head] as Index\n    }\n    this.#keyMap.delete(k)\n    this.#size--\n    return head\n  }\n\n  /**\n   * Check if a key is in the cache, without updating the recency of use.\n   * Will return false if the item is stale, even though it is technically\n   * in the cache.\n   *\n   * Check if a key is in the cache, without updating the recency of\n   * use. Age is updated if {@link LRUCache.OptionsBase.updateAgeOnHas} is set\n   * to `true` in either the options or the constructor.\n   *\n   * Will return `false` if the item is stale, even though it is technically in\n   * the cache. The difference can be determined (if it matters) by using a\n   * `status` argument, and inspecting the `has` field.\n   *\n   * Will not update item age unless\n   * {@link LRUCache.OptionsBase.updateAgeOnHas} is set.\n   */\n  has(k: K, hasOptions: LRUCache.HasOptions<K, V, FC> = {}) {\n    const { updateAgeOnHas = this.updateAgeOnHas, status } =\n      hasOptions\n    const index = this.#keyMap.get(k)\n    if (index !== undefined) {\n      const v = this.#valList[index]\n      if (\n        this.#isBackgroundFetch(v) &&\n        v.__staleWhileFetching === undefined\n      ) {\n        return false\n      }\n      if (!this.#isStale(index)) {\n        if (updateAgeOnHas) {\n          this.#updateItemAge(index)\n        }\n        if (status) {\n          status.has = 'hit'\n          this.#statusTTL(status, index)\n        }\n        return true\n      } else if (status) {\n        status.has = 'stale'\n        this.#statusTTL(status, index)\n      }\n    } else if (status) {\n      status.has = 'miss'\n    }\n    return false\n  }\n\n  /**\n   * Like {@link LRUCache#get} but doesn't update recency or delete stale\n   * items.\n   *\n   * Returns `undefined` if the item is stale, unless\n   * {@link LRUCache.OptionsBase.allowStale} is set.\n   */\n  peek(k: K, peekOptions: LRUCache.PeekOptions<K, V, FC> = {}) {\n    const { allowStale = this.allowStale } = peekOptions\n    const index = this.#keyMap.get(k)\n    if (\n      index === undefined ||\n      (!allowStale && this.#isStale(index))\n    ) {\n      return\n    }\n    const v = this.#valList[index]\n    // either stale and allowed, or forcing a refresh of non-stale value\n    return this.#isBackgroundFetch(v) ? v.__staleWhileFetching : v\n  }\n\n  #backgroundFetch(\n    k: K,\n    index: Index | undefined,\n    options: LRUCache.FetchOptions<K, V, FC>,\n    context: any\n  ): BackgroundFetch<V> {\n    const v = index === undefined ? undefined : this.#valList[index]\n    if (this.#isBackgroundFetch(v)) {\n      return v\n    }\n\n    const ac = new AC()\n    const { signal } = options\n    // when/if our AC signals, then stop listening to theirs.\n    signal?.addEventListener('abort', () => ac.abort(signal.reason), {\n      signal: ac.signal,\n    })\n\n    const fetchOpts = {\n      signal: ac.signal,\n      options,\n      context,\n    }\n\n    const cb = (\n      v: V | undefined,\n      updateCache = false\n    ): V | undefined => {\n      const { aborted } = ac.signal\n      const ignoreAbort = options.ignoreFetchAbort && v !== undefined\n      if (options.status) {\n        if (aborted && !updateCache) {\n          options.status.fetchAborted = true\n          options.status.fetchError = ac.signal.reason\n          if (ignoreAbort) options.status.fetchAbortIgnored = true\n        } else {\n          options.status.fetchResolved = true\n        }\n      }\n      if (aborted && !ignoreAbort && !updateCache) {\n        return fetchFail(ac.signal.reason)\n      }\n      // either we didn't abort, and are still here, or we did, and ignored\n      const bf = p as BackgroundFetch<V>\n      if (this.#valList[index as Index] === p) {\n        if (v === undefined) {\n          if (bf.__staleWhileFetching) {\n            this.#valList[index as Index] = bf.__staleWhileFetching\n          } else {\n            this.#delete(k, 'fetch')\n          }\n        } else {\n          if (options.status) options.status.fetchUpdated = true\n          this.set(k, v, fetchOpts.options)\n        }\n      }\n      return v\n    }\n\n    const eb = (er: any) => {\n      if (options.status) {\n        options.status.fetchRejected = true\n        options.status.fetchError = er\n      }\n      return fetchFail(er)\n    }\n\n    const fetchFail = (er: any): V | undefined => {\n      const { aborted } = ac.signal\n      const allowStaleAborted =\n        aborted && options.allowStaleOnFetchAbort\n      const allowStale =\n        allowStaleAborted || options.allowStaleOnFetchRejection\n      const noDelete = allowStale || options.noDeleteOnFetchRejection\n      const bf = p as BackgroundFetch<V>\n      if (this.#valList[index as Index] === p) {\n        // if we allow stale on fetch rejections, then we need to ensure that\n        // the stale value is not removed from the cache when the fetch fails.\n        const del = !noDelete || bf.__staleWhileFetching === undefined\n        if (del) {\n          this.#delete(k, 'fetch')\n        } else if (!allowStaleAborted) {\n          // still replace the *promise* with the stale value,\n          // since we are done with the promise at this point.\n          // leave it untouched if we're still waiting for an\n          // aborted background fetch that hasn't yet returned.\n          this.#valList[index as Index] = bf.__staleWhileFetching\n        }\n      }\n      if (allowStale) {\n        if (options.status && bf.__staleWhileFetching !== undefined) {\n          options.status.returnedStale = true\n        }\n        return bf.__staleWhileFetching\n      } else if (bf.__returned === bf) {\n        throw er\n      }\n    }\n\n    const pcall = (\n      res: (v: V | undefined) => void,\n      rej: (e: any) => void\n    ) => {\n      const fmp = this.#fetchMethod?.(k, v, fetchOpts)\n      if (fmp && fmp instanceof Promise) {\n        fmp.then(v => res(v === undefined ? undefined : v), rej)\n      }\n      // ignored, we go until we finish, regardless.\n      // defer check until we are actually aborting,\n      // so fetchMethod can override.\n      ac.signal.addEventListener('abort', () => {\n        if (\n          !options.ignoreFetchAbort ||\n          options.allowStaleOnFetchAbort\n        ) {\n          res(undefined)\n          // when it eventually resolves, update the cache.\n          if (options.allowStaleOnFetchAbort) {\n            res = v => cb(v, true)\n          }\n        }\n      })\n    }\n\n    if (options.status) options.status.fetchDispatched = true\n    const p = new Promise(pcall).then(cb, eb)\n    const bf: BackgroundFetch<V> = Object.assign(p, {\n      __abortController: ac,\n      __staleWhileFetching: v,\n      __returned: undefined,\n    })\n\n    if (index === undefined) {\n      // internal, don't expose status.\n      this.set(k, bf, { ...fetchOpts.options, status: undefined })\n      index = this.#keyMap.get(k)\n    } else {\n      this.#valList[index] = bf\n    }\n    return bf\n  }\n\n  #isBackgroundFetch(p: any): p is BackgroundFetch<V> {\n    if (!this.#hasFetchMethod) return false\n    const b = p as BackgroundFetch<V>\n    return (\n      !!b &&\n      b instanceof Promise &&\n      b.hasOwnProperty('__staleWhileFetching') &&\n      b.__abortController instanceof AC\n    )\n  }\n\n  /**\n   * Make an asynchronous cached fetch using the\n   * {@link LRUCache.OptionsBase.fetchMethod} function.\n   *\n   * If the value is in the cache and not stale, then the returned\n   * Promise resolves to the value.\n   *\n   * If not in the cache, or beyond its TTL staleness, then\n   * `fetchMethod(key, staleValue, { options, signal, context })` is\n   * called, and the value returned will be added to the cache once\n   * resolved.\n   *\n   * If called with `allowStale`, and an asynchronous fetch is\n   * currently in progress to reload a stale value, then the former\n   * stale value will be returned.\n   *\n   * If called with `forceRefresh`, then the cached item will be\n   * re-fetched, even if it is not stale. However, if `allowStale` is also\n   * set, then the old value will still be returned. This is useful\n   * in cases where you want to force a reload of a cached value. If\n   * a background fetch is already in progress, then `forceRefresh`\n   * has no effect.\n   *\n   * If multiple fetches for the same key are issued, then they will all be\n   * coalesced into a single call to fetchMethod.\n   *\n   * Note that this means that handling options such as\n   * {@link LRUCache.OptionsBase.allowStaleOnFetchAbort},\n   * {@link LRUCache.FetchOptions.signal},\n   * and {@link LRUCache.OptionsBase.allowStaleOnFetchRejection} will be\n   * determined by the FIRST fetch() call for a given key.\n   *\n   * This is a known (fixable) shortcoming which will be addresed on when\n   * someone complains about it, as the fix would involve added complexity and\n   * may not be worth the costs for this edge case.\n   *\n   * If {@link LRUCache.OptionsBase.fetchMethod} is not specified, then this is\n   * effectively an alias for `Promise.resolve(cache.get(key))`.\n   *\n   * When the fetch method resolves to a value, if the fetch has not\n   * been aborted due to deletion, eviction, or being overwritten,\n   * then it is added to the cache using the options provided.\n   *\n   * If the key is evicted or deleted before the `fetchMethod`\n   * resolves, then the AbortSignal passed to the `fetchMethod` will\n   * receive an `abort` event, and the promise returned by `fetch()`\n   * will reject with the reason for the abort.\n   *\n   * If a `signal` is passed to the `fetch()` call, then aborting the\n   * signal will abort the fetch and cause the `fetch()` promise to\n   * reject with the reason provided.\n   *\n   * **Setting `context`**\n   *\n   * If an `FC` type is set to a type other than `unknown`, `void`, or\n   * `undefined` in the {@link LRUCache} constructor, then all\n   * calls to `cache.fetch()` _must_ provide a `context` option. If\n   * set to `undefined` or `void`, then calls to fetch _must not_\n   * provide a `context` option.\n   *\n   * The `context` param allows you to provide arbitrary data that\n   * might be relevant in the course of fetching the data. It is only\n   * relevant for the course of a single `fetch()` operation, and\n   * discarded afterwards.\n   *\n   * **Note: `fetch()` calls are inflight-unique**\n   *\n   * If you call `fetch()` multiple times with the same key value,\n   * then every call after the first will resolve on the same\n   * promise<sup>1</sup>,\n   * _even if they have different settings that would otherwise change\n   * the behavior of the fetch_, such as `noDeleteOnFetchRejection`\n   * or `ignoreFetchAbort`.\n   *\n   * In most cases, this is not a problem (in fact, only fetching\n   * something once is what you probably want, if you're caching in\n   * the first place). If you are changing the fetch() options\n   * dramatically between runs, there's a good chance that you might\n   * be trying to fit divergent semantics into a single object, and\n   * would be better off with multiple cache instances.\n   *\n   * **1**: Ie, they're not the \"same Promise\", but they resolve at\n   * the same time, because they're both waiting on the same\n   * underlying fetchMethod response.\n   */\n\n  fetch(\n    k: K,\n    fetchOptions: unknown extends FC\n      ? LRUCache.FetchOptions<K, V, FC>\n      : FC extends undefined | void\n      ? LRUCache.FetchOptionsNoContext<K, V>\n      : LRUCache.FetchOptionsWithContext<K, V, FC>\n  ): Promise<undefined | V>\n\n  // this overload not allowed if context is required\n  fetch(\n    k: unknown extends FC\n      ? K\n      : FC extends undefined | void\n      ? K\n      : never,\n    fetchOptions?: unknown extends FC\n      ? LRUCache.FetchOptions<K, V, FC>\n      : FC extends undefined | void\n      ? LRUCache.FetchOptionsNoContext<K, V>\n      : never\n  ): Promise<undefined | V>\n\n  async fetch(\n    k: K,\n    fetchOptions: LRUCache.FetchOptions<K, V, FC> = {}\n  ): Promise<undefined | V> {\n    const {\n      // get options\n      allowStale = this.allowStale,\n      updateAgeOnGet = this.updateAgeOnGet,\n      noDeleteOnStaleGet = this.noDeleteOnStaleGet,\n      // set options\n      ttl = this.ttl,\n      noDisposeOnSet = this.noDisposeOnSet,\n      size = 0,\n      sizeCalculation = this.sizeCalculation,\n      noUpdateTTL = this.noUpdateTTL,\n      // fetch exclusive options\n      noDeleteOnFetchRejection = this.noDeleteOnFetchRejection,\n      allowStaleOnFetchRejection = this.allowStaleOnFetchRejection,\n      ignoreFetchAbort = this.ignoreFetchAbort,\n      allowStaleOnFetchAbort = this.allowStaleOnFetchAbort,\n      context,\n      forceRefresh = false,\n      status,\n      signal,\n    } = fetchOptions\n\n    if (!this.#hasFetchMethod) {\n      if (status) status.fetch = 'get'\n      return this.get(k, {\n        allowStale,\n        updateAgeOnGet,\n        noDeleteOnStaleGet,\n        status,\n      })\n    }\n\n    const options = {\n      allowStale,\n      updateAgeOnGet,\n      noDeleteOnStaleGet,\n      ttl,\n      noDisposeOnSet,\n      size,\n      sizeCalculation,\n      noUpdateTTL,\n      noDeleteOnFetchRejection,\n      allowStaleOnFetchRejection,\n      allowStaleOnFetchAbort,\n      ignoreFetchAbort,\n      status,\n      signal,\n    }\n\n    let index = this.#keyMap.get(k)\n    if (index === undefined) {\n      if (status) status.fetch = 'miss'\n      const p = this.#backgroundFetch(k, index, options, context)\n      return (p.__returned = p)\n    } else {\n      // in cache, maybe already fetching\n      const v = this.#valList[index]\n      if (this.#isBackgroundFetch(v)) {\n        const stale =\n          allowStale && v.__staleWhileFetching !== undefined\n        if (status) {\n          status.fetch = 'inflight'\n          if (stale) status.returnedStale = true\n        }\n        return stale ? v.__staleWhileFetching : (v.__returned = v)\n      }\n\n      // if we force a refresh, that means do NOT serve the cached value,\n      // unless we are already in the process of refreshing the cache.\n      const isStale = this.#isStale(index)\n      if (!forceRefresh && !isStale) {\n        if (status) status.fetch = 'hit'\n        this.#moveToTail(index)\n        if (updateAgeOnGet) {\n          this.#updateItemAge(index)\n        }\n        if (status) this.#statusTTL(status, index)\n        return v\n      }\n\n      // ok, it is stale or a forced refresh, and not already fetching.\n      // refresh the cache.\n      const p = this.#backgroundFetch(k, index, options, context)\n      const hasStale = p.__staleWhileFetching !== undefined\n      const staleVal = hasStale && allowStale\n      if (status) {\n        status.fetch = isStale ? 'stale' : 'refresh'\n        if (staleVal && isStale) status.returnedStale = true\n      }\n      return staleVal ? p.__staleWhileFetching : (p.__returned = p)\n    }\n  }\n\n  /**\n   * In some cases, `cache.fetch()` may resolve to `undefined`, either because\n   * a {@link LRUCache.OptionsBase#fetchMethod} was not provided (turning\n   * `cache.fetch(k)` into just an async wrapper around `cache.get(k)`) or\n   * because `ignoreFetchAbort` was specified (either to the constructor or\n   * in the {@link LRUCache.FetchOptions}). Also, the\n   * {@link LRUCache.OptionsBase.fetchMethod} may return `undefined` or `void`, making\n   * the test even more complicated.\n   *\n   * Because inferring the cases where `undefined` might be returned are so\n   * cumbersome, but testing for `undefined` can also be annoying, this method\n   * can be used, which will reject if `this.fetch()` resolves to undefined.\n   */\n  forceFetch(\n    k: K,\n    fetchOptions: unknown extends FC\n      ? LRUCache.FetchOptions<K, V, FC>\n      : FC extends undefined | void\n      ? LRUCache.FetchOptionsNoContext<K, V>\n      : LRUCache.FetchOptionsWithContext<K, V, FC>\n  ): Promise<V>\n  // this overload not allowed if context is required\n  forceFetch(\n    k: unknown extends FC\n      ? K\n      : FC extends undefined | void\n      ? K\n      : never,\n    fetchOptions?: unknown extends FC\n      ? LRUCache.FetchOptions<K, V, FC>\n      : FC extends undefined | void\n      ? LRUCache.FetchOptionsNoContext<K, V>\n      : never\n  ): Promise<V>\n  async forceFetch(\n    k: K,\n    fetchOptions: LRUCache.FetchOptions<K, V, FC> = {}\n  ): Promise<V> {\n    const v = await this.fetch(\n      k,\n      fetchOptions as unknown extends FC\n        ? LRUCache.FetchOptions<K, V, FC>\n        : FC extends undefined | void\n        ? LRUCache.FetchOptionsNoContext<K, V>\n        : LRUCache.FetchOptionsWithContext<K, V, FC>\n    )\n    if (v === undefined) throw new Error('fetch() returned undefined')\n    return v\n  }\n\n  /**\n   * If the key is found in the cache, then this is equivalent to\n   * {@link LRUCache#get}. If not, in the cache, then calculate the value using\n   * the {@link LRUCache.OptionsBase.memoMethod}, and add it to the cache.\n   *\n   * If an `FC` type is set to a type other than `unknown`, `void`, or\n   * `undefined` in the LRUCache constructor, then all calls to `cache.memo()`\n   * _must_ provide a `context` option. If set to `undefined` or `void`, then\n   * calls to memo _must not_ provide a `context` option.\n   *\n   * The `context` param allows you to provide arbitrary data that might be\n   * relevant in the course of fetching the data. It is only relevant for the\n   * course of a single `memo()` operation, and discarded afterwards.\n   */\n  memo(\n    k: K,\n    memoOptions: unknown extends FC\n      ? LRUCache.MemoOptions<K, V, FC>\n      : FC extends undefined | void\n      ? LRUCache.MemoOptionsNoContext<K, V>\n      : LRUCache.MemoOptionsWithContext<K, V, FC>\n  ): V\n  // this overload not allowed if context is required\n  memo(\n    k: unknown extends FC\n      ? K\n      : FC extends undefined | void\n      ? K\n      : never,\n    memoOptions?: unknown extends FC\n      ? LRUCache.MemoOptions<K, V, FC>\n      : FC extends undefined | void\n      ? LRUCache.MemoOptionsNoContext<K, V>\n      : never\n  ): V\n  memo(k: K, memoOptions: LRUCache.MemoOptions<K, V, FC> = {}) {\n    const memoMethod = this.#memoMethod\n    if (!memoMethod) {\n      throw new Error('no memoMethod provided to constructor')\n    }\n    const { context, forceRefresh, ...options } = memoOptions\n    const v = this.get(k, options)\n    if (!forceRefresh && v !== undefined) return v\n    const vv = memoMethod(k, v, {\n      options,\n      context,\n    } as LRUCache.MemoizerOptions<K, V, FC>)\n    this.set(k, vv, options)\n    return vv\n  }\n\n  /**\n   * Return a value from the cache. Will update the recency of the cache\n   * entry found.\n   *\n   * If the key is not found, get() will return `undefined`.\n   */\n  get(k: K, getOptions: LRUCache.GetOptions<K, V, FC> = {}) {\n    const {\n      allowStale = this.allowStale,\n      updateAgeOnGet = this.updateAgeOnGet,\n      noDeleteOnStaleGet = this.noDeleteOnStaleGet,\n      status,\n    } = getOptions\n    const index = this.#keyMap.get(k)\n    if (index !== undefined) {\n      const value = this.#valList[index]\n      const fetching = this.#isBackgroundFetch(value)\n      if (status) this.#statusTTL(status, index)\n      if (this.#isStale(index)) {\n        if (status) status.get = 'stale'\n        // delete only if not an in-flight background fetch\n        if (!fetching) {\n          if (!noDeleteOnStaleGet) {\n            this.#delete(k, 'expire')\n          }\n          if (status && allowStale) status.returnedStale = true\n          return allowStale ? value : undefined\n        } else {\n          if (\n            status &&\n            allowStale &&\n            value.__staleWhileFetching !== undefined\n          ) {\n            status.returnedStale = true\n          }\n          return allowStale ? value.__staleWhileFetching : undefined\n        }\n      } else {\n        if (status) status.get = 'hit'\n        // if we're currently fetching it, we don't actually have it yet\n        // it's not stale, which means this isn't a staleWhileRefetching.\n        // If it's not stale, and fetching, AND has a __staleWhileFetching\n        // value, then that means the user fetched with {forceRefresh:true},\n        // so it's safe to return that value.\n        if (fetching) {\n          return value.__staleWhileFetching\n        }\n        this.#moveToTail(index)\n        if (updateAgeOnGet) {\n          this.#updateItemAge(index)\n        }\n        return value\n      }\n    } else if (status) {\n      status.get = 'miss'\n    }\n  }\n\n  #connect(p: Index, n: Index) {\n    this.#prev[n] = p\n    this.#next[p] = n\n  }\n\n  #moveToTail(index: Index): void {\n    // if tail already, nothing to do\n    // if head, move head to next[index]\n    // else\n    //   move next[prev[index]] to next[index] (head has no prev)\n    //   move prev[next[index]] to prev[index]\n    // prev[index] = tail\n    // next[tail] = index\n    // tail = index\n    if (index !== this.#tail) {\n      if (index === this.#head) {\n        this.#head = this.#next[index] as Index\n      } else {\n        this.#connect(\n          this.#prev[index] as Index,\n          this.#next[index] as Index\n        )\n      }\n      this.#connect(this.#tail, index)\n      this.#tail = index\n    }\n  }\n\n  /**\n   * Deletes a key out of the cache.\n   *\n   * Returns true if the key was deleted, false otherwise.\n   */\n  delete(k: K) {\n    return this.#delete(k, 'delete')\n  }\n\n  #delete(k: K, reason: LRUCache.DisposeReason) {\n    let deleted = false\n    if (this.#size !== 0) {\n      const index = this.#keyMap.get(k)\n      if (index !== undefined) {\n        deleted = true\n        if (this.#size === 1) {\n          this.#clear(reason)\n        } else {\n          this.#removeItemSize(index)\n          const v = this.#valList[index]\n          if (this.#isBackgroundFetch(v)) {\n            v.__abortController.abort(new Error('deleted'))\n          } else if (this.#hasDispose || this.#hasDisposeAfter) {\n            if (this.#hasDispose) {\n              this.#dispose?.(v as V, k, reason)\n            }\n            if (this.#hasDisposeAfter) {\n              this.#disposed?.push([v as V, k, reason])\n            }\n          }\n          this.#keyMap.delete(k)\n          this.#keyList[index] = undefined\n          this.#valList[index] = undefined\n          if (index === this.#tail) {\n            this.#tail = this.#prev[index] as Index\n          } else if (index === this.#head) {\n            this.#head = this.#next[index] as Index\n          } else {\n            const pi = this.#prev[index] as number\n            this.#next[pi] = this.#next[index] as number\n            const ni = this.#next[index] as number\n            this.#prev[ni] = this.#prev[index] as number\n          }\n          this.#size--\n          this.#free.push(index)\n        }\n      }\n    }\n    if (this.#hasDisposeAfter && this.#disposed?.length) {\n      const dt = this.#disposed\n      let task: DisposeTask<K, V> | undefined\n      while ((task = dt?.shift())) {\n        this.#disposeAfter?.(...task)\n      }\n    }\n    return deleted\n  }\n\n  /**\n   * Clear the cache entirely, throwing away all values.\n   */\n  clear() {\n    return this.#clear('delete')\n  }\n  #clear(reason: LRUCache.DisposeReason) {\n    for (const index of this.#rindexes({ allowStale: true })) {\n      const v = this.#valList[index]\n      if (this.#isBackgroundFetch(v)) {\n        v.__abortController.abort(new Error('deleted'))\n      } else {\n        const k = this.#keyList[index]\n        if (this.#hasDispose) {\n          this.#dispose?.(v as V, k as K, reason)\n        }\n        if (this.#hasDisposeAfter) {\n          this.#disposed?.push([v as V, k as K, reason])\n        }\n      }\n    }\n\n    this.#keyMap.clear()\n    this.#valList.fill(undefined)\n    this.#keyList.fill(undefined)\n    if (this.#ttls && this.#starts) {\n      this.#ttls.fill(0)\n      this.#starts.fill(0)\n    }\n    if (this.#sizes) {\n      this.#sizes.fill(0)\n    }\n    this.#head = 0 as Index\n    this.#tail = 0 as Index\n    this.#free.length = 0\n    this.#calculatedSize = 0\n    this.#size = 0\n    if (this.#hasDisposeAfter && this.#disposed) {\n      const dt = this.#disposed\n      let task: DisposeTask<K, V> | undefined\n      while ((task = dt?.shift())) {\n        this.#disposeAfter?.(...task)\n      }\n    }\n  }\n}\n", "\"use strict\";\nvar __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(\n  // If the importer is in node compatibility mode or this is not an ESM\n  // file that has been converted to a CommonJS file using a Babel-\n  // compatible transform (i.e. \"__esModule\" has not been set), then set\n  // \"default\" to the CommonJS \"module.exports\" for node compatibility.\n  isNodeMode || !mod || !mod.__esModule ? __defProp(target, \"default\", { value: mod, enumerable: true }) : target,\n  mod\n));\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\n\n// pkg/dist-src/index.js\nvar dist_src_exports = {};\n__export(dist_src_exports, {\n  createAppAuth: () => createAppAuth,\n  createOAuthUserAuth: () => import_auth_oauth_user2.createOAuthUserAuth\n});\nmodule.exports = __toCommonJS(dist_src_exports);\nvar import_universal_user_agent = require(\"universal-user-agent\");\nvar import_request = require(\"@octokit/request\");\nvar import_auth_oauth_app = require(\"@octokit/auth-oauth-app\");\n\n// pkg/dist-src/auth.js\nvar import_deprecation = require(\"deprecation\");\nvar OAuthAppAuth = __toESM(require(\"@octokit/auth-oauth-app\"));\n\n// pkg/dist-src/get-app-authentication.js\nvar import_universal_github_app_jwt = require(\"universal-github-app-jwt\");\nasync function getAppAuthentication({\n  appId,\n  privateKey,\n  timeDifference\n}) {\n  try {\n    const appAuthentication = await (0, import_universal_github_app_jwt.githubAppJwt)({\n      id: +appId,\n      privateKey,\n      now: timeDifference && Math.floor(Date.now() / 1e3) + timeDifference\n    });\n    return {\n      type: \"app\",\n      token: appAuthentication.token,\n      appId: appAuthentication.appId,\n      expiresAt: new Date(appAuthentication.expiration * 1e3).toISOString()\n    };\n  } catch (error) {\n    if (privateKey === \"-----BEGIN RSA PRIVATE KEY-----\") {\n      throw new Error(\n        \"The 'privateKey` option contains only the first line '-----BEGIN RSA PRIVATE KEY-----'. If you are setting it using a `.env` file, make sure it is set on a single line with newlines replaced by '\\n'\"\n      );\n    } else {\n      throw error;\n    }\n  }\n}\n\n// pkg/dist-src/cache.js\nvar import_lru_cache = require(\"lru-cache\");\nfunction getCache() {\n  return new import_lru_cache.LRUCache({\n    // cache max. 15000 tokens, that will use less than 10mb memory\n    max: 15e3,\n    // Cache for 1 minute less than GitHub expiry\n    ttl: 1e3 * 60 * 59\n  });\n}\nasync function get(cache, options) {\n  const cacheKey = optionsToCacheKey(options);\n  const result = await cache.get(cacheKey);\n  if (!result) {\n    return;\n  }\n  const [\n    token,\n    createdAt,\n    expiresAt,\n    repositorySelection,\n    permissionsString,\n    singleFileName\n  ] = result.split(\"|\");\n  const permissions = options.permissions || permissionsString.split(/,/).reduce((permissions2, string) => {\n    if (/!$/.test(string)) {\n      permissions2[string.slice(0, -1)] = \"write\";\n    } else {\n      permissions2[string] = \"read\";\n    }\n    return permissions2;\n  }, {});\n  return {\n    token,\n    createdAt,\n    expiresAt,\n    permissions,\n    repositoryIds: options.repositoryIds,\n    repositoryNames: options.repositoryNames,\n    singleFileName,\n    repositorySelection\n  };\n}\nasync function set(cache, options, data) {\n  const key = optionsToCacheKey(options);\n  const permissionsString = options.permissions ? \"\" : Object.keys(data.permissions).map(\n    (name) => `${name}${data.permissions[name] === \"write\" ? \"!\" : \"\"}`\n  ).join(\",\");\n  const value = [\n    data.token,\n    data.createdAt,\n    data.expiresAt,\n    data.repositorySelection,\n    permissionsString,\n    data.singleFileName\n  ].join(\"|\");\n  await cache.set(key, value);\n}\nfunction optionsToCacheKey({\n  installationId,\n  permissions = {},\n  repositoryIds = [],\n  repositoryNames = []\n}) {\n  const permissionsString = Object.keys(permissions).sort().map((name) => permissions[name] === \"read\" ? name : `${name}!`).join(\",\");\n  const repositoryIdsString = repositoryIds.sort().join(\",\");\n  const repositoryNamesString = repositoryNames.join(\",\");\n  return [\n    installationId,\n    repositoryIdsString,\n    repositoryNamesString,\n    permissionsString\n  ].filter(Boolean).join(\"|\");\n}\n\n// pkg/dist-src/to-token-authentication.js\nfunction toTokenAuthentication({\n  installationId,\n  token,\n  createdAt,\n  expiresAt,\n  repositorySelection,\n  permissions,\n  repositoryIds,\n  repositoryNames,\n  singleFileName\n}) {\n  return Object.assign(\n    {\n      type: \"token\",\n      tokenType: \"installation\",\n      token,\n      installationId,\n      permissions,\n      createdAt,\n      expiresAt,\n      repositorySelection\n    },\n    repositoryIds ? { repositoryIds } : null,\n    repositoryNames ? { repositoryNames } : null,\n    singleFileName ? { singleFileName } : null\n  );\n}\n\n// pkg/dist-src/get-installation-authentication.js\nasync function getInstallationAuthentication(state, options, customRequest) {\n  const installationId = Number(options.installationId || state.installationId);\n  if (!installationId) {\n    throw new Error(\n      \"[@octokit/auth-app] installationId option is required for installation authentication.\"\n    );\n  }\n  if (options.factory) {\n    const { type, factory, oauthApp, ...factoryAuthOptions } = {\n      ...state,\n      ...options\n    };\n    return factory(factoryAuthOptions);\n  }\n  const optionsWithInstallationTokenFromState = Object.assign(\n    { installationId },\n    options\n  );\n  if (!options.refresh) {\n    const result = await get(\n      state.cache,\n      optionsWithInstallationTokenFromState\n    );\n    if (result) {\n      const {\n        token: token2,\n        createdAt: createdAt2,\n        expiresAt: expiresAt2,\n        permissions: permissions2,\n        repositoryIds: repositoryIds2,\n        repositoryNames: repositoryNames2,\n        singleFileName: singleFileName2,\n        repositorySelection: repositorySelection2\n      } = result;\n      return toTokenAuthentication({\n        installationId,\n        token: token2,\n        createdAt: createdAt2,\n        expiresAt: expiresAt2,\n        permissions: permissions2,\n        repositorySelection: repositorySelection2,\n        repositoryIds: repositoryIds2,\n        repositoryNames: repositoryNames2,\n        singleFileName: singleFileName2\n      });\n    }\n  }\n  const appAuthentication = await getAppAuthentication(state);\n  const request = customRequest || state.request;\n  const {\n    data: {\n      token,\n      expires_at: expiresAt,\n      repositories,\n      permissions: permissionsOptional,\n      repository_selection: repositorySelectionOptional,\n      single_file: singleFileName\n    }\n  } = await request(\"POST /app/installations/{installation_id}/access_tokens\", {\n    installation_id: installationId,\n    repository_ids: options.repositoryIds,\n    repositories: options.repositoryNames,\n    permissions: options.permissions,\n    mediaType: {\n      previews: [\"machine-man\"]\n    },\n    headers: {\n      authorization: `bearer ${appAuthentication.token}`\n    }\n  });\n  const permissions = permissionsOptional || {};\n  const repositorySelection = repositorySelectionOptional || \"all\";\n  const repositoryIds = repositories ? repositories.map((r) => r.id) : void 0;\n  const repositoryNames = repositories ? repositories.map((repo) => repo.name) : void 0;\n  const createdAt = (/* @__PURE__ */ new Date()).toISOString();\n  await set(state.cache, optionsWithInstallationTokenFromState, {\n    token,\n    createdAt,\n    expiresAt,\n    repositorySelection,\n    permissions,\n    repositoryIds,\n    repositoryNames,\n    singleFileName\n  });\n  return toTokenAuthentication({\n    installationId,\n    token,\n    createdAt,\n    expiresAt,\n    repositorySelection,\n    permissions,\n    repositoryIds,\n    repositoryNames,\n    singleFileName\n  });\n}\n\n// pkg/dist-src/auth.js\nasync function auth(state, authOptions) {\n  switch (authOptions.type) {\n    case \"app\":\n      return getAppAuthentication(state);\n    case \"oauth\":\n      state.log.warn(\n        // @ts-expect-error `log.warn()` expects string\n        new import_deprecation.Deprecation(\n          `[@octokit/auth-app] {type: \"oauth\"} is deprecated. Use {type: \"oauth-app\"} instead`\n        )\n      );\n    case \"oauth-app\":\n      return state.oauthApp({ type: \"oauth-app\" });\n    case \"installation\":\n      authOptions;\n      return getInstallationAuthentication(state, {\n        ...authOptions,\n        type: \"installation\"\n      });\n    case \"oauth-user\":\n      return state.oauthApp(authOptions);\n    default:\n      throw new Error(`Invalid auth type: ${authOptions.type}`);\n  }\n}\n\n// pkg/dist-src/hook.js\nvar import_auth_oauth_user = require(\"@octokit/auth-oauth-user\");\nvar import_request_error = require(\"@octokit/request-error\");\n\n// pkg/dist-src/requires-app-auth.js\nvar PATHS = [\n  \"/app\",\n  \"/app/hook/config\",\n  \"/app/hook/deliveries\",\n  \"/app/hook/deliveries/{delivery_id}\",\n  \"/app/hook/deliveries/{delivery_id}/attempts\",\n  \"/app/installations\",\n  \"/app/installations/{installation_id}\",\n  \"/app/installations/{installation_id}/access_tokens\",\n  \"/app/installations/{installation_id}/suspended\",\n  \"/app/installation-requests\",\n  \"/marketplace_listing/accounts/{account_id}\",\n  \"/marketplace_listing/plan\",\n  \"/marketplace_listing/plans\",\n  \"/marketplace_listing/plans/{plan_id}/accounts\",\n  \"/marketplace_listing/stubbed/accounts/{account_id}\",\n  \"/marketplace_listing/stubbed/plan\",\n  \"/marketplace_listing/stubbed/plans\",\n  \"/marketplace_listing/stubbed/plans/{plan_id}/accounts\",\n  \"/orgs/{org}/installation\",\n  \"/repos/{owner}/{repo}/installation\",\n  \"/users/{username}/installation\"\n];\nfunction routeMatcher(paths) {\n  const regexes = paths.map(\n    (p) => p.split(\"/\").map((c) => c.startsWith(\"{\") ? \"(?:.+?)\" : c).join(\"/\")\n  );\n  const regex = `^(?:${regexes.map((r) => `(?:${r})`).join(\"|\")})$`;\n  return new RegExp(regex, \"i\");\n}\nvar REGEX = routeMatcher(PATHS);\nfunction requiresAppAuth(url) {\n  return !!url && REGEX.test(url.split(\"?\")[0]);\n}\n\n// pkg/dist-src/hook.js\nvar FIVE_SECONDS_IN_MS = 5 * 1e3;\nfunction isNotTimeSkewError(error) {\n  return !(error.message.match(\n    /'Expiration time' claim \\('exp'\\) must be a numeric value representing the future time at which the assertion expires/\n  ) || error.message.match(\n    /'Issued at' claim \\('iat'\\) must be an Integer representing the time that the assertion was issued/\n  ));\n}\nasync function hook(state, request, route, parameters) {\n  const endpoint = request.endpoint.merge(route, parameters);\n  const url = endpoint.url;\n  if (/\\/login\\/oauth\\/access_token$/.test(url)) {\n    return request(endpoint);\n  }\n  if (requiresAppAuth(url.replace(request.endpoint.DEFAULTS.baseUrl, \"\"))) {\n    const { token: token2 } = await getAppAuthentication(state);\n    endpoint.headers.authorization = `bearer ${token2}`;\n    let response;\n    try {\n      response = await request(endpoint);\n    } catch (error) {\n      if (isNotTimeSkewError(error)) {\n        throw error;\n      }\n      if (typeof error.response.headers.date === \"undefined\") {\n        throw error;\n      }\n      const diff = Math.floor(\n        (Date.parse(error.response.headers.date) - Date.parse((/* @__PURE__ */ new Date()).toString())) / 1e3\n      );\n      state.log.warn(error.message);\n      state.log.warn(\n        `[@octokit/auth-app] GitHub API time and system time are different by ${diff} seconds. Retrying request with the difference accounted for.`\n      );\n      const { token: token3 } = await getAppAuthentication({\n        ...state,\n        timeDifference: diff\n      });\n      endpoint.headers.authorization = `bearer ${token3}`;\n      return request(endpoint);\n    }\n    return response;\n  }\n  if ((0, import_auth_oauth_user.requiresBasicAuth)(url)) {\n    const authentication = await state.oauthApp({ type: \"oauth-app\" });\n    endpoint.headers.authorization = authentication.headers.authorization;\n    return request(endpoint);\n  }\n  const { token, createdAt } = await getInstallationAuthentication(\n    state,\n    // @ts-expect-error TBD\n    {},\n    request.defaults({ baseUrl: endpoint.baseUrl })\n  );\n  endpoint.headers.authorization = `token ${token}`;\n  return sendRequestWithRetries(\n    state,\n    request,\n    endpoint,\n    createdAt\n  );\n}\nasync function sendRequestWithRetries(state, request, options, createdAt, retries = 0) {\n  const timeSinceTokenCreationInMs = +/* @__PURE__ */ new Date() - +new Date(createdAt);\n  try {\n    return await request(options);\n  } catch (error) {\n    if (error.status !== 401) {\n      throw error;\n    }\n    if (timeSinceTokenCreationInMs >= FIVE_SECONDS_IN_MS) {\n      if (retries > 0) {\n        error.message = `After ${retries} retries within ${timeSinceTokenCreationInMs / 1e3}s of creating the installation access token, the response remains 401. At this point, the cause may be an authentication problem or a system outage. Please check https://www.githubstatus.com for status information`;\n      }\n      throw error;\n    }\n    ++retries;\n    const awaitTime = retries * 1e3;\n    state.log.warn(\n      `[@octokit/auth-app] Retrying after 401 response to account for token replication delay (retry: ${retries}, wait: ${awaitTime / 1e3}s)`\n    );\n    await new Promise((resolve) => setTimeout(resolve, awaitTime));\n    return sendRequestWithRetries(state, request, options, createdAt, retries);\n  }\n}\n\n// pkg/dist-src/version.js\nvar VERSION = \"6.1.4\";\n\n// pkg/dist-src/index.js\nvar import_auth_oauth_user2 = require(\"@octokit/auth-oauth-user\");\nfunction createAppAuth(options) {\n  if (!options.appId) {\n    throw new Error(\"[@octokit/auth-app] appId option is required\");\n  }\n  if (!Number.isFinite(+options.appId)) {\n    throw new Error(\n      \"[@octokit/auth-app] appId option must be a number or numeric string\"\n    );\n  }\n  if (!options.privateKey) {\n    throw new Error(\"[@octokit/auth-app] privateKey option is required\");\n  }\n  if (\"installationId\" in options && !options.installationId) {\n    throw new Error(\n      \"[@octokit/auth-app] installationId is set to a falsy value\"\n    );\n  }\n  const log = options.log || {};\n  if (typeof log.warn !== \"function\") {\n    log.warn = console.warn.bind(console);\n  }\n  const request = options.request || import_request.request.defaults({\n    headers: {\n      \"user-agent\": `octokit-auth-app.js/${VERSION} ${(0, import_universal_user_agent.getUserAgent)()}`\n    }\n  });\n  const state = Object.assign(\n    {\n      request,\n      cache: getCache()\n    },\n    options,\n    options.installationId ? { installationId: Number(options.installationId) } : {},\n    {\n      log,\n      oauthApp: (0, import_auth_oauth_app.createOAuthAppAuth)({\n        clientType: \"github-app\",\n        clientId: options.clientId || \"\",\n        clientSecret: options.clientSecret || \"\",\n        request\n      })\n    }\n  );\n  return Object.assign(auth.bind(null, state), {\n    hook: hook.bind(null, state)\n  });\n}\n// Annotate the CommonJS export names for ESM import in node:\n0 && (module.exports = {\n  createAppAuth,\n  createOAuthUserAuth\n});\n", "\"use strict\";\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\n\n// pkg/dist-src/index.js\nvar dist_src_exports = {};\n__export(dist_src_exports, {\n  createUnauthenticatedAuth: () => createUnauthenticatedAuth\n});\nmodule.exports = __toCommonJS(dist_src_exports);\n\n// pkg/dist-src/auth.js\nasync function auth(reason) {\n  return {\n    type: \"unauthenticated\",\n    reason\n  };\n}\n\n// pkg/dist-src/is-rate-limit-error.js\nvar import_request_error = require(\"@octokit/request-error\");\nfunction isRateLimitError(error) {\n  if (error.status !== 403) {\n    return false;\n  }\n  if (!error.response) {\n    return false;\n  }\n  return error.response.headers[\"x-ratelimit-remaining\"] === \"0\";\n}\n\n// pkg/dist-src/is-abuse-limit-error.js\nvar import_request_error2 = require(\"@octokit/request-error\");\nvar REGEX_ABUSE_LIMIT_MESSAGE = /\\babuse\\b/i;\nfunction isAbuseLimitError(error) {\n  if (error.status !== 403) {\n    return false;\n  }\n  return REGEX_ABUSE_LIMIT_MESSAGE.test(error.message);\n}\n\n// pkg/dist-src/hook.js\nasync function hook(reason, request, route, parameters) {\n  const endpoint = request.endpoint.merge(\n    route,\n    parameters\n  );\n  return request(endpoint).catch((error) => {\n    if (error.status === 404) {\n      error.message = `Not found. May be due to lack of authentication. Reason: ${reason}`;\n      throw error;\n    }\n    if (isRateLimitError(error)) {\n      error.message = `API rate limit exceeded. This maybe caused by the lack of authentication. Reason: ${reason}`;\n      throw error;\n    }\n    if (isAbuseLimitError(error)) {\n      error.message = `You have triggered an abuse detection mechanism. This maybe caused by the lack of authentication. Reason: ${reason}`;\n      throw error;\n    }\n    if (error.status === 401) {\n      error.message = `Unauthorized. \"${endpoint.method} ${endpoint.url}\" failed most likely due to lack of authentication. Reason: ${reason}`;\n      throw error;\n    }\n    if (error.status >= 400 && error.status < 500) {\n      error.message = error.message.replace(\n        /\\.?$/,\n        `. May be caused by lack of authentication (${reason}).`\n      );\n    }\n    throw error;\n  });\n}\n\n// pkg/dist-src/index.js\nvar createUnauthenticatedAuth = function createUnauthenticatedAuth2(options) {\n  if (!options || !options.reason) {\n    throw new Error(\n      \"[@octokit/auth-unauthenticated] No reason passed to createUnauthenticatedAuth\"\n    );\n  }\n  return Object.assign(auth.bind(null, options.reason), {\n    hook: hook.bind(null, options.reason)\n  });\n};\n// Annotate the CommonJS export names for ESM import in node:\n0 && (module.exports = {\n  createUnauthenticatedAuth\n});\n", "\"use strict\";\nvar __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(\n  // If the importer is in node compatibility mode or this is not an ESM\n  // file that has been converted to a CommonJS file using a Babel-\n  // compatible transform (i.e. \"__esModule\" has not been set), then set\n  // \"default\" to the CommonJS \"module.exports\" for node compatibility.\n  isNodeMode || !mod || !mod.__esModule ? __defProp(target, \"default\", { value: mod, enumerable: true }) : target,\n  mod\n));\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\n\n// pkg/dist-src/index.js\nvar dist_src_exports = {};\n__export(dist_src_exports, {\n  OAuthApp: () => OAuthApp,\n  createAWSLambdaAPIGatewayV2Handler: () => createAWSLambdaAPIGatewayV2Handler,\n  createNodeMiddleware: () => createNodeMiddleware,\n  createWebWorkerHandler: () => createWebWorkerHandler,\n  handleRequest: () => handleRequest,\n  sendNodeResponse: () => sendResponse,\n  unknownRouteResponse: () => unknownRouteResponse\n});\nmodule.exports = __toCommonJS(dist_src_exports);\nvar import_auth_oauth_app = require(\"@octokit/auth-oauth-app\");\n\n// pkg/dist-src/version.js\nvar VERSION = \"6.1.0\";\n\n// pkg/dist-src/add-event-handler.js\nfunction addEventHandler(state, eventName, eventHandler) {\n  if (Array.isArray(eventName)) {\n    for (const singleEventName of eventName) {\n      addEventHandler(state, singleEventName, eventHandler);\n    }\n    return;\n  }\n  if (!state.eventHandlers[eventName]) {\n    state.eventHandlers[eventName] = [];\n  }\n  state.eventHandlers[eventName].push(eventHandler);\n}\n\n// pkg/dist-src/oauth-app-octokit.js\nvar import_core = require(\"@octokit/core\");\nvar import_universal_user_agent = require(\"universal-user-agent\");\nvar OAuthAppOctokit = import_core.Octokit.defaults({\n  userAgent: `octokit-oauth-app.js/${VERSION} ${(0, import_universal_user_agent.getUserAgent)()}`\n});\n\n// pkg/dist-src/methods/get-user-octokit.js\nvar import_auth_oauth_user = require(\"@octokit/auth-oauth-user\");\n\n// pkg/dist-src/emit-event.js\nasync function emitEvent(state, context) {\n  const { name, action } = context;\n  if (state.eventHandlers[`${name}.${action}`]) {\n    for (const eventHandler of state.eventHandlers[`${name}.${action}`]) {\n      await eventHandler(context);\n    }\n  }\n  if (state.eventHandlers[name]) {\n    for (const eventHandler of state.eventHandlers[name]) {\n      await eventHandler(context);\n    }\n  }\n}\n\n// pkg/dist-src/methods/get-user-octokit.js\nasync function getUserOctokitWithState(state, options) {\n  return state.octokit.auth({\n    type: \"oauth-user\",\n    ...options,\n    async factory(options2) {\n      const octokit = new state.Octokit({\n        authStrategy: import_auth_oauth_user.createOAuthUserAuth,\n        auth: options2\n      });\n      const authentication = await octokit.auth({\n        type: \"get\"\n      });\n      await emitEvent(state, {\n        name: \"token\",\n        action: \"created\",\n        token: authentication.token,\n        scopes: authentication.scopes,\n        authentication,\n        octokit\n      });\n      return octokit;\n    }\n  });\n}\n\n// pkg/dist-src/methods/get-web-flow-authorization-url.js\nvar OAuthMethods = __toESM(require(\"@octokit/oauth-methods\"));\nfunction getWebFlowAuthorizationUrlWithState(state, options) {\n  const optionsWithDefaults = {\n    clientId: state.clientId,\n    request: state.octokit.request,\n    ...options,\n    allowSignup: state.allowSignup ?? options.allowSignup,\n    redirectUrl: options.redirectUrl ?? state.redirectUrl,\n    scopes: options.scopes ?? state.defaultScopes\n  };\n  return OAuthMethods.getWebFlowAuthorizationUrl({\n    clientType: state.clientType,\n    ...optionsWithDefaults\n  });\n}\n\n// pkg/dist-src/methods/create-token.js\nvar OAuthAppAuth = __toESM(require(\"@octokit/auth-oauth-app\"));\nasync function createTokenWithState(state, options) {\n  const authentication = await state.octokit.auth({\n    type: \"oauth-user\",\n    ...options\n  });\n  await emitEvent(state, {\n    name: \"token\",\n    action: \"created\",\n    token: authentication.token,\n    scopes: authentication.scopes,\n    authentication,\n    octokit: new state.Octokit({\n      authStrategy: OAuthAppAuth.createOAuthUserAuth,\n      auth: {\n        clientType: state.clientType,\n        clientId: state.clientId,\n        clientSecret: state.clientSecret,\n        token: authentication.token,\n        scopes: authentication.scopes,\n        refreshToken: authentication.refreshToken,\n        expiresAt: authentication.expiresAt,\n        refreshTokenExpiresAt: authentication.refreshTokenExpiresAt\n      }\n    })\n  });\n  return { authentication };\n}\n\n// pkg/dist-src/methods/check-token.js\nvar OAuthMethods2 = __toESM(require(\"@octokit/oauth-methods\"));\nasync function checkTokenWithState(state, options) {\n  const result = await OAuthMethods2.checkToken({\n    // @ts-expect-error not worth the extra code to appease TS\n    clientType: state.clientType,\n    clientId: state.clientId,\n    clientSecret: state.clientSecret,\n    request: state.octokit.request,\n    ...options\n  });\n  Object.assign(result.authentication, { type: \"token\", tokenType: \"oauth\" });\n  return result;\n}\n\n// pkg/dist-src/methods/reset-token.js\nvar OAuthMethods3 = __toESM(require(\"@octokit/oauth-methods\"));\nvar import_auth_oauth_user2 = require(\"@octokit/auth-oauth-user\");\nasync function resetTokenWithState(state, options) {\n  const optionsWithDefaults = {\n    clientId: state.clientId,\n    clientSecret: state.clientSecret,\n    request: state.octokit.request,\n    ...options\n  };\n  if (state.clientType === \"oauth-app\") {\n    const response2 = await OAuthMethods3.resetToken({\n      clientType: \"oauth-app\",\n      ...optionsWithDefaults\n    });\n    const authentication2 = Object.assign(response2.authentication, {\n      type: \"token\",\n      tokenType: \"oauth\"\n    });\n    await emitEvent(state, {\n      name: \"token\",\n      action: \"reset\",\n      token: response2.authentication.token,\n      scopes: response2.authentication.scopes || void 0,\n      authentication: authentication2,\n      octokit: new state.Octokit({\n        authStrategy: import_auth_oauth_user2.createOAuthUserAuth,\n        auth: {\n          clientType: state.clientType,\n          clientId: state.clientId,\n          clientSecret: state.clientSecret,\n          token: response2.authentication.token,\n          scopes: response2.authentication.scopes\n        }\n      })\n    });\n    return { ...response2, authentication: authentication2 };\n  }\n  const response = await OAuthMethods3.resetToken({\n    clientType: \"github-app\",\n    ...optionsWithDefaults\n  });\n  const authentication = Object.assign(response.authentication, {\n    type: \"token\",\n    tokenType: \"oauth\"\n  });\n  await emitEvent(state, {\n    name: \"token\",\n    action: \"reset\",\n    token: response.authentication.token,\n    authentication,\n    octokit: new state.Octokit({\n      authStrategy: import_auth_oauth_user2.createOAuthUserAuth,\n      auth: {\n        clientType: state.clientType,\n        clientId: state.clientId,\n        clientSecret: state.clientSecret,\n        token: response.authentication.token\n      }\n    })\n  });\n  return { ...response, authentication };\n}\n\n// pkg/dist-src/methods/refresh-token.js\nvar OAuthMethods4 = __toESM(require(\"@octokit/oauth-methods\"));\nvar import_auth_oauth_user3 = require(\"@octokit/auth-oauth-user\");\nasync function refreshTokenWithState(state, options) {\n  if (state.clientType === \"oauth-app\") {\n    throw new Error(\n      \"[@octokit/oauth-app] app.refreshToken() is not supported for OAuth Apps\"\n    );\n  }\n  const response = await OAuthMethods4.refreshToken({\n    clientType: \"github-app\",\n    clientId: state.clientId,\n    clientSecret: state.clientSecret,\n    request: state.octokit.request,\n    refreshToken: options.refreshToken\n  });\n  const authentication = Object.assign(response.authentication, {\n    type: \"token\",\n    tokenType: \"oauth\"\n  });\n  await emitEvent(state, {\n    name: \"token\",\n    action: \"refreshed\",\n    token: response.authentication.token,\n    authentication,\n    octokit: new state.Octokit({\n      authStrategy: import_auth_oauth_user3.createOAuthUserAuth,\n      auth: {\n        clientType: state.clientType,\n        clientId: state.clientId,\n        clientSecret: state.clientSecret,\n        token: response.authentication.token\n      }\n    })\n  });\n  return { ...response, authentication };\n}\n\n// pkg/dist-src/methods/scope-token.js\nvar OAuthMethods5 = __toESM(require(\"@octokit/oauth-methods\"));\nvar import_auth_oauth_user4 = require(\"@octokit/auth-oauth-user\");\nasync function scopeTokenWithState(state, options) {\n  if (state.clientType === \"oauth-app\") {\n    throw new Error(\n      \"[@octokit/oauth-app] app.scopeToken() is not supported for OAuth Apps\"\n    );\n  }\n  const response = await OAuthMethods5.scopeToken({\n    clientType: \"github-app\",\n    clientId: state.clientId,\n    clientSecret: state.clientSecret,\n    request: state.octokit.request,\n    ...options\n  });\n  const authentication = Object.assign(response.authentication, {\n    type: \"token\",\n    tokenType: \"oauth\"\n  });\n  await emitEvent(state, {\n    name: \"token\",\n    action: \"scoped\",\n    token: response.authentication.token,\n    authentication,\n    octokit: new state.Octokit({\n      authStrategy: import_auth_oauth_user4.createOAuthUserAuth,\n      auth: {\n        clientType: state.clientType,\n        clientId: state.clientId,\n        clientSecret: state.clientSecret,\n        token: response.authentication.token\n      }\n    })\n  });\n  return { ...response, authentication };\n}\n\n// pkg/dist-src/methods/delete-token.js\nvar OAuthMethods6 = __toESM(require(\"@octokit/oauth-methods\"));\nvar import_auth_unauthenticated = require(\"@octokit/auth-unauthenticated\");\nasync function deleteTokenWithState(state, options) {\n  const optionsWithDefaults = {\n    clientId: state.clientId,\n    clientSecret: state.clientSecret,\n    request: state.octokit.request,\n    ...options\n  };\n  const response = state.clientType === \"oauth-app\" ? await OAuthMethods6.deleteToken({\n    clientType: \"oauth-app\",\n    ...optionsWithDefaults\n  }) : (\n    // istanbul ignore next\n    await OAuthMethods6.deleteToken({\n      clientType: \"github-app\",\n      ...optionsWithDefaults\n    })\n  );\n  await emitEvent(state, {\n    name: \"token\",\n    action: \"deleted\",\n    token: options.token,\n    octokit: new state.Octokit({\n      authStrategy: import_auth_unauthenticated.createUnauthenticatedAuth,\n      auth: {\n        reason: `Handling \"token.deleted\" event. The access for the token has been revoked.`\n      }\n    })\n  });\n  return response;\n}\n\n// pkg/dist-src/methods/delete-authorization.js\nvar OAuthMethods7 = __toESM(require(\"@octokit/oauth-methods\"));\nvar import_auth_unauthenticated2 = require(\"@octokit/auth-unauthenticated\");\nasync function deleteAuthorizationWithState(state, options) {\n  const optionsWithDefaults = {\n    clientId: state.clientId,\n    clientSecret: state.clientSecret,\n    request: state.octokit.request,\n    ...options\n  };\n  const response = state.clientType === \"oauth-app\" ? await OAuthMethods7.deleteAuthorization({\n    clientType: \"oauth-app\",\n    ...optionsWithDefaults\n  }) : (\n    // istanbul ignore next\n    await OAuthMethods7.deleteAuthorization({\n      clientType: \"github-app\",\n      ...optionsWithDefaults\n    })\n  );\n  await emitEvent(state, {\n    name: \"token\",\n    action: \"deleted\",\n    token: options.token,\n    octokit: new state.Octokit({\n      authStrategy: import_auth_unauthenticated2.createUnauthenticatedAuth,\n      auth: {\n        reason: `Handling \"token.deleted\" event. The access for the token has been revoked.`\n      }\n    })\n  });\n  await emitEvent(state, {\n    name: \"authorization\",\n    action: \"deleted\",\n    token: options.token,\n    octokit: new state.Octokit({\n      authStrategy: import_auth_unauthenticated2.createUnauthenticatedAuth,\n      auth: {\n        reason: `Handling \"authorization.deleted\" event. The access for the app has been revoked.`\n      }\n    })\n  });\n  return response;\n}\n\n// pkg/dist-src/middleware/unknown-route-response.js\nfunction unknownRouteResponse(request) {\n  return {\n    status: 404,\n    headers: { \"content-type\": \"application/json\" },\n    text: JSON.stringify({\n      error: `Unknown route: ${request.method} ${request.url}`\n    })\n  };\n}\n\n// pkg/dist-src/middleware/handle-request.js\nasync function handleRequest(app, { pathPrefix = \"/api/github/oauth\" }, request) {\n  if (request.method === \"OPTIONS\") {\n    return {\n      status: 200,\n      headers: {\n        \"access-control-allow-origin\": \"*\",\n        \"access-control-allow-methods\": \"*\",\n        \"access-control-allow-headers\": \"Content-Type, User-Agent, Authorization\"\n      }\n    };\n  }\n  let { pathname } = new URL(request.url, \"http://localhost\");\n  if (!pathname.startsWith(`${pathPrefix}/`)) {\n    return void 0;\n  }\n  pathname = pathname.slice(pathPrefix.length + 1);\n  const route = [request.method, pathname].join(\" \");\n  const routes = {\n    getLogin: `GET login`,\n    getCallback: `GET callback`,\n    createToken: `POST token`,\n    getToken: `GET token`,\n    patchToken: `PATCH token`,\n    patchRefreshToken: `PATCH refresh-token`,\n    scopeToken: `POST token/scoped`,\n    deleteToken: `DELETE token`,\n    deleteGrant: `DELETE grant`\n  };\n  if (!Object.values(routes).includes(route)) {\n    return unknownRouteResponse(request);\n  }\n  let json;\n  try {\n    const text = await request.text();\n    json = text ? JSON.parse(text) : {};\n  } catch (error) {\n    return {\n      status: 400,\n      headers: {\n        \"content-type\": \"application/json\",\n        \"access-control-allow-origin\": \"*\"\n      },\n      text: JSON.stringify({\n        error: \"[@octokit/oauth-app] request error\"\n      })\n    };\n  }\n  const { searchParams } = new URL(request.url, \"http://localhost\");\n  const query = Object.fromEntries(searchParams);\n  const headers = request.headers;\n  try {\n    if (route === routes.getLogin) {\n      const { url } = app.getWebFlowAuthorizationUrl({\n        state: query.state,\n        scopes: query.scopes ? query.scopes.split(\",\") : void 0,\n        allowSignup: query.allowSignup ? query.allowSignup === \"true\" : void 0,\n        redirectUrl: query.redirectUrl\n      });\n      return { status: 302, headers: { location: url } };\n    }\n    if (route === routes.getCallback) {\n      if (query.error) {\n        throw new Error(\n          `[@octokit/oauth-app] ${query.error} ${query.error_description}`\n        );\n      }\n      if (!query.code) {\n        throw new Error('[@octokit/oauth-app] \"code\" parameter is required');\n      }\n      const {\n        authentication: { token: token2 }\n      } = await app.createToken({\n        code: query.code\n      });\n      return {\n        status: 200,\n        headers: {\n          \"content-type\": \"text/html\"\n        },\n        text: `<h1>Token created successfully</h1>\n\n<p>Your token is: <strong>${token2}</strong>. Copy it now as it cannot be shown again.</p>`\n      };\n    }\n    if (route === routes.createToken) {\n      const { code, redirectUrl } = json;\n      if (!code) {\n        throw new Error('[@octokit/oauth-app] \"code\" parameter is required');\n      }\n      const result = await app.createToken({\n        code,\n        redirectUrl\n      });\n      delete result.authentication.clientSecret;\n      return {\n        status: 201,\n        headers: {\n          \"content-type\": \"application/json\",\n          \"access-control-allow-origin\": \"*\"\n        },\n        text: JSON.stringify(result)\n      };\n    }\n    if (route === routes.getToken) {\n      const token2 = headers.authorization?.substr(\"token \".length);\n      if (!token2) {\n        throw new Error(\n          '[@octokit/oauth-app] \"Authorization\" header is required'\n        );\n      }\n      const result = await app.checkToken({\n        token: token2\n      });\n      delete result.authentication.clientSecret;\n      return {\n        status: 200,\n        headers: {\n          \"content-type\": \"application/json\",\n          \"access-control-allow-origin\": \"*\"\n        },\n        text: JSON.stringify(result)\n      };\n    }\n    if (route === routes.patchToken) {\n      const token2 = headers.authorization?.substr(\"token \".length);\n      if (!token2) {\n        throw new Error(\n          '[@octokit/oauth-app] \"Authorization\" header is required'\n        );\n      }\n      const result = await app.resetToken({ token: token2 });\n      delete result.authentication.clientSecret;\n      return {\n        status: 200,\n        headers: {\n          \"content-type\": \"application/json\",\n          \"access-control-allow-origin\": \"*\"\n        },\n        text: JSON.stringify(result)\n      };\n    }\n    if (route === routes.patchRefreshToken) {\n      const token2 = headers.authorization?.substr(\"token \".length);\n      if (!token2) {\n        throw new Error(\n          '[@octokit/oauth-app] \"Authorization\" header is required'\n        );\n      }\n      const { refreshToken: refreshToken2 } = json;\n      if (!refreshToken2) {\n        throw new Error(\n          \"[@octokit/oauth-app] refreshToken must be sent in request body\"\n        );\n      }\n      const result = await app.refreshToken({ refreshToken: refreshToken2 });\n      delete result.authentication.clientSecret;\n      return {\n        status: 200,\n        headers: {\n          \"content-type\": \"application/json\",\n          \"access-control-allow-origin\": \"*\"\n        },\n        text: JSON.stringify(result)\n      };\n    }\n    if (route === routes.scopeToken) {\n      const token2 = headers.authorization?.substr(\"token \".length);\n      if (!token2) {\n        throw new Error(\n          '[@octokit/oauth-app] \"Authorization\" header is required'\n        );\n      }\n      const result = await app.scopeToken({\n        token: token2,\n        ...json\n      });\n      delete result.authentication.clientSecret;\n      return {\n        status: 200,\n        headers: {\n          \"content-type\": \"application/json\",\n          \"access-control-allow-origin\": \"*\"\n        },\n        text: JSON.stringify(result)\n      };\n    }\n    if (route === routes.deleteToken) {\n      const token2 = headers.authorization?.substr(\"token \".length);\n      if (!token2) {\n        throw new Error(\n          '[@octokit/oauth-app] \"Authorization\" header is required'\n        );\n      }\n      await app.deleteToken({\n        token: token2\n      });\n      return {\n        status: 204,\n        headers: { \"access-control-allow-origin\": \"*\" }\n      };\n    }\n    const token = headers.authorization?.substr(\"token \".length);\n    if (!token) {\n      throw new Error(\n        '[@octokit/oauth-app] \"Authorization\" header is required'\n      );\n    }\n    await app.deleteAuthorization({\n      token\n    });\n    return {\n      status: 204,\n      headers: { \"access-control-allow-origin\": \"*\" }\n    };\n  } catch (error) {\n    return {\n      status: 400,\n      headers: {\n        \"content-type\": \"application/json\",\n        \"access-control-allow-origin\": \"*\"\n      },\n      text: JSON.stringify({ error: error.message })\n    };\n  }\n}\n\n// pkg/dist-src/middleware/node/parse-request.js\nfunction parseRequest(request) {\n  const { method, url, headers } = request;\n  async function text() {\n    const text2 = await new Promise((resolve, reject) => {\n      let bodyChunks = [];\n      request.on(\"error\", reject).on(\"data\", (chunk) => bodyChunks.push(chunk)).on(\"end\", () => resolve(Buffer.concat(bodyChunks).toString()));\n    });\n    return text2;\n  }\n  return { method, url, headers, text };\n}\n\n// pkg/dist-src/middleware/node/send-response.js\nfunction sendResponse(octokitResponse, response) {\n  response.writeHead(octokitResponse.status, octokitResponse.headers);\n  response.end(octokitResponse.text);\n}\n\n// pkg/dist-src/middleware/node/index.js\nfunction createNodeMiddleware(app, options = {}) {\n  return async function(request, response, next) {\n    const octokitRequest = await parseRequest(request);\n    const octokitResponse = await handleRequest(app, options, octokitRequest);\n    if (octokitResponse) {\n      sendResponse(octokitResponse, response);\n      return true;\n    } else {\n      next?.();\n      return false;\n    }\n  };\n}\n\n// pkg/dist-src/middleware/web-worker/parse-request.js\nfunction parseRequest2(request) {\n  const headers = Object.fromEntries(request.headers.entries());\n  return {\n    method: request.method,\n    url: request.url,\n    headers,\n    text: () => request.text()\n  };\n}\n\n// pkg/dist-src/middleware/web-worker/send-response.js\nfunction sendResponse2(octokitResponse) {\n  return new Response(octokitResponse.text, {\n    status: octokitResponse.status,\n    headers: octokitResponse.headers\n  });\n}\n\n// pkg/dist-src/middleware/web-worker/index.js\nfunction createWebWorkerHandler(app, options = {}) {\n  return async function(request) {\n    const octokitRequest = await parseRequest2(request);\n    const octokitResponse = await handleRequest(app, options, octokitRequest);\n    return octokitResponse ? sendResponse2(octokitResponse) : void 0;\n  };\n}\n\n// pkg/dist-src/middleware/aws-lambda/api-gateway-v2-parse-request.js\nfunction parseRequest3(request) {\n  const { method } = request.requestContext.http;\n  let url = request.rawPath;\n  const { stage } = request.requestContext;\n  if (url.startsWith(\"/\" + stage))\n    url = url.substring(stage.length + 1);\n  if (request.rawQueryString)\n    url += \"?\" + request.rawQueryString;\n  const headers = request.headers;\n  const text = async () => request.body || \"\";\n  return { method, url, headers, text };\n}\n\n// pkg/dist-src/middleware/aws-lambda/api-gateway-v2-send-response.js\nfunction sendResponse3(octokitResponse) {\n  return {\n    statusCode: octokitResponse.status,\n    headers: octokitResponse.headers,\n    body: octokitResponse.text\n  };\n}\n\n// pkg/dist-src/middleware/aws-lambda/api-gateway-v2.js\nfunction createAWSLambdaAPIGatewayV2Handler(app, options = {}) {\n  return async function(event) {\n    const request = parseRequest3(event);\n    const response = await handleRequest(app, options, request);\n    return response ? sendResponse3(response) : void 0;\n  };\n}\n\n// pkg/dist-src/index.js\nvar OAuthApp = class {\n  static {\n    this.VERSION = VERSION;\n  }\n  static defaults(defaults) {\n    const OAuthAppWithDefaults = class extends this {\n      constructor(...args) {\n        super({\n          ...defaults,\n          ...args[0]\n        });\n      }\n    };\n    return OAuthAppWithDefaults;\n  }\n  constructor(options) {\n    const Octokit2 = options.Octokit || OAuthAppOctokit;\n    this.type = options.clientType || \"oauth-app\";\n    const octokit = new Octokit2({\n      authStrategy: import_auth_oauth_app.createOAuthAppAuth,\n      auth: {\n        clientType: this.type,\n        clientId: options.clientId,\n        clientSecret: options.clientSecret\n      }\n    });\n    const state = {\n      clientType: this.type,\n      clientId: options.clientId,\n      clientSecret: options.clientSecret,\n      // @ts-expect-error defaultScopes not permitted for GitHub Apps\n      defaultScopes: options.defaultScopes || [],\n      allowSignup: options.allowSignup,\n      baseUrl: options.baseUrl,\n      redirectUrl: options.redirectUrl,\n      log: options.log,\n      Octokit: Octokit2,\n      octokit,\n      eventHandlers: {}\n    };\n    this.on = addEventHandler.bind(null, state);\n    this.octokit = octokit;\n    this.getUserOctokit = getUserOctokitWithState.bind(null, state);\n    this.getWebFlowAuthorizationUrl = getWebFlowAuthorizationUrlWithState.bind(\n      null,\n      state\n    );\n    this.createToken = createTokenWithState.bind(\n      null,\n      state\n    );\n    this.checkToken = checkTokenWithState.bind(\n      null,\n      state\n    );\n    this.resetToken = resetTokenWithState.bind(\n      null,\n      state\n    );\n    this.refreshToken = refreshTokenWithState.bind(\n      null,\n      state\n    );\n    this.scopeToken = scopeTokenWithState.bind(\n      null,\n      state\n    );\n    this.deleteToken = deleteTokenWithState.bind(null, state);\n    this.deleteAuthorization = deleteAuthorizationWithState.bind(null, state);\n  }\n};\n// Annotate the CommonJS export names for ESM import in node:\n0 && (module.exports = {\n  OAuthApp,\n  createAWSLambdaAPIGatewayV2Handler,\n  createNodeMiddleware,\n  createWebWorkerHandler,\n  handleRequest,\n  sendNodeResponse,\n  unknownRouteResponse\n});\n", "'use strict';\n\nmodule.exports = (string, count = 1, options) => {\n\toptions = {\n\t\tindent: ' ',\n\t\tincludeEmptyLines: false,\n\t\t...options\n\t};\n\n\tif (typeof string !== 'string') {\n\t\tthrow new TypeError(\n\t\t\t`Expected \\`input\\` to be a \\`string\\`, got \\`${typeof string}\\``\n\t\t);\n\t}\n\n\tif (typeof count !== 'number') {\n\t\tthrow new TypeError(\n\t\t\t`Expected \\`count\\` to be a \\`number\\`, got \\`${typeof count}\\``\n\t\t);\n\t}\n\n\tif (typeof options.indent !== 'string') {\n\t\tthrow new TypeError(\n\t\t\t`Expected \\`options.indent\\` to be a \\`string\\`, got \\`${typeof options.indent}\\``\n\t\t);\n\t}\n\n\tif (count === 0) {\n\t\treturn string;\n\t}\n\n\tconst regex = options.includeEmptyLines ? /^/gm : /^(?!\\s*$)/gm;\n\n\treturn string.replace(regex, options.indent.repeat(count));\n};\n", "/*\nThe MIT License (MIT)\n\nCopyright (c) 2016 CoderPuppy\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n\n*/\nvar _endianness;\nexport function endianness() {\n  if (typeof _endianness === 'undefined') {\n    var a = new ArrayBuffer(2);\n    var b = new Uint8Array(a);\n    var c = new Uint16Array(a);\n    b[0] = 1;\n    b[1] = 2;\n    if (c[0] === 258) {\n      _endianness = 'BE';\n    } else if (c[0] === 513){\n      _endianness = 'LE';\n    } else {\n      throw new Error('unable to figure out endianess');\n    }\n  }\n  return _endianness;\n}\n\nexport function hostname() {\n  if (typeof global.location !== 'undefined') {\n    return global.location.hostname\n  } else return '';\n}\n\nexport function loadavg() {\n  return [];\n}\n\nexport function uptime() {\n  return 0;\n}\n\nexport function freemem() {\n  return Number.MAX_VALUE;\n}\n\nexport function totalmem() {\n  return Number.MAX_VALUE;\n}\n\nexport function cpus() {\n  return [];\n}\n\nexport function type() {\n  return 'Browser';\n}\n\nexport function release () {\n  if (typeof global.navigator !== 'undefined') {\n    return global.navigator.appVersion;\n  }\n  return '';\n}\n\nexport function networkInterfaces(){}\nexport function getNetworkInterfaces(){}\n\nexport function arch() {\n  return 'javascript';\n}\n\nexport function platform() {\n  return 'browser';\n}\n\nexport function tmpDir() {\n  return '/tmp';\n}\nexport var tmpdir = tmpDir;\n\nexport var EOL = '\\n';\nexport default {\n  EOL: EOL,\n  tmpdir: tmpdir,\n  tmpDir: tmpDir,\n  networkInterfaces:networkInterfaces,\n  getNetworkInterfaces: getNetworkInterfaces,\n  release: release,\n  type: type,\n  cpus: cpus,\n  totalmem: totalmem,\n  freemem: freemem,\n  uptime: uptime,\n  loadavg: loadavg,\n  hostname: hostname,\n  endianness: endianness,\n}\n", "\nconst polyfill = require('os')\n\nif (polyfill && polyfill.default) {\n    module.exports = polyfill.default\n    for (let k in polyfill) {\n        module.exports[k] = polyfill[k]\n    }\n} else if (polyfill)  {\n    module.exports = polyfill\n}\n\n\n", "'use strict';\nconst os = require('os');\n\nconst extractPathRegex = /\\s+at.*(?:\\(|\\s)(.*)\\)?/;\nconst pathRegex = /^(?:(?:(?:node|(?:internal\\/[\\w/]*|.*node_modules\\/(?:babel-polyfill|pirates)\\/.*)?\\w+)\\.js:\\d+:\\d+)|native)/;\nconst homeDir = typeof os.homedir === 'undefined' ? '' : os.homedir();\n\nmodule.exports = (stack, options) => {\n\toptions = Object.assign({pretty: false}, options);\n\n\treturn stack.replace(/\\\\/g, '/')\n\t\t.split('\\n')\n\t\t.filter(line => {\n\t\t\tconst pathMatches = line.match(extractPathRegex);\n\t\t\tif (pathMatches === null || !pathMatches[1]) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tconst match = pathMatches[1];\n\n\t\t\t// Electron\n\t\t\tif (\n\t\t\t\tmatch.includes('.app/Contents/Resources/electron.asar') ||\n\t\t\t\tmatch.includes('.app/Contents/Resources/default_app.asar')\n\t\t\t) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn !pathRegex.test(match);\n\t\t})\n\t\t.filter(line => line.trim() !== '')\n\t\t.map(line => {\n\t\t\tif (options.pretty) {\n\t\t\t\treturn line.replace(extractPathRegex, (m, p1) => m.replace(p1, p1.replace(homeDir, '~')));\n\t\t\t}\n\n\t\t\treturn line;\n\t\t})\n\t\t.join('\\n');\n};\n", "'use strict';\nconst indentString = require('indent-string');\nconst cleanStack = require('clean-stack');\n\nconst cleanInternalStack = stack => stack.replace(/\\s+at .*aggregate-error\\/index.js:\\d+:\\d+\\)?/g, '');\n\nclass AggregateError extends Error {\n\tconstructor(errors) {\n\t\tif (!Array.isArray(errors)) {\n\t\t\tthrow new TypeError(`Expected input to be an Array, got ${typeof errors}`);\n\t\t}\n\n\t\terrors = [...errors].map(error => {\n\t\t\tif (error instanceof Error) {\n\t\t\t\treturn error;\n\t\t\t}\n\n\t\t\tif (error !== null && typeof error === 'object') {\n\t\t\t\t// Handle plain error objects with message property and/or possibly other metadata\n\t\t\t\treturn Object.assign(new Error(error.message), error);\n\t\t\t}\n\n\t\t\treturn new Error(error);\n\t\t});\n\n\t\tlet message = errors\n\t\t\t.map(error => {\n\t\t\t\t// The `stack` property is not standardized, so we can't assume it exists\n\t\t\t\treturn typeof error.stack === 'string' ? cleanInternalStack(cleanStack(error.stack)) : String(error);\n\t\t\t})\n\t\t\t.join('\\n');\n\t\tmessage = '\\n' + indentString(message, 4);\n\t\tsuper(message);\n\n\t\tthis.name = 'AggregateError';\n\n\t\tObject.defineProperty(this, '_errors', {value: errors});\n\t}\n\n\t* [Symbol.iterator]() {\n\t\tfor (const error of this._errors) {\n\t\t\tyield error;\n\t\t}\n\t}\n}\n\nmodule.exports = AggregateError;\n", "/*!\n * Platform.js v1.3.6\n * Copyright 2014-2020 Benjamin Tan\n * Copyright 2011-2013 John-David Dalton\n * Available under MIT license\n */\n;(function() {\n  'use strict';\n\n  /** Used to determine if values are of the language type `Object`. */\n  var objectTypes = {\n    'function': true,\n    'object': true\n  };\n\n  /** Used as a reference to the global object. */\n  var root = (objectTypes[typeof window] && window) || this;\n\n  /** Backup possible global object. */\n  var oldRoot = root;\n\n  /** Detect free variable `exports`. */\n  var freeExports = objectTypes[typeof exports] && exports;\n\n  /** Detect free variable `module`. */\n  var freeModule = objectTypes[typeof module] && module && !module.nodeType && module;\n\n  /** Detect free variable `global` from Node.js or Browserified code and use it as `root`. */\n  var freeGlobal = freeExports && freeModule && typeof global == 'object' && global;\n  if (freeGlobal && (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal || freeGlobal.self === freeGlobal)) {\n    root = freeGlobal;\n  }\n\n  /**\n   * Used as the maximum length of an array-like object.\n   * See the [ES6 spec](http://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength)\n   * for more details.\n   */\n  var maxSafeInteger = Math.pow(2, 53) - 1;\n\n  /** Regular expression to detect Opera. */\n  var reOpera = /\\bOpera/;\n\n  /** Possible global object. */\n  var thisBinding = this;\n\n  /** Used for native method references. */\n  var objectProto = Object.prototype;\n\n  /** Used to check for own properties of an object. */\n  var hasOwnProperty = objectProto.hasOwnProperty;\n\n  /** Used to resolve the internal `[[Class]]` of values. */\n  var toString = objectProto.toString;\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Capitalizes a string value.\n   *\n   * @private\n   * @param {string} string The string to capitalize.\n   * @returns {string} The capitalized string.\n   */\n  function capitalize(string) {\n    string = String(string);\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  }\n\n  /**\n   * A utility function to clean up the OS name.\n   *\n   * @private\n   * @param {string} os The OS name to clean up.\n   * @param {string} [pattern] A `RegExp` pattern matching the OS name.\n   * @param {string} [label] A label for the OS.\n   */\n  function cleanupOS(os, pattern, label) {\n    // Platform tokens are defined at:\n    // http://msdn.microsoft.com/en-us/library/ms537503(VS.85).aspx\n    // http://web.archive.org/web/20081122053950/http://msdn.microsoft.com/en-us/library/ms537503(VS.85).aspx\n    var data = {\n      '10.0': '10',\n      '6.4':  '10 Technical Preview',\n      '6.3':  '8.1',\n      '6.2':  '8',\n      '6.1':  'Server 2008 R2 / 7',\n      '6.0':  'Server 2008 / Vista',\n      '5.2':  'Server 2003 / XP 64-bit',\n      '5.1':  'XP',\n      '5.01': '2000 SP1',\n      '5.0':  '2000',\n      '4.0':  'NT',\n      '4.90': 'ME'\n    };\n    // Detect Windows version from platform tokens.\n    if (pattern && label && /^Win/i.test(os) && !/^Windows Phone /i.test(os) &&\n        (data = data[/[\\d.]+$/.exec(os)])) {\n      os = 'Windows ' + data;\n    }\n    // Correct character case and cleanup string.\n    os = String(os);\n\n    if (pattern && label) {\n      os = os.replace(RegExp(pattern, 'i'), label);\n    }\n\n    os = format(\n      os.replace(/ ce$/i, ' CE')\n        .replace(/\\bhpw/i, 'web')\n        .replace(/\\bMacintosh\\b/, 'Mac OS')\n        .replace(/_PowerPC\\b/i, ' OS')\n        .replace(/\\b(OS X) [^ \\d]+/i, '$1')\n        .replace(/\\bMac (OS X)\\b/, '$1')\n        .replace(/\\/(\\d)/, ' $1')\n        .replace(/_/g, '.')\n        .replace(/(?: BePC|[ .]*fc[ \\d.]+)$/i, '')\n        .replace(/\\bx86\\.64\\b/gi, 'x86_64')\n        .replace(/\\b(Windows Phone) OS\\b/, '$1')\n        .replace(/\\b(Chrome OS \\w+) [\\d.]+\\b/, '$1')\n        .split(' on ')[0]\n    );\n\n    return os;\n  }\n\n  /**\n   * An iteration utility for arrays and objects.\n   *\n   * @private\n   * @param {Array|Object} object The object to iterate over.\n   * @param {Function} callback The function called per iteration.\n   */\n  function each(object, callback) {\n    var index = -1,\n        length = object ? object.length : 0;\n\n    if (typeof length == 'number' && length > -1 && length <= maxSafeInteger) {\n      while (++index < length) {\n        callback(object[index], index, object);\n      }\n    } else {\n      forOwn(object, callback);\n    }\n  }\n\n  /**\n   * Trim and conditionally capitalize string values.\n   *\n   * @private\n   * @param {string} string The string to format.\n   * @returns {string} The formatted string.\n   */\n  function format(string) {\n    string = trim(string);\n    return /^(?:webOS|i(?:OS|P))/.test(string)\n      ? string\n      : capitalize(string);\n  }\n\n  /**\n   * Iterates over an object's own properties, executing the `callback` for each.\n   *\n   * @private\n   * @param {Object} object The object to iterate over.\n   * @param {Function} callback The function executed per own property.\n   */\n  function forOwn(object, callback) {\n    for (var key in object) {\n      if (hasOwnProperty.call(object, key)) {\n        callback(object[key], key, object);\n      }\n    }\n  }\n\n  /**\n   * Gets the internal `[[Class]]` of a value.\n   *\n   * @private\n   * @param {*} value The value.\n   * @returns {string} The `[[Class]]`.\n   */\n  function getClassOf(value) {\n    return value == null\n      ? capitalize(value)\n      : toString.call(value).slice(8, -1);\n  }\n\n  /**\n   * Host objects can return type values that are different from their actual\n   * data type. The objects we are concerned with usually return non-primitive\n   * types of \"object\", \"function\", or \"unknown\".\n   *\n   * @private\n   * @param {*} object The owner of the property.\n   * @param {string} property The property to check.\n   * @returns {boolean} Returns `true` if the property value is a non-primitive, else `false`.\n   */\n  function isHostType(object, property) {\n    var type = object != null ? typeof object[property] : 'number';\n    return !/^(?:boolean|number|string|undefined)$/.test(type) &&\n      (type == 'object' ? !!object[property] : true);\n  }\n\n  /**\n   * Prepares a string for use in a `RegExp` by making hyphens and spaces optional.\n   *\n   * @private\n   * @param {string} string The string to qualify.\n   * @returns {string} The qualified string.\n   */\n  function qualify(string) {\n    return String(string).replace(/([ -])(?!$)/g, '$1?');\n  }\n\n  /**\n   * A bare-bones `Array#reduce` like utility function.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} callback The function called per iteration.\n   * @returns {*} The accumulated result.\n   */\n  function reduce(array, callback) {\n    var accumulator = null;\n    each(array, function(value, index) {\n      accumulator = callback(accumulator, value, index, array);\n    });\n    return accumulator;\n  }\n\n  /**\n   * Removes leading and trailing whitespace from a string.\n   *\n   * @private\n   * @param {string} string The string to trim.\n   * @returns {string} The trimmed string.\n   */\n  function trim(string) {\n    return String(string).replace(/^ +| +$/g, '');\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Creates a new platform object.\n   *\n   * @memberOf platform\n   * @param {Object|string} [ua=navigator.userAgent] The user agent string or\n   *  context object.\n   * @returns {Object} A platform object.\n   */\n  function parse(ua) {\n\n    /** The environment context object. */\n    var context = root;\n\n    /** Used to flag when a custom context is provided. */\n    var isCustomContext = ua && typeof ua == 'object' && getClassOf(ua) != 'String';\n\n    // Juggle arguments.\n    if (isCustomContext) {\n      context = ua;\n      ua = null;\n    }\n\n    /** Browser navigator object. */\n    var nav = context.navigator || {};\n\n    /** Browser user agent string. */\n    var userAgent = nav.userAgent || '';\n\n    ua || (ua = userAgent);\n\n    /** Used to flag when `thisBinding` is the [ModuleScope]. */\n    var isModuleScope = isCustomContext || thisBinding == oldRoot;\n\n    /** Used to detect if browser is like Chrome. */\n    var likeChrome = isCustomContext\n      ? !!nav.likeChrome\n      : /\\bChrome\\b/.test(ua) && !/internal|\\n/i.test(toString.toString());\n\n    /** Internal `[[Class]]` value shortcuts. */\n    var objectClass = 'Object',\n        airRuntimeClass = isCustomContext ? objectClass : 'ScriptBridgingProxyObject',\n        enviroClass = isCustomContext ? objectClass : 'Environment',\n        javaClass = (isCustomContext && context.java) ? 'JavaPackage' : getClassOf(context.java),\n        phantomClass = isCustomContext ? objectClass : 'RuntimeObject';\n\n    /** Detect Java environments. */\n    var java = /\\bJava/.test(javaClass) && context.java;\n\n    /** Detect Rhino. */\n    var rhino = java && getClassOf(context.environment) == enviroClass;\n\n    /** A character to represent alpha. */\n    var alpha = java ? 'a' : '\\u03b1';\n\n    /** A character to represent beta. */\n    var beta = java ? 'b' : '\\u03b2';\n\n    /** Browser document object. */\n    var doc = context.document || {};\n\n    /**\n     * Detect Opera browser (Presto-based).\n     * http://www.howtocreate.co.uk/operaStuff/operaObject.html\n     * http://dev.opera.com/articles/view/opera-mini-web-content-authoring-guidelines/#operamini\n     */\n    var opera = context.operamini || context.opera;\n\n    /** Opera `[[Class]]`. */\n    var operaClass = reOpera.test(operaClass = (isCustomContext && opera) ? opera['[[Class]]'] : getClassOf(opera))\n      ? operaClass\n      : (opera = null);\n\n    /*------------------------------------------------------------------------*/\n\n    /** Temporary variable used over the script's lifetime. */\n    var data;\n\n    /** The CPU architecture. */\n    var arch = ua;\n\n    /** Platform description array. */\n    var description = [];\n\n    /** Platform alpha/beta indicator. */\n    var prerelease = null;\n\n    /** A flag to indicate that environment features should be used to resolve the platform. */\n    var useFeatures = ua == userAgent;\n\n    /** The browser/environment version. */\n    var version = useFeatures && opera && typeof opera.version == 'function' && opera.version();\n\n    /** A flag to indicate if the OS ends with \"/ Version\" */\n    var isSpecialCasedOS;\n\n    /* Detectable layout engines (order is important). */\n    var layout = getLayout([\n      { 'label': 'EdgeHTML', 'pattern': 'Edge' },\n      'Trident',\n      { 'label': 'WebKit', 'pattern': 'AppleWebKit' },\n      'iCab',\n      'Presto',\n      'NetFront',\n      'Tasman',\n      'KHTML',\n      'Gecko'\n    ]);\n\n    /* Detectable browser names (order is important). */\n    var name = getName([\n      'Adobe AIR',\n      'Arora',\n      'Avant Browser',\n      'Breach',\n      'Camino',\n      'Electron',\n      'Epiphany',\n      'Fennec',\n      'Flock',\n      'Galeon',\n      'GreenBrowser',\n      'iCab',\n      'Iceweasel',\n      'K-Meleon',\n      'Konqueror',\n      'Lunascape',\n      'Maxthon',\n      { 'label': 'Microsoft Edge', 'pattern': '(?:Edge|Edg|EdgA|EdgiOS)' },\n      'Midori',\n      'Nook Browser',\n      'PaleMoon',\n      'PhantomJS',\n      'Raven',\n      'Rekonq',\n      'RockMelt',\n      { 'label': 'Samsung Internet', 'pattern': 'SamsungBrowser' },\n      'SeaMonkey',\n      { 'label': 'Silk', 'pattern': '(?:Cloud9|Silk-Accelerated)' },\n      'Sleipnir',\n      'SlimBrowser',\n      { 'label': 'SRWare Iron', 'pattern': 'Iron' },\n      'Sunrise',\n      'Swiftfox',\n      'Vivaldi',\n      'Waterfox',\n      'WebPositive',\n      { 'label': 'Yandex Browser', 'pattern': 'YaBrowser' },\n      { 'label': 'UC Browser', 'pattern': 'UCBrowser' },\n      'Opera Mini',\n      { 'label': 'Opera Mini', 'pattern': 'OPiOS' },\n      'Opera',\n      { 'label': 'Opera', 'pattern': 'OPR' },\n      'Chromium',\n      'Chrome',\n      { 'label': 'Chrome', 'pattern': '(?:HeadlessChrome)' },\n      { 'label': 'Chrome Mobile', 'pattern': '(?:CriOS|CrMo)' },\n      { 'label': 'Firefox', 'pattern': '(?:Firefox|Minefield)' },\n      { 'label': 'Firefox for iOS', 'pattern': 'FxiOS' },\n      { 'label': 'IE', 'pattern': 'IEMobile' },\n      { 'label': 'IE', 'pattern': 'MSIE' },\n      'Safari'\n    ]);\n\n    /* Detectable products (order is important). */\n    var product = getProduct([\n      { 'label': 'BlackBerry', 'pattern': 'BB10' },\n      'BlackBerry',\n      { 'label': 'Galaxy S', 'pattern': 'GT-I9000' },\n      { 'label': 'Galaxy S2', 'pattern': 'GT-I9100' },\n      { 'label': 'Galaxy S3', 'pattern': 'GT-I9300' },\n      { 'label': 'Galaxy S4', 'pattern': 'GT-I9500' },\n      { 'label': 'Galaxy S5', 'pattern': 'SM-G900' },\n      { 'label': 'Galaxy S6', 'pattern': 'SM-G920' },\n      { 'label': 'Galaxy S6 Edge', 'pattern': 'SM-G925' },\n      { 'label': 'Galaxy S7', 'pattern': 'SM-G930' },\n      { 'label': 'Galaxy S7 Edge', 'pattern': 'SM-G935' },\n      'Google TV',\n      'Lumia',\n      'iPad',\n      'iPod',\n      'iPhone',\n      'Kindle',\n      { 'label': 'Kindle Fire', 'pattern': '(?:Cloud9|Silk-Accelerated)' },\n      'Nexus',\n      'Nook',\n      'PlayBook',\n      'PlayStation Vita',\n      'PlayStation',\n      'TouchPad',\n      'Transformer',\n      { 'label': 'Wii U', 'pattern': 'WiiU' },\n      'Wii',\n      'Xbox One',\n      { 'label': 'Xbox 360', 'pattern': 'Xbox' },\n      'Xoom'\n    ]);\n\n    /* Detectable manufacturers. */\n    var manufacturer = getManufacturer({\n      'Apple': { 'iPad': 1, 'iPhone': 1, 'iPod': 1 },\n      'Alcatel': {},\n      'Archos': {},\n      'Amazon': { 'Kindle': 1, 'Kindle Fire': 1 },\n      'Asus': { 'Transformer': 1 },\n      'Barnes & Noble': { 'Nook': 1 },\n      'BlackBerry': { 'PlayBook': 1 },\n      'Google': { 'Google TV': 1, 'Nexus': 1 },\n      'HP': { 'TouchPad': 1 },\n      'HTC': {},\n      'Huawei': {},\n      'Lenovo': {},\n      'LG': {},\n      'Microsoft': { 'Xbox': 1, 'Xbox One': 1 },\n      'Motorola': { 'Xoom': 1 },\n      'Nintendo': { 'Wii U': 1,  'Wii': 1 },\n      'Nokia': { 'Lumia': 1 },\n      'Oppo': {},\n      'Samsung': { 'Galaxy S': 1, 'Galaxy S2': 1, 'Galaxy S3': 1, 'Galaxy S4': 1 },\n      'Sony': { 'PlayStation': 1, 'PlayStation Vita': 1 },\n      'Xiaomi': { 'Mi': 1, 'Redmi': 1 }\n    });\n\n    /* Detectable operating systems (order is important). */\n    var os = getOS([\n      'Windows Phone',\n      'KaiOS',\n      'Android',\n      'CentOS',\n      { 'label': 'Chrome OS', 'pattern': 'CrOS' },\n      'Debian',\n      { 'label': 'DragonFly BSD', 'pattern': 'DragonFly' },\n      'Fedora',\n      'FreeBSD',\n      'Gentoo',\n      'Haiku',\n      'Kubuntu',\n      'Linux Mint',\n      'OpenBSD',\n      'Red Hat',\n      'SuSE',\n      'Ubuntu',\n      'Xubuntu',\n      'Cygwin',\n      'Symbian OS',\n      'hpwOS',\n      'webOS ',\n      'webOS',\n      'Tablet OS',\n      'Tizen',\n      'Linux',\n      'Mac OS X',\n      'Macintosh',\n      'Mac',\n      'Windows 98;',\n      'Windows '\n    ]);\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Picks the layout engine from an array of guesses.\n     *\n     * @private\n     * @param {Array} guesses An array of guesses.\n     * @returns {null|string} The detected layout engine.\n     */\n    function getLayout(guesses) {\n      return reduce(guesses, function(result, guess) {\n        return result || RegExp('\\\\b' + (\n          guess.pattern || qualify(guess)\n        ) + '\\\\b', 'i').exec(ua) && (guess.label || guess);\n      });\n    }\n\n    /**\n     * Picks the manufacturer from an array of guesses.\n     *\n     * @private\n     * @param {Array} guesses An object of guesses.\n     * @returns {null|string} The detected manufacturer.\n     */\n    function getManufacturer(guesses) {\n      return reduce(guesses, function(result, value, key) {\n        // Lookup the manufacturer by product or scan the UA for the manufacturer.\n        return result || (\n          value[product] ||\n          value[/^[a-z]+(?: +[a-z]+\\b)*/i.exec(product)] ||\n          RegExp('\\\\b' + qualify(key) + '(?:\\\\b|\\\\w*\\\\d)', 'i').exec(ua)\n        ) && key;\n      });\n    }\n\n    /**\n     * Picks the browser name from an array of guesses.\n     *\n     * @private\n     * @param {Array} guesses An array of guesses.\n     * @returns {null|string} The detected browser name.\n     */\n    function getName(guesses) {\n      return reduce(guesses, function(result, guess) {\n        return result || RegExp('\\\\b' + (\n          guess.pattern || qualify(guess)\n        ) + '\\\\b', 'i').exec(ua) && (guess.label || guess);\n      });\n    }\n\n    /**\n     * Picks the OS name from an array of guesses.\n     *\n     * @private\n     * @param {Array} guesses An array of guesses.\n     * @returns {null|string} The detected OS name.\n     */\n    function getOS(guesses) {\n      return reduce(guesses, function(result, guess) {\n        var pattern = guess.pattern || qualify(guess);\n        if (!result && (result =\n              RegExp('\\\\b' + pattern + '(?:/[\\\\d.]+|[ \\\\w.]*)', 'i').exec(ua)\n            )) {\n          result = cleanupOS(result, pattern, guess.label || guess);\n        }\n        return result;\n      });\n    }\n\n    /**\n     * Picks the product name from an array of guesses.\n     *\n     * @private\n     * @param {Array} guesses An array of guesses.\n     * @returns {null|string} The detected product name.\n     */\n    function getProduct(guesses) {\n      return reduce(guesses, function(result, guess) {\n        var pattern = guess.pattern || qualify(guess);\n        if (!result && (result =\n              RegExp('\\\\b' + pattern + ' *\\\\d+[.\\\\w_]*', 'i').exec(ua) ||\n              RegExp('\\\\b' + pattern + ' *\\\\w+-[\\\\w]*', 'i').exec(ua) ||\n              RegExp('\\\\b' + pattern + '(?:; *(?:[a-z]+[_-])?[a-z]+\\\\d+|[^ ();-]*)', 'i').exec(ua)\n            )) {\n          // Split by forward slash and append product version if needed.\n          if ((result = String((guess.label && !RegExp(pattern, 'i').test(guess.label)) ? guess.label : result).split('/'))[1] && !/[\\d.]+/.test(result[0])) {\n            result[0] += ' ' + result[1];\n          }\n          // Correct character case and cleanup string.\n          guess = guess.label || guess;\n          result = format(result[0]\n            .replace(RegExp(pattern, 'i'), guess)\n            .replace(RegExp('; *(?:' + guess + '[_-])?', 'i'), ' ')\n            .replace(RegExp('(' + guess + ')[-_.]?(\\\\w)', 'i'), '$1 $2'));\n        }\n        return result;\n      });\n    }\n\n    /**\n     * Resolves the version using an array of UA patterns.\n     *\n     * @private\n     * @param {Array} patterns An array of UA patterns.\n     * @returns {null|string} The detected version.\n     */\n    function getVersion(patterns) {\n      return reduce(patterns, function(result, pattern) {\n        return result || (RegExp(pattern +\n          '(?:-[\\\\d.]+/|(?: for [\\\\w-]+)?[ /-])([\\\\d.]+[^ ();/_-]*)', 'i').exec(ua) || 0)[1] || null;\n      });\n    }\n\n    /**\n     * Returns `platform.description` when the platform object is coerced to a string.\n     *\n     * @name toString\n     * @memberOf platform\n     * @returns {string} Returns `platform.description` if available, else an empty string.\n     */\n    function toStringPlatform() {\n      return this.description || '';\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    // Convert layout to an array so we can add extra details.\n    layout && (layout = [layout]);\n\n    // Detect Android products.\n    // Browsers on Android devices typically provide their product IDS after \"Android;\"\n    // up to \"Build\" or \") AppleWebKit\".\n    // Example:\n    // \"Mozilla/5.0 (Linux; Android 8.1.0; Moto G (5) Plus) AppleWebKit/537.36\n    // (KHTML, like Gecko) Chrome/70.0.3538.80 Mobile Safari/537.36\"\n    if (/\\bAndroid\\b/.test(os) && !product &&\n        (data = /\\bAndroid[^;]*;(.*?)(?:Build|\\) AppleWebKit)\\b/i.exec(ua))) {\n      product = trim(data[1])\n        // Replace any language codes (eg. \"en-US\").\n        .replace(/^[a-z]{2}-[a-z]{2};\\s*/i, '')\n        || null;\n    }\n    // Detect product names that contain their manufacturer's name.\n    if (manufacturer && !product) {\n      product = getProduct([manufacturer]);\n    } else if (manufacturer && product) {\n      product = product\n        .replace(RegExp('^(' + qualify(manufacturer) + ')[-_.\\\\s]', 'i'), manufacturer + ' ')\n        .replace(RegExp('^(' + qualify(manufacturer) + ')[-_.]?(\\\\w)', 'i'), manufacturer + ' $2');\n    }\n    // Clean up Google TV.\n    if ((data = /\\bGoogle TV\\b/.exec(product))) {\n      product = data[0];\n    }\n    // Detect simulators.\n    if (/\\bSimulator\\b/i.test(ua)) {\n      product = (product ? product + ' ' : '') + 'Simulator';\n    }\n    // Detect Opera Mini 8+ running in Turbo/Uncompressed mode on iOS.\n    if (name == 'Opera Mini' && /\\bOPiOS\\b/.test(ua)) {\n      description.push('running in Turbo/Uncompressed mode');\n    }\n    // Detect IE Mobile 11.\n    if (name == 'IE' && /\\blike iPhone OS\\b/.test(ua)) {\n      data = parse(ua.replace(/like iPhone OS/, ''));\n      manufacturer = data.manufacturer;\n      product = data.product;\n    }\n    // Detect iOS.\n    else if (/^iP/.test(product)) {\n      name || (name = 'Safari');\n      os = 'iOS' + ((data = / OS ([\\d_]+)/i.exec(ua))\n        ? ' ' + data[1].replace(/_/g, '.')\n        : '');\n    }\n    // Detect Kubuntu.\n    else if (name == 'Konqueror' && /^Linux\\b/i.test(os)) {\n      os = 'Kubuntu';\n    }\n    // Detect Android browsers.\n    else if ((manufacturer && manufacturer != 'Google' &&\n        ((/Chrome/.test(name) && !/\\bMobile Safari\\b/i.test(ua)) || /\\bVita\\b/.test(product))) ||\n        (/\\bAndroid\\b/.test(os) && /^Chrome/.test(name) && /\\bVersion\\//i.test(ua))) {\n      name = 'Android Browser';\n      os = /\\bAndroid\\b/.test(os) ? os : 'Android';\n    }\n    // Detect Silk desktop/accelerated modes.\n    else if (name == 'Silk') {\n      if (!/\\bMobi/i.test(ua)) {\n        os = 'Android';\n        description.unshift('desktop mode');\n      }\n      if (/Accelerated *= *true/i.test(ua)) {\n        description.unshift('accelerated');\n      }\n    }\n    // Detect UC Browser speed mode.\n    else if (name == 'UC Browser' && /\\bUCWEB\\b/.test(ua)) {\n      description.push('speed mode');\n    }\n    // Detect PaleMoon identifying as Firefox.\n    else if (name == 'PaleMoon' && (data = /\\bFirefox\\/([\\d.]+)\\b/.exec(ua))) {\n      description.push('identifying as Firefox ' + data[1]);\n    }\n    // Detect Firefox OS and products running Firefox.\n    else if (name == 'Firefox' && (data = /\\b(Mobile|Tablet|TV)\\b/i.exec(ua))) {\n      os || (os = 'Firefox OS');\n      product || (product = data[1]);\n    }\n    // Detect false positives for Firefox/Safari.\n    else if (!name || (data = !/\\bMinefield\\b/i.test(ua) && /\\b(?:Firefox|Safari)\\b/.exec(name))) {\n      // Escape the `/` for Firefox 1.\n      if (name && !product && /[\\/,]|^[^(]+?\\)/.test(ua.slice(ua.indexOf(data + '/') + 8))) {\n        // Clear name of false positives.\n        name = null;\n      }\n      // Reassign a generic name.\n      if ((data = product || manufacturer || os) &&\n          (product || manufacturer || /\\b(?:Android|Symbian OS|Tablet OS|webOS)\\b/.test(os))) {\n        name = /[a-z]+(?: Hat)?/i.exec(/\\bAndroid\\b/.test(os) ? os : data) + ' Browser';\n      }\n    }\n    // Add Chrome version to description for Electron.\n    else if (name == 'Electron' && (data = (/\\bChrome\\/([\\d.]+)\\b/.exec(ua) || 0)[1])) {\n      description.push('Chromium ' + data);\n    }\n    // Detect non-Opera (Presto-based) versions (order is important).\n    if (!version) {\n      version = getVersion([\n        '(?:Cloud9|CriOS|CrMo|Edge|Edg|EdgA|EdgiOS|FxiOS|HeadlessChrome|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\\\d.]+$)|UCBrowser|YaBrowser)',\n        'Version',\n        qualify(name),\n        '(?:Firefox|Minefield|NetFront)'\n      ]);\n    }\n    // Detect stubborn layout engines.\n    if ((data =\n          layout == 'iCab' && parseFloat(version) > 3 && 'WebKit' ||\n          /\\bOpera\\b/.test(name) && (/\\bOPR\\b/.test(ua) ? 'Blink' : 'Presto') ||\n          /\\b(?:Midori|Nook|Safari)\\b/i.test(ua) && !/^(?:Trident|EdgeHTML)$/.test(layout) && 'WebKit' ||\n          !layout && /\\bMSIE\\b/i.test(ua) && (os == 'Mac OS' ? 'Tasman' : 'Trident') ||\n          layout == 'WebKit' && /\\bPlayStation\\b(?! Vita\\b)/i.test(name) && 'NetFront'\n        )) {\n      layout = [data];\n    }\n    // Detect Windows Phone 7 desktop mode.\n    if (name == 'IE' && (data = (/; *(?:XBLWP|ZuneWP)(\\d+)/i.exec(ua) || 0)[1])) {\n      name += ' Mobile';\n      os = 'Windows Phone ' + (/\\+$/.test(data) ? data : data + '.x');\n      description.unshift('desktop mode');\n    }\n    // Detect Windows Phone 8.x desktop mode.\n    else if (/\\bWPDesktop\\b/i.test(ua)) {\n      name = 'IE Mobile';\n      os = 'Windows Phone 8.x';\n      description.unshift('desktop mode');\n      version || (version = (/\\brv:([\\d.]+)/.exec(ua) || 0)[1]);\n    }\n    // Detect IE 11 identifying as other browsers.\n    else if (name != 'IE' && layout == 'Trident' && (data = /\\brv:([\\d.]+)/.exec(ua))) {\n      if (name) {\n        description.push('identifying as ' + name + (version ? ' ' + version : ''));\n      }\n      name = 'IE';\n      version = data[1];\n    }\n    // Leverage environment features.\n    if (useFeatures) {\n      // Detect server-side environments.\n      // Rhino has a global function while others have a global object.\n      if (isHostType(context, 'global')) {\n        if (java) {\n          data = java.lang.System;\n          arch = data.getProperty('os.arch');\n          os = os || data.getProperty('os.name') + ' ' + data.getProperty('os.version');\n        }\n        if (rhino) {\n          try {\n            version = context.require('ringo/engine').version.join('.');\n            name = 'RingoJS';\n          } catch(e) {\n            if ((data = context.system) && data.global.system == context.system) {\n              name = 'Narwhal';\n              os || (os = data[0].os || null);\n            }\n          }\n          if (!name) {\n            name = 'Rhino';\n          }\n        }\n        else if (\n          typeof context.process == 'object' && !context.process.browser &&\n          (data = context.process)\n        ) {\n          if (typeof data.versions == 'object') {\n            if (typeof data.versions.electron == 'string') {\n              description.push('Node ' + data.versions.node);\n              name = 'Electron';\n              version = data.versions.electron;\n            } else if (typeof data.versions.nw == 'string') {\n              description.push('Chromium ' + version, 'Node ' + data.versions.node);\n              name = 'NW.js';\n              version = data.versions.nw;\n            }\n          }\n          if (!name) {\n            name = 'Node.js';\n            arch = data.arch;\n            os = data.platform;\n            version = /[\\d.]+/.exec(data.version);\n            version = version ? version[0] : null;\n          }\n        }\n      }\n      // Detect Adobe AIR.\n      else if (getClassOf((data = context.runtime)) == airRuntimeClass) {\n        name = 'Adobe AIR';\n        os = data.flash.system.Capabilities.os;\n      }\n      // Detect PhantomJS.\n      else if (getClassOf((data = context.phantom)) == phantomClass) {\n        name = 'PhantomJS';\n        version = (data = data.version || null) && (data.major + '.' + data.minor + '.' + data.patch);\n      }\n      // Detect IE compatibility modes.\n      else if (typeof doc.documentMode == 'number' && (data = /\\bTrident\\/(\\d+)/i.exec(ua))) {\n        // We're in compatibility mode when the Trident version + 4 doesn't\n        // equal the document mode.\n        version = [version, doc.documentMode];\n        if ((data = +data[1] + 4) != version[1]) {\n          description.push('IE ' + version[1] + ' mode');\n          layout && (layout[1] = '');\n          version[1] = data;\n        }\n        version = name == 'IE' ? String(version[1].toFixed(1)) : version[0];\n      }\n      // Detect IE 11 masking as other browsers.\n      else if (typeof doc.documentMode == 'number' && /^(?:Chrome|Firefox)\\b/.test(name)) {\n        description.push('masking as ' + name + ' ' + version);\n        name = 'IE';\n        version = '11.0';\n        layout = ['Trident'];\n        os = 'Windows';\n      }\n      os = os && format(os);\n    }\n    // Detect prerelease phases.\n    if (version && (data =\n          /(?:[ab]|dp|pre|[ab]\\d+pre)(?:\\d+\\+?)?$/i.exec(version) ||\n          /(?:alpha|beta)(?: ?\\d)?/i.exec(ua + ';' + (useFeatures && nav.appMinorVersion)) ||\n          /\\bMinefield\\b/i.test(ua) && 'a'\n        )) {\n      prerelease = /b/i.test(data) ? 'beta' : 'alpha';\n      version = version.replace(RegExp(data + '\\\\+?$'), '') +\n        (prerelease == 'beta' ? beta : alpha) + (/\\d+\\+?/.exec(data) || '');\n    }\n    // Detect Firefox Mobile.\n    if (name == 'Fennec' || name == 'Firefox' && /\\b(?:Android|Firefox OS|KaiOS)\\b/.test(os)) {\n      name = 'Firefox Mobile';\n    }\n    // Obscure Maxthon's unreliable version.\n    else if (name == 'Maxthon' && version) {\n      version = version.replace(/\\.[\\d.]+/, '.x');\n    }\n    // Detect Xbox 360 and Xbox One.\n    else if (/\\bXbox\\b/i.test(product)) {\n      if (product == 'Xbox 360') {\n        os = null;\n      }\n      if (product == 'Xbox 360' && /\\bIEMobile\\b/.test(ua)) {\n        description.unshift('mobile mode');\n      }\n    }\n    // Add mobile postfix.\n    else if ((/^(?:Chrome|IE|Opera)$/.test(name) || name && !product && !/Browser|Mobi/.test(name)) &&\n        (os == 'Windows CE' || /Mobi/i.test(ua))) {\n      name += ' Mobile';\n    }\n    // Detect IE platform preview.\n    else if (name == 'IE' && useFeatures) {\n      try {\n        if (context.external === null) {\n          description.unshift('platform preview');\n        }\n      } catch(e) {\n        description.unshift('embedded');\n      }\n    }\n    // Detect BlackBerry OS version.\n    // http://docs.blackberry.com/en/developers/deliverables/18169/HTTP_headers_sent_by_BB_Browser_1234911_11.jsp\n    else if ((/\\bBlackBerry\\b/.test(product) || /\\bBB10\\b/.test(ua)) && (data =\n          (RegExp(product.replace(/ +/g, ' *') + '/([.\\\\d]+)', 'i').exec(ua) || 0)[1] ||\n          version\n        )) {\n      data = [data, /BB10/.test(ua)];\n      os = (data[1] ? (product = null, manufacturer = 'BlackBerry') : 'Device Software') + ' ' + data[0];\n      version = null;\n    }\n    // Detect Opera identifying/masking itself as another browser.\n    // http://www.opera.com/support/kb/view/843/\n    else if (this != forOwn && product != 'Wii' && (\n          (useFeatures && opera) ||\n          (/Opera/.test(name) && /\\b(?:MSIE|Firefox)\\b/i.test(ua)) ||\n          (name == 'Firefox' && /\\bOS X (?:\\d+\\.){2,}/.test(os)) ||\n          (name == 'IE' && (\n            (os && !/^Win/.test(os) && version > 5.5) ||\n            /\\bWindows XP\\b/.test(os) && version > 8 ||\n            version == 8 && !/\\bTrident\\b/.test(ua)\n          ))\n        ) && !reOpera.test((data = parse.call(forOwn, ua.replace(reOpera, '') + ';'))) && data.name) {\n      // When \"identifying\", the UA contains both Opera and the other browser's name.\n      data = 'ing as ' + data.name + ((data = data.version) ? ' ' + data : '');\n      if (reOpera.test(name)) {\n        if (/\\bIE\\b/.test(data) && os == 'Mac OS') {\n          os = null;\n        }\n        data = 'identify' + data;\n      }\n      // When \"masking\", the UA contains only the other browser's name.\n      else {\n        data = 'mask' + data;\n        if (operaClass) {\n          name = format(operaClass.replace(/([a-z])([A-Z])/g, '$1 $2'));\n        } else {\n          name = 'Opera';\n        }\n        if (/\\bIE\\b/.test(data)) {\n          os = null;\n        }\n        if (!useFeatures) {\n          version = null;\n        }\n      }\n      layout = ['Presto'];\n      description.push(data);\n    }\n    // Detect WebKit Nightly and approximate Chrome/Safari versions.\n    if ((data = (/\\bAppleWebKit\\/([\\d.]+\\+?)/i.exec(ua) || 0)[1])) {\n      // Correct build number for numeric comparison.\n      // (e.g. \"532.5\" becomes \"532.05\")\n      data = [parseFloat(data.replace(/\\.(\\d)$/, '.0$1')), data];\n      // Nightly builds are postfixed with a \"+\".\n      if (name == 'Safari' && data[1].slice(-1) == '+') {\n        name = 'WebKit Nightly';\n        prerelease = 'alpha';\n        version = data[1].slice(0, -1);\n      }\n      // Clear incorrect browser versions.\n      else if (version == data[1] ||\n          version == (data[2] = (/\\bSafari\\/([\\d.]+\\+?)/i.exec(ua) || 0)[1])) {\n        version = null;\n      }\n      // Use the full Chrome version when available.\n      data[1] = (/\\b(?:Headless)?Chrome\\/([\\d.]+)/i.exec(ua) || 0)[1];\n      // Detect Blink layout engine.\n      if (data[0] == 537.36 && data[2] == 537.36 && parseFloat(data[1]) >= 28 && layout == 'WebKit') {\n        layout = ['Blink'];\n      }\n      // Detect JavaScriptCore.\n      // http://stackoverflow.com/questions/6768474/how-can-i-detect-which-javascript-engine-v8-or-jsc-is-used-at-runtime-in-androi\n      if (!useFeatures || (!likeChrome && !data[1])) {\n        layout && (layout[1] = 'like Safari');\n        data = (data = data[0], data < 400 ? 1 : data < 500 ? 2 : data < 526 ? 3 : data < 533 ? 4 : data < 534 ? '4+' : data < 535 ? 5 : data < 537 ? 6 : data < 538 ? 7 : data < 601 ? 8 : data < 602 ? 9 : data < 604 ? 10 : data < 606 ? 11 : data < 608 ? 12 : '12');\n      } else {\n        layout && (layout[1] = 'like Chrome');\n        data = data[1] || (data = data[0], data < 530 ? 1 : data < 532 ? 2 : data < 532.05 ? 3 : data < 533 ? 4 : data < 534.03 ? 5 : data < 534.07 ? 6 : data < 534.10 ? 7 : data < 534.13 ? 8 : data < 534.16 ? 9 : data < 534.24 ? 10 : data < 534.30 ? 11 : data < 535.01 ? 12 : data < 535.02 ? '13+' : data < 535.07 ? 15 : data < 535.11 ? 16 : data < 535.19 ? 17 : data < 536.05 ? 18 : data < 536.10 ? 19 : data < 537.01 ? 20 : data < 537.11 ? '21+' : data < 537.13 ? 23 : data < 537.18 ? 24 : data < 537.24 ? 25 : data < 537.36 ? 26 : layout != 'Blink' ? '27' : '28');\n      }\n      // Add the postfix of \".x\" or \"+\" for approximate versions.\n      layout && (layout[1] += ' ' + (data += typeof data == 'number' ? '.x' : /[.+]/.test(data) ? '' : '+'));\n      // Obscure version for some Safari 1-2 releases.\n      if (name == 'Safari' && (!version || parseInt(version) > 45)) {\n        version = data;\n      } else if (name == 'Chrome' && /\\bHeadlessChrome/i.test(ua)) {\n        description.unshift('headless');\n      }\n    }\n    // Detect Opera desktop modes.\n    if (name == 'Opera' &&  (data = /\\bzbov|zvav$/.exec(os))) {\n      name += ' ';\n      description.unshift('desktop mode');\n      if (data == 'zvav') {\n        name += 'Mini';\n        version = null;\n      } else {\n        name += 'Mobile';\n      }\n      os = os.replace(RegExp(' *' + data + '$'), '');\n    }\n    // Detect Chrome desktop mode.\n    else if (name == 'Safari' && /\\bChrome\\b/.exec(layout && layout[1])) {\n      description.unshift('desktop mode');\n      name = 'Chrome Mobile';\n      version = null;\n\n      if (/\\bOS X\\b/.test(os)) {\n        manufacturer = 'Apple';\n        os = 'iOS 4.3+';\n      } else {\n        os = null;\n      }\n    }\n    // Newer versions of SRWare Iron uses the Chrome tag to indicate its version number.\n    else if (/\\bSRWare Iron\\b/.test(name) && !version) {\n      version = getVersion('Chrome');\n    }\n    // Strip incorrect OS versions.\n    if (version && version.indexOf((data = /[\\d.]+$/.exec(os))) == 0 &&\n        ua.indexOf('/' + data + '-') > -1) {\n      os = trim(os.replace(data, ''));\n    }\n    // Ensure OS does not include the browser name.\n    if (os && os.indexOf(name) != -1 && !RegExp(name + ' OS').test(os)) {\n      os = os.replace(RegExp(' *' + qualify(name) + ' *'), '');\n    }\n    // Add layout engine.\n    if (layout && !/\\b(?:Avant|Nook)\\b/.test(name) && (\n        /Browser|Lunascape|Maxthon/.test(name) ||\n        name != 'Safari' && /^iOS/.test(os) && /\\bSafari\\b/.test(layout[1]) ||\n        /^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|SRWare Iron|Vivaldi|Web)/.test(name) && layout[1])) {\n      // Don't add layout details to description if they are falsey.\n      (data = layout[layout.length - 1]) && description.push(data);\n    }\n    // Combine contextual information.\n    if (description.length) {\n      description = ['(' + description.join('; ') + ')'];\n    }\n    // Append manufacturer to description.\n    if (manufacturer && product && product.indexOf(manufacturer) < 0) {\n      description.push('on ' + manufacturer);\n    }\n    // Append product to description.\n    if (product) {\n      description.push((/^on /.test(description[description.length - 1]) ? '' : 'on ') + product);\n    }\n    // Parse the OS into an object.\n    if (os) {\n      data = / ([\\d.+]+)$/.exec(os);\n      isSpecialCasedOS = data && os.charAt(os.length - data[0].length - 1) == '/';\n      os = {\n        'architecture': 32,\n        'family': (data && !isSpecialCasedOS) ? os.replace(data[0], '') : os,\n        'version': data ? data[1] : null,\n        'toString': function() {\n          var version = this.version;\n          return this.family + ((version && !isSpecialCasedOS) ? ' ' + version : '') + (this.architecture == 64 ? ' 64-bit' : '');\n        }\n      };\n    }\n    // Add browser/OS architecture.\n    if ((data = /\\b(?:AMD|IA|Win|WOW|x86_|x)64\\b/i.exec(arch)) && !/\\bi686\\b/i.test(arch)) {\n      if (os) {\n        os.architecture = 64;\n        os.family = os.family.replace(RegExp(' *' + data), '');\n      }\n      if (\n          name && (/\\bWOW64\\b/i.test(ua) ||\n          (useFeatures && /\\w(?:86|32)$/.test(nav.cpuClass || nav.platform) && !/\\bWin64; x64\\b/i.test(ua)))\n      ) {\n        description.unshift('32-bit');\n      }\n    }\n    // Chrome 39 and above on OS X is always 64-bit.\n    else if (\n        os && /^OS X/.test(os.family) &&\n        name == 'Chrome' && parseFloat(version) >= 39\n    ) {\n      os.architecture = 64;\n    }\n\n    ua || (ua = null);\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The platform object.\n     *\n     * @name platform\n     * @type Object\n     */\n    var platform = {};\n\n    /**\n     * The platform description.\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.description = ua;\n\n    /**\n     * The name of the browser's layout engine.\n     *\n     * The list of common layout engines include:\n     * \"Blink\", \"EdgeHTML\", \"Gecko\", \"Trident\" and \"WebKit\"\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.layout = layout && layout[0];\n\n    /**\n     * The name of the product's manufacturer.\n     *\n     * The list of manufacturers include:\n     * \"Apple\", \"Archos\", \"Amazon\", \"Asus\", \"Barnes & Noble\", \"BlackBerry\",\n     * \"Google\", \"HP\", \"HTC\", \"LG\", \"Microsoft\", \"Motorola\", \"Nintendo\",\n     * \"Nokia\", \"Samsung\" and \"Sony\"\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.manufacturer = manufacturer;\n\n    /**\n     * The name of the browser/environment.\n     *\n     * The list of common browser names include:\n     * \"Chrome\", \"Electron\", \"Firefox\", \"Firefox for iOS\", \"IE\",\n     * \"Microsoft Edge\", \"PhantomJS\", \"Safari\", \"SeaMonkey\", \"Silk\",\n     * \"Opera Mini\" and \"Opera\"\n     *\n     * Mobile versions of some browsers have \"Mobile\" appended to their name:\n     * eg. \"Chrome Mobile\", \"Firefox Mobile\", \"IE Mobile\" and \"Opera Mobile\"\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.name = name;\n\n    /**\n     * The alpha/beta release indicator.\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.prerelease = prerelease;\n\n    /**\n     * The name of the product hosting the browser.\n     *\n     * The list of common products include:\n     *\n     * \"BlackBerry\", \"Galaxy S4\", \"Lumia\", \"iPad\", \"iPod\", \"iPhone\", \"Kindle\",\n     * \"Kindle Fire\", \"Nexus\", \"Nook\", \"PlayBook\", \"TouchPad\" and \"Transformer\"\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.product = product;\n\n    /**\n     * The browser's user agent string.\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.ua = ua;\n\n    /**\n     * The browser/environment version.\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.version = name && version;\n\n    /**\n     * The name of the operating system.\n     *\n     * @memberOf platform\n     * @type Object\n     */\n    platform.os = os || {\n\n      /**\n       * The CPU architecture the OS is built for.\n       *\n       * @memberOf platform.os\n       * @type number|null\n       */\n      'architecture': null,\n\n      /**\n       * The family of the OS.\n       *\n       * Common values include:\n       * \"Windows\", \"Windows Server 2008 R2 / 7\", \"Windows Server 2008 / Vista\",\n       * \"Windows XP\", \"OS X\", \"Linux\", \"Ubuntu\", \"Debian\", \"Fedora\", \"Red Hat\",\n       * \"SuSE\", \"Android\", \"iOS\" and \"Windows Phone\"\n       *\n       * @memberOf platform.os\n       * @type string|null\n       */\n      'family': null,\n\n      /**\n       * The version of the OS.\n       *\n       * @memberOf platform.os\n       * @type string|null\n       */\n      'version': null,\n\n      /**\n       * Returns the OS string.\n       *\n       * @memberOf platform.os\n       * @returns {string} The OS string.\n       */\n      'toString': function() { return 'null'; }\n    };\n\n    platform.parse = parse;\n    platform.toString = toStringPlatform;\n\n    if (platform.version) {\n      description.unshift(version);\n    }\n    if (platform.name) {\n      description.unshift(name);\n    }\n    if (os && name && !(os == String(os).split(' ')[0] && (os == name.split(' ')[0] || product))) {\n      description.push(product ? '(' + os + ')' : 'on ' + os);\n    }\n    if (description.length) {\n      platform.description = description.join(' ');\n    }\n    return platform;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  // Export platform.\n  var platform = parse();\n\n  // Some AMD build optimizers, like r.js, check for condition patterns like the following:\n  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n    // Expose platform on the global object to prevent errors when platform is\n    // loaded by a script tag in the presence of an AMD loader.\n    // See http://requirejs.org/docs/errors.html#mismatch for more details.\n    root.platform = platform;\n\n    // Define as an anonymous module so platform can be aliased through path mapping.\n    define(function() {\n      return platform;\n    });\n  }\n  // Check for `exports` after `define` in case a build optimizer adds an `exports` object.\n  else if (freeExports && freeModule) {\n    // Export for CommonJS support.\n    forOwn(platform, function(value, key) {\n      freeExports[key] = value;\n    });\n  }\n  else {\n    // Export to the global object.\n    root.platform = platform;\n  }\n}.call(this));\n", "/*!\n * normalize-path <https://github.com/jonschlinkert/normalize-path>\n *\n * Copyright (c) 2014-2018, Jon Schlinkert.\n * Released under the MIT License.\n */\n\nmodule.exports = function(path, stripTrailing) {\n  if (typeof path !== 'string') {\n    throw new TypeError('expected path to be a string');\n  }\n\n  if (path === '\\\\' || path === '/') return '/';\n\n  var len = path.length;\n  if (len <= 1) return path;\n\n  // ensure that win32 namespaces has two leading slashes, so that the path is\n  // handled properly by the win32 version of path.parse() after being normalized\n  // https://msdn.microsoft.com/library/windows/desktop/aa365247(v=vs.85).aspx#namespaces\n  var prefix = '';\n  if (len > 4 && path[3] === '\\\\') {\n    var ch = path[2];\n    if ((ch === '?' || ch === '.') && path.slice(0, 2) === '\\\\\\\\') {\n      path = path.slice(2);\n      prefix = '//';\n    }\n  }\n\n  var segs = path.split(/[/\\\\]+/);\n  if (stripTrailing !== false && segs[segs.length - 1] === '') {\n    segs.pop();\n  }\n  return prefix + segs.join('/');\n};\n", "// 'path' module extracted from Node.js v8.11.1 (only the posix part)\n// transplited with Babel\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nfunction assertPath(path) {\n  if (typeof path !== 'string') {\n    throw new TypeError('Path must be a string. Received ' + JSON.stringify(path));\n  }\n}\n\n// Resolves . and .. elements in a path with directory names\nfunction normalizeStringPosix(path, allowAboveRoot) {\n  var res = '';\n  var lastSegmentLength = 0;\n  var lastSlash = -1;\n  var dots = 0;\n  var code;\n  for (var i = 0; i <= path.length; ++i) {\n    if (i < path.length)\n      code = path.charCodeAt(i);\n    else if (code === 47 /*/*/)\n      break;\n    else\n      code = 47 /*/*/;\n    if (code === 47 /*/*/) {\n      if (lastSlash === i - 1 || dots === 1) {\n        // NOOP\n      } else if (lastSlash !== i - 1 && dots === 2) {\n        if (res.length < 2 || lastSegmentLength !== 2 || res.charCodeAt(res.length - 1) !== 46 /*.*/ || res.charCodeAt(res.length - 2) !== 46 /*.*/) {\n          if (res.length > 2) {\n            var lastSlashIndex = res.lastIndexOf('/');\n            if (lastSlashIndex !== res.length - 1) {\n              if (lastSlashIndex === -1) {\n                res = '';\n                lastSegmentLength = 0;\n              } else {\n                res = res.slice(0, lastSlashIndex);\n                lastSegmentLength = res.length - 1 - res.lastIndexOf('/');\n              }\n              lastSlash = i;\n              dots = 0;\n              continue;\n            }\n          } else if (res.length === 2 || res.length === 1) {\n            res = '';\n            lastSegmentLength = 0;\n            lastSlash = i;\n            dots = 0;\n            continue;\n          }\n        }\n        if (allowAboveRoot) {\n          if (res.length > 0)\n            res += '/..';\n          else\n            res = '..';\n          lastSegmentLength = 2;\n        }\n      } else {\n        if (res.length > 0)\n          res += '/' + path.slice(lastSlash + 1, i);\n        else\n          res = path.slice(lastSlash + 1, i);\n        lastSegmentLength = i - lastSlash - 1;\n      }\n      lastSlash = i;\n      dots = 0;\n    } else if (code === 46 /*.*/ && dots !== -1) {\n      ++dots;\n    } else {\n      dots = -1;\n    }\n  }\n  return res;\n}\n\nfunction _format(sep, pathObject) {\n  var dir = pathObject.dir || pathObject.root;\n  var base = pathObject.base || (pathObject.name || '') + (pathObject.ext || '');\n  if (!dir) {\n    return base;\n  }\n  if (dir === pathObject.root) {\n    return dir + base;\n  }\n  return dir + sep + base;\n}\n\nvar posix = {\n  // path.resolve([from ...], to)\n  resolve: function resolve() {\n    var resolvedPath = '';\n    var resolvedAbsolute = false;\n    var cwd;\n\n    for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n      var path;\n      if (i >= 0)\n        path = arguments[i];\n      else {\n        if (cwd === undefined)\n          cwd = process.cwd();\n        path = cwd;\n      }\n\n      assertPath(path);\n\n      // Skip empty entries\n      if (path.length === 0) {\n        continue;\n      }\n\n      resolvedPath = path + '/' + resolvedPath;\n      resolvedAbsolute = path.charCodeAt(0) === 47 /*/*/;\n    }\n\n    // At this point the path should be resolved to a full absolute path, but\n    // handle relative paths to be safe (might happen when process.cwd() fails)\n\n    // Normalize the path\n    resolvedPath = normalizeStringPosix(resolvedPath, !resolvedAbsolute);\n\n    if (resolvedAbsolute) {\n      if (resolvedPath.length > 0)\n        return '/' + resolvedPath;\n      else\n        return '/';\n    } else if (resolvedPath.length > 0) {\n      return resolvedPath;\n    } else {\n      return '.';\n    }\n  },\n\n  normalize: function normalize(path) {\n    assertPath(path);\n\n    if (path.length === 0) return '.';\n\n    var isAbsolute = path.charCodeAt(0) === 47 /*/*/;\n    var trailingSeparator = path.charCodeAt(path.length - 1) === 47 /*/*/;\n\n    // Normalize the path\n    path = normalizeStringPosix(path, !isAbsolute);\n\n    if (path.length === 0 && !isAbsolute) path = '.';\n    if (path.length > 0 && trailingSeparator) path += '/';\n\n    if (isAbsolute) return '/' + path;\n    return path;\n  },\n\n  isAbsolute: function isAbsolute(path) {\n    assertPath(path);\n    return path.length > 0 && path.charCodeAt(0) === 47 /*/*/;\n  },\n\n  join: function join() {\n    if (arguments.length === 0)\n      return '.';\n    var joined;\n    for (var i = 0; i < arguments.length; ++i) {\n      var arg = arguments[i];\n      assertPath(arg);\n      if (arg.length > 0) {\n        if (joined === undefined)\n          joined = arg;\n        else\n          joined += '/' + arg;\n      }\n    }\n    if (joined === undefined)\n      return '.';\n    return posix.normalize(joined);\n  },\n\n  relative: function relative(from, to) {\n    assertPath(from);\n    assertPath(to);\n\n    if (from === to) return '';\n\n    from = posix.resolve(from);\n    to = posix.resolve(to);\n\n    if (from === to) return '';\n\n    // Trim any leading backslashes\n    var fromStart = 1;\n    for (; fromStart < from.length; ++fromStart) {\n      if (from.charCodeAt(fromStart) !== 47 /*/*/)\n        break;\n    }\n    var fromEnd = from.length;\n    var fromLen = fromEnd - fromStart;\n\n    // Trim any leading backslashes\n    var toStart = 1;\n    for (; toStart < to.length; ++toStart) {\n      if (to.charCodeAt(toStart) !== 47 /*/*/)\n        break;\n    }\n    var toEnd = to.length;\n    var toLen = toEnd - toStart;\n\n    // Compare paths to find the longest common path from root\n    var length = fromLen < toLen ? fromLen : toLen;\n    var lastCommonSep = -1;\n    var i = 0;\n    for (; i <= length; ++i) {\n      if (i === length) {\n        if (toLen > length) {\n          if (to.charCodeAt(toStart + i) === 47 /*/*/) {\n            // We get here if `from` is the exact base path for `to`.\n            // For example: from='/foo/bar'; to='/foo/bar/baz'\n            return to.slice(toStart + i + 1);\n          } else if (i === 0) {\n            // We get here if `from` is the root\n            // For example: from='/'; to='/foo'\n            return to.slice(toStart + i);\n          }\n        } else if (fromLen > length) {\n          if (from.charCodeAt(fromStart + i) === 47 /*/*/) {\n            // We get here if `to` is the exact base path for `from`.\n            // For example: from='/foo/bar/baz'; to='/foo/bar'\n            lastCommonSep = i;\n          } else if (i === 0) {\n            // We get here if `to` is the root.\n            // For example: from='/foo'; to='/'\n            lastCommonSep = 0;\n          }\n        }\n        break;\n      }\n      var fromCode = from.charCodeAt(fromStart + i);\n      var toCode = to.charCodeAt(toStart + i);\n      if (fromCode !== toCode)\n        break;\n      else if (fromCode === 47 /*/*/)\n        lastCommonSep = i;\n    }\n\n    var out = '';\n    // Generate the relative path based on the path difference between `to`\n    // and `from`\n    for (i = fromStart + lastCommonSep + 1; i <= fromEnd; ++i) {\n      if (i === fromEnd || from.charCodeAt(i) === 47 /*/*/) {\n        if (out.length === 0)\n          out += '..';\n        else\n          out += '/..';\n      }\n    }\n\n    // Lastly, append the rest of the destination (`to`) path that comes after\n    // the common path parts\n    if (out.length > 0)\n      return out + to.slice(toStart + lastCommonSep);\n    else {\n      toStart += lastCommonSep;\n      if (to.charCodeAt(toStart) === 47 /*/*/)\n        ++toStart;\n      return to.slice(toStart);\n    }\n  },\n\n  _makeLong: function _makeLong(path) {\n    return path;\n  },\n\n  dirname: function dirname(path) {\n    assertPath(path);\n    if (path.length === 0) return '.';\n    var code = path.charCodeAt(0);\n    var hasRoot = code === 47 /*/*/;\n    var end = -1;\n    var matchedSlash = true;\n    for (var i = path.length - 1; i >= 1; --i) {\n      code = path.charCodeAt(i);\n      if (code === 47 /*/*/) {\n          if (!matchedSlash) {\n            end = i;\n            break;\n          }\n        } else {\n        // We saw the first non-path separator\n        matchedSlash = false;\n      }\n    }\n\n    if (end === -1) return hasRoot ? '/' : '.';\n    if (hasRoot && end === 1) return '//';\n    return path.slice(0, end);\n  },\n\n  basename: function basename(path, ext) {\n    if (ext !== undefined && typeof ext !== 'string') throw new TypeError('\"ext\" argument must be a string');\n    assertPath(path);\n\n    var start = 0;\n    var end = -1;\n    var matchedSlash = true;\n    var i;\n\n    if (ext !== undefined && ext.length > 0 && ext.length <= path.length) {\n      if (ext.length === path.length && ext === path) return '';\n      var extIdx = ext.length - 1;\n      var firstNonSlashEnd = -1;\n      for (i = path.length - 1; i >= 0; --i) {\n        var code = path.charCodeAt(i);\n        if (code === 47 /*/*/) {\n            // If we reached a path separator that was not part of a set of path\n            // separators at the end of the string, stop now\n            if (!matchedSlash) {\n              start = i + 1;\n              break;\n            }\n          } else {\n          if (firstNonSlashEnd === -1) {\n            // We saw the first non-path separator, remember this index in case\n            // we need it if the extension ends up not matching\n            matchedSlash = false;\n            firstNonSlashEnd = i + 1;\n          }\n          if (extIdx >= 0) {\n            // Try to match the explicit extension\n            if (code === ext.charCodeAt(extIdx)) {\n              if (--extIdx === -1) {\n                // We matched the extension, so mark this as the end of our path\n                // component\n                end = i;\n              }\n            } else {\n              // Extension does not match, so our result is the entire path\n              // component\n              extIdx = -1;\n              end = firstNonSlashEnd;\n            }\n          }\n        }\n      }\n\n      if (start === end) end = firstNonSlashEnd;else if (end === -1) end = path.length;\n      return path.slice(start, end);\n    } else {\n      for (i = path.length - 1; i >= 0; --i) {\n        if (path.charCodeAt(i) === 47 /*/*/) {\n            // If we reached a path separator that was not part of a set of path\n            // separators at the end of the string, stop now\n            if (!matchedSlash) {\n              start = i + 1;\n              break;\n            }\n          } else if (end === -1) {\n          // We saw the first non-path separator, mark this as the end of our\n          // path component\n          matchedSlash = false;\n          end = i + 1;\n        }\n      }\n\n      if (end === -1) return '';\n      return path.slice(start, end);\n    }\n  },\n\n  extname: function extname(path) {\n    assertPath(path);\n    var startDot = -1;\n    var startPart = 0;\n    var end = -1;\n    var matchedSlash = true;\n    // Track the state of characters (if any) we see before our first dot and\n    // after any path separator we find\n    var preDotState = 0;\n    for (var i = path.length - 1; i >= 0; --i) {\n      var code = path.charCodeAt(i);\n      if (code === 47 /*/*/) {\n          // If we reached a path separator that was not part of a set of path\n          // separators at the end of the string, stop now\n          if (!matchedSlash) {\n            startPart = i + 1;\n            break;\n          }\n          continue;\n        }\n      if (end === -1) {\n        // We saw the first non-path separator, mark this as the end of our\n        // extension\n        matchedSlash = false;\n        end = i + 1;\n      }\n      if (code === 46 /*.*/) {\n          // If this is our first dot, mark it as the start of our extension\n          if (startDot === -1)\n            startDot = i;\n          else if (preDotState !== 1)\n            preDotState = 1;\n      } else if (startDot !== -1) {\n        // We saw a non-dot and non-path separator before our dot, so we should\n        // have a good chance at having a non-empty extension\n        preDotState = -1;\n      }\n    }\n\n    if (startDot === -1 || end === -1 ||\n        // We saw a non-dot character immediately before the dot\n        preDotState === 0 ||\n        // The (right-most) trimmed path component is exactly '..'\n        preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n      return '';\n    }\n    return path.slice(startDot, end);\n  },\n\n  format: function format(pathObject) {\n    if (pathObject === null || typeof pathObject !== 'object') {\n      throw new TypeError('The \"pathObject\" argument must be of type Object. Received type ' + typeof pathObject);\n    }\n    return _format('/', pathObject);\n  },\n\n  parse: function parse(path) {\n    assertPath(path);\n\n    var ret = { root: '', dir: '', base: '', ext: '', name: '' };\n    if (path.length === 0) return ret;\n    var code = path.charCodeAt(0);\n    var isAbsolute = code === 47 /*/*/;\n    var start;\n    if (isAbsolute) {\n      ret.root = '/';\n      start = 1;\n    } else {\n      start = 0;\n    }\n    var startDot = -1;\n    var startPart = 0;\n    var end = -1;\n    var matchedSlash = true;\n    var i = path.length - 1;\n\n    // Track the state of characters (if any) we see before our first dot and\n    // after any path separator we find\n    var preDotState = 0;\n\n    // Get non-dir info\n    for (; i >= start; --i) {\n      code = path.charCodeAt(i);\n      if (code === 47 /*/*/) {\n          // If we reached a path separator that was not part of a set of path\n          // separators at the end of the string, stop now\n          if (!matchedSlash) {\n            startPart = i + 1;\n            break;\n          }\n          continue;\n        }\n      if (end === -1) {\n        // We saw the first non-path separator, mark this as the end of our\n        // extension\n        matchedSlash = false;\n        end = i + 1;\n      }\n      if (code === 46 /*.*/) {\n          // If this is our first dot, mark it as the start of our extension\n          if (startDot === -1) startDot = i;else if (preDotState !== 1) preDotState = 1;\n        } else if (startDot !== -1) {\n        // We saw a non-dot and non-path separator before our dot, so we should\n        // have a good chance at having a non-empty extension\n        preDotState = -1;\n      }\n    }\n\n    if (startDot === -1 || end === -1 ||\n    // We saw a non-dot character immediately before the dot\n    preDotState === 0 ||\n    // The (right-most) trimmed path component is exactly '..'\n    preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n      if (end !== -1) {\n        if (startPart === 0 && isAbsolute) ret.base = ret.name = path.slice(1, end);else ret.base = ret.name = path.slice(startPart, end);\n      }\n    } else {\n      if (startPart === 0 && isAbsolute) {\n        ret.name = path.slice(1, startDot);\n        ret.base = path.slice(1, end);\n      } else {\n        ret.name = path.slice(startPart, startDot);\n        ret.base = path.slice(startPart, end);\n      }\n      ret.ext = path.slice(startDot, end);\n    }\n\n    if (startPart > 0) ret.dir = path.slice(0, startPart - 1);else if (isAbsolute) ret.dir = '/';\n\n    return ret;\n  },\n\n  sep: '/',\n  delimiter: ':',\n  win32: null,\n  posix: null\n};\n\nposix.posix = posix;\n\nmodule.exports = posix;\n", "// This loads all middlewares exposed on the middleware object and then starts\n// the invocation chain. The big idea is that we can add these to the middleware\n// export dynamically through wrangler, or we can potentially let users directly\n// add them as a sort of \"plugin\" system.\n\nimport ENTRY, { __INTERNAL_WRANGLER_MIDDLEWARE__ } from \"/Users/repathkhan/kingkode/packages/sandbox-manager/.wrangler/tmp/bundle-MfOcNa/middleware-insertion-facade.js\";\nimport { __facade_invoke__, __facade_register__, Dispatcher } from \"/Users/repathkhan/kingkode/node_modules/.pnpm/wrangler@3.114.17_@cloudflare+workers-types@4.20260116.0_bufferutil@4.1.0_utf-8-validate@6.0.6/node_modules/wrangler/templates/middleware/common.ts\";\nimport type { WorkerEntrypointConstructor } from \"/Users/repathkhan/kingkode/packages/sandbox-manager/.wrangler/tmp/bundle-MfOcNa/middleware-insertion-facade.js\";\n\n// Preserve all the exports from the worker\nexport * from \"/Users/repathkhan/kingkode/packages/sandbox-manager/.wrangler/tmp/bundle-MfOcNa/middleware-insertion-facade.js\";\n\nclass __Facade_ScheduledController__ implements ScheduledController {\n\treadonly #noRetry: ScheduledController[\"noRetry\"];\n\n\tconstructor(\n\t\treadonly scheduledTime: number,\n\t\treadonly cron: string,\n\t\tnoRetry: ScheduledController[\"noRetry\"]\n\t) {\n\t\tthis.#noRetry = noRetry;\n\t}\n\n\tnoRetry() {\n\t\tif (!(this instanceof __Facade_ScheduledController__)) {\n\t\t\tthrow new TypeError(\"Illegal invocation\");\n\t\t}\n\t\t// Need to call native method immediately in case uncaught error thrown\n\t\tthis.#noRetry();\n\t}\n}\n\nfunction wrapExportedHandler(worker: ExportedHandler): ExportedHandler {\n\t// If we don't have any middleware defined, just return the handler as is\n\tif (\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__ === undefined ||\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__.length === 0\n\t) {\n\t\treturn worker;\n\t}\n\t// Otherwise, register all middleware once\n\tfor (const middleware of __INTERNAL_WRANGLER_MIDDLEWARE__) {\n\t\t__facade_register__(middleware);\n\t}\n\n\tconst fetchDispatcher: ExportedHandlerFetchHandler = function (\n\t\trequest,\n\t\tenv,\n\t\tctx\n\t) {\n\t\tif (worker.fetch === undefined) {\n\t\t\tthrow new Error(\"Handler does not export a fetch() function.\");\n\t\t}\n\t\treturn worker.fetch(request, env, ctx);\n\t};\n\n\treturn {\n\t\t...worker,\n\t\tfetch(request, env, ctx) {\n\t\t\tconst dispatcher: Dispatcher = function (type, init) {\n\t\t\t\tif (type === \"scheduled\" && worker.scheduled !== undefined) {\n\t\t\t\t\tconst controller = new __Facade_ScheduledController__(\n\t\t\t\t\t\tDate.now(),\n\t\t\t\t\t\tinit.cron ?? \"\",\n\t\t\t\t\t\t() => {}\n\t\t\t\t\t);\n\t\t\t\t\treturn worker.scheduled(controller, env, ctx);\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn __facade_invoke__(request, env, ctx, dispatcher, fetchDispatcher);\n\t\t},\n\t};\n}\n\nfunction wrapWorkerEntrypoint(\n\tklass: WorkerEntrypointConstructor\n): WorkerEntrypointConstructor {\n\t// If we don't have any middleware defined, just return the handler as is\n\tif (\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__ === undefined ||\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__.length === 0\n\t) {\n\t\treturn klass;\n\t}\n\t// Otherwise, register all middleware once\n\tfor (const middleware of __INTERNAL_WRANGLER_MIDDLEWARE__) {\n\t\t__facade_register__(middleware);\n\t}\n\n\t// `extend`ing `klass` here so other RPC methods remain callable\n\treturn class extends klass {\n\t\t#fetchDispatcher: ExportedHandlerFetchHandler<Record<string, unknown>> = (\n\t\t\trequest,\n\t\t\tenv,\n\t\t\tctx\n\t\t) => {\n\t\t\tthis.env = env;\n\t\t\tthis.ctx = ctx;\n\t\t\tif (super.fetch === undefined) {\n\t\t\t\tthrow new Error(\"Entrypoint class does not define a fetch() function.\");\n\t\t\t}\n\t\t\treturn super.fetch(request);\n\t\t};\n\n\t\t#dispatcher: Dispatcher = (type, init) => {\n\t\t\tif (type === \"scheduled\" && super.scheduled !== undefined) {\n\t\t\t\tconst controller = new __Facade_ScheduledController__(\n\t\t\t\t\tDate.now(),\n\t\t\t\t\tinit.cron ?? \"\",\n\t\t\t\t\t() => {}\n\t\t\t\t);\n\t\t\t\treturn super.scheduled(controller);\n\t\t\t}\n\t\t};\n\n\t\tfetch(request: Request<unknown, IncomingRequestCfProperties>) {\n\t\t\treturn __facade_invoke__(\n\t\t\t\trequest,\n\t\t\t\tthis.env,\n\t\t\t\tthis.ctx,\n\t\t\t\tthis.#dispatcher,\n\t\t\t\tthis.#fetchDispatcher\n\t\t\t);\n\t\t}\n\t};\n}\n\nlet WRAPPED_ENTRY: ExportedHandler | WorkerEntrypointConstructor | undefined;\nif (typeof ENTRY === \"object\") {\n\tWRAPPED_ENTRY = wrapExportedHandler(ENTRY);\n} else if (typeof ENTRY === \"function\") {\n\tWRAPPED_ENTRY = wrapWorkerEntrypoint(ENTRY);\n}\nexport default WRAPPED_ENTRY;\n", "\t\t\t\timport worker, * as OTHER_EXPORTS from \"/Users/repathkhan/kingkode/packages/sandbox-manager/src/index.ts\";\n\t\t\t\timport * as __MIDDLEWARE_0__ from \"/Users/repathkhan/kingkode/node_modules/.pnpm/wrangler@3.114.17_@cloudflare+workers-types@4.20260116.0_bufferutil@4.1.0_utf-8-validate@6.0.6/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts\";\nimport * as __MIDDLEWARE_1__ from \"/Users/repathkhan/kingkode/node_modules/.pnpm/wrangler@3.114.17_@cloudflare+workers-types@4.20260116.0_bufferutil@4.1.0_utf-8-validate@6.0.6/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts\";\n\n\t\t\t\texport * from \"/Users/repathkhan/kingkode/packages/sandbox-manager/src/index.ts\";\n\n\t\t\t\texport const __INTERNAL_WRANGLER_MIDDLEWARE__ = [\n\t\t\t\t\t\n\t\t\t\t\t__MIDDLEWARE_0__.default,__MIDDLEWARE_1__.default\n\t\t\t\t]\n\t\t\t\texport default worker;", "import { Hono } from 'hono';\nimport type { HonoEnv } from './types';\nimport { GitHubIntegration } from '@inspect/github-integration';\nimport { parseRepoUrl } from '@inspect/shared';\nimport { E2BProvider } from './providers/e2b-provider';\nimport type { SandboxInstance } from './types';\n\nconst app = new Hono<HonoEnv>();\n\nconst activeSandboxes = new Map<string, SandboxInstance>();\n\napp.post('/create', async (c) => {\n  const { sessionId, repoUrl, branch = 'main', installationId } = await c.req.json();\n\n  const repoMeta = parseRepoUrl(repoUrl);\n  if (!repoMeta) {\n    return c.json({ error: 'Invalid repoUrl' }, 400);\n  }\n\n  const github = new GitHubIntegration({\n    appId: c.env.GITHUB_APP_ID,\n    privateKey: c.env.GITHUB_PRIVATE_KEY\n  });\n\n  const token = await github.getInstallationToken(Number(installationId));\n\n  const provider = new E2BProvider({\n    E2B_API_KEY: c.env.E2B_API_KEY,\n    ZAI_API_KEY: c.env.ZAI_API_KEY,\n    OPENCODE_SERVER_PASSWORD: c.env.OPENCODE_SERVER_PASSWORD,\n    GITHUB_APP_ID: c.env.GITHUB_APP_ID,\n    GITHUB_PRIVATE_KEY: c.env.GITHUB_PRIVATE_KEY\n  });\n\n  const instance = await provider.createSandbox({\n    sessionId,\n    repoUrl,\n    branch,\n    githubToken: token\n  });\n\n  activeSandboxes.set(sessionId, instance);\n\n  return c.json({\n    sandboxId: instance.sandboxId,\n    sandboxUrl: instance.sandboxUrl,\n    vscodeUrl: instance.vscodeUrl,\n    opencodeSessionId: instance.opencodeSessionId\n  });\n});\n\napp.delete('/:sessionId', async (c) => {\n  const sessionId = c.req.param('sessionId');\n  const instance = activeSandboxes.get(sessionId);\n\n  if (!instance) {\n    return c.json({ status: 'not-found' }, 404);\n  }\n\n  const provider = new E2BProvider({\n    E2B_API_KEY: c.env.E2B_API_KEY,\n    ZAI_API_KEY: c.env.ZAI_API_KEY,\n    OPENCODE_SERVER_PASSWORD: c.env.OPENCODE_SERVER_PASSWORD,\n    GITHUB_APP_ID: c.env.GITHUB_APP_ID,\n    GITHUB_PRIVATE_KEY: c.env.GITHUB_PRIVATE_KEY\n  });\n\n  await provider.closeSandbox(instance);\n  activeSandboxes.delete(sessionId);\n\n  return c.json({ success: true });\n});\n\nexport default app;\n", "// src/index.ts\nimport { Hono } from \"./hono.js\";\nexport {\n  Hono\n};\n", "// src/hono.ts\nimport { HonoBase } from \"./hono-base.js\";\nimport { RegExpRouter } from \"./router/reg-exp-router/index.js\";\nimport { SmartRouter } from \"./router/smart-router/index.js\";\nimport { TrieRouter } from \"./router/trie-router/index.js\";\nvar Hono = class extends HonoBase {\n  /**\n   * Creates an instance of the Hono class.\n   *\n   * @param options - Optional configuration options for the Hono instance.\n   */\n  constructor(options = {}) {\n    super(options);\n    this.router = options.router ?? new SmartRouter({\n      routers: [new RegExpRouter(), new TrieRouter()]\n    });\n  }\n};\nexport {\n  Hono\n};\n", "// src/hono-base.ts\nimport { compose } from \"./compose.js\";\nimport { Context } from \"./context.js\";\nimport { METHODS, METHOD_NAME_ALL, METHOD_NAME_ALL_LOWERCASE } from \"./router.js\";\nimport { COMPOSED_HANDLER } from \"./utils/constants.js\";\nimport { getPath, getPathNoStrict, mergePath } from \"./utils/url.js\";\nvar notFoundHandler = (c) => {\n  return c.text(\"404 Not Found\", 404);\n};\nvar errorHandler = (err, c) => {\n  if (\"getResponse\" in err) {\n    const res = err.getResponse();\n    return c.newResponse(res.body, res);\n  }\n  console.error(err);\n  return c.text(\"Internal Server Error\", 500);\n};\nvar Hono = class _Hono {\n  get;\n  post;\n  put;\n  delete;\n  options;\n  patch;\n  all;\n  on;\n  use;\n  /*\n    This class is like an abstract class and does not have a router.\n    To use it, inherit the class and implement router in the constructor.\n  */\n  router;\n  getPath;\n  // Cannot use `#` because it requires visibility at JavaScript runtime.\n  _basePath = \"/\";\n  #path = \"/\";\n  routes = [];\n  constructor(options = {}) {\n    const allMethods = [...METHODS, METHOD_NAME_ALL_LOWERCASE];\n    allMethods.forEach((method) => {\n      this[method] = (args1, ...args) => {\n        if (typeof args1 === \"string\") {\n          this.#path = args1;\n        } else {\n          this.#addRoute(method, this.#path, args1);\n        }\n        args.forEach((handler) => {\n          this.#addRoute(method, this.#path, handler);\n        });\n        return this;\n      };\n    });\n    this.on = (method, path, ...handlers) => {\n      for (const p of [path].flat()) {\n        this.#path = p;\n        for (const m of [method].flat()) {\n          handlers.map((handler) => {\n            this.#addRoute(m.toUpperCase(), this.#path, handler);\n          });\n        }\n      }\n      return this;\n    };\n    this.use = (arg1, ...handlers) => {\n      if (typeof arg1 === \"string\") {\n        this.#path = arg1;\n      } else {\n        this.#path = \"*\";\n        handlers.unshift(arg1);\n      }\n      handlers.forEach((handler) => {\n        this.#addRoute(METHOD_NAME_ALL, this.#path, handler);\n      });\n      return this;\n    };\n    const { strict, ...optionsWithoutStrict } = options;\n    Object.assign(this, optionsWithoutStrict);\n    this.getPath = strict ?? true ? options.getPath ?? getPath : getPathNoStrict;\n  }\n  #clone() {\n    const clone = new _Hono({\n      router: this.router,\n      getPath: this.getPath\n    });\n    clone.errorHandler = this.errorHandler;\n    clone.#notFoundHandler = this.#notFoundHandler;\n    clone.routes = this.routes;\n    return clone;\n  }\n  #notFoundHandler = notFoundHandler;\n  // Cannot use `#` because it requires visibility at JavaScript runtime.\n  errorHandler = errorHandler;\n  /**\n   * `.route()` allows grouping other Hono instance in routes.\n   *\n   * @see {@link https://hono.dev/docs/api/routing#grouping}\n   *\n   * @param {string} path - base Path\n   * @param {Hono} app - other Hono instance\n   * @returns {Hono} routed Hono instance\n   *\n   * @example\n   * ```ts\n   * const app = new Hono()\n   * const app2 = new Hono()\n   *\n   * app2.get(\"/user\", (c) => c.text(\"user\"))\n   * app.route(\"/api\", app2) // GET /api/user\n   * ```\n   */\n  route(path, app) {\n    const subApp = this.basePath(path);\n    app.routes.map((r) => {\n      let handler;\n      if (app.errorHandler === errorHandler) {\n        handler = r.handler;\n      } else {\n        handler = async (c, next) => (await compose([], app.errorHandler)(c, () => r.handler(c, next))).res;\n        handler[COMPOSED_HANDLER] = r.handler;\n      }\n      subApp.#addRoute(r.method, r.path, handler);\n    });\n    return this;\n  }\n  /**\n   * `.basePath()` allows base paths to be specified.\n   *\n   * @see {@link https://hono.dev/docs/api/routing#base-path}\n   *\n   * @param {string} path - base Path\n   * @returns {Hono} changed Hono instance\n   *\n   * @example\n   * ```ts\n   * const api = new Hono().basePath('/api')\n   * ```\n   */\n  basePath(path) {\n    const subApp = this.#clone();\n    subApp._basePath = mergePath(this._basePath, path);\n    return subApp;\n  }\n  /**\n   * `.onError()` handles an error and returns a customized Response.\n   *\n   * @see {@link https://hono.dev/docs/api/hono#error-handling}\n   *\n   * @param {ErrorHandler} handler - request Handler for error\n   * @returns {Hono} changed Hono instance\n   *\n   * @example\n   * ```ts\n   * app.onError((err, c) => {\n   *   console.error(`${err}`)\n   *   return c.text('Custom Error Message', 500)\n   * })\n   * ```\n   */\n  onError = (handler) => {\n    this.errorHandler = handler;\n    return this;\n  };\n  /**\n   * `.notFound()` allows you to customize a Not Found Response.\n   *\n   * @see {@link https://hono.dev/docs/api/hono#not-found}\n   *\n   * @param {NotFoundHandler} handler - request handler for not-found\n   * @returns {Hono} changed Hono instance\n   *\n   * @example\n   * ```ts\n   * app.notFound((c) => {\n   *   return c.text('Custom 404 Message', 404)\n   * })\n   * ```\n   */\n  notFound = (handler) => {\n    this.#notFoundHandler = handler;\n    return this;\n  };\n  /**\n   * `.mount()` allows you to mount applications built with other frameworks into your Hono application.\n   *\n   * @see {@link https://hono.dev/docs/api/hono#mount}\n   *\n   * @param {string} path - base Path\n   * @param {Function} applicationHandler - other Request Handler\n   * @param {MountOptions} [options] - options of `.mount()`\n   * @returns {Hono} mounted Hono instance\n   *\n   * @example\n   * ```ts\n   * import { Router as IttyRouter } from 'itty-router'\n   * import { Hono } from 'hono'\n   * // Create itty-router application\n   * const ittyRouter = IttyRouter()\n   * // GET /itty-router/hello\n   * ittyRouter.get('/hello', () => new Response('Hello from itty-router'))\n   *\n   * const app = new Hono()\n   * app.mount('/itty-router', ittyRouter.handle)\n   * ```\n   *\n   * @example\n   * ```ts\n   * const app = new Hono()\n   * // Send the request to another application without modification.\n   * app.mount('/app', anotherApp, {\n   *   replaceRequest: (req) => req,\n   * })\n   * ```\n   */\n  mount(path, applicationHandler, options) {\n    let replaceRequest;\n    let optionHandler;\n    if (options) {\n      if (typeof options === \"function\") {\n        optionHandler = options;\n      } else {\n        optionHandler = options.optionHandler;\n        if (options.replaceRequest === false) {\n          replaceRequest = (request) => request;\n        } else {\n          replaceRequest = options.replaceRequest;\n        }\n      }\n    }\n    const getOptions = optionHandler ? (c) => {\n      const options2 = optionHandler(c);\n      return Array.isArray(options2) ? options2 : [options2];\n    } : (c) => {\n      let executionContext = void 0;\n      try {\n        executionContext = c.executionCtx;\n      } catch {\n      }\n      return [c.env, executionContext];\n    };\n    replaceRequest ||= (() => {\n      const mergedPath = mergePath(this._basePath, path);\n      const pathPrefixLength = mergedPath === \"/\" ? 0 : mergedPath.length;\n      return (request) => {\n        const url = new URL(request.url);\n        url.pathname = url.pathname.slice(pathPrefixLength) || \"/\";\n        return new Request(url, request);\n      };\n    })();\n    const handler = async (c, next) => {\n      const res = await applicationHandler(replaceRequest(c.req.raw), ...getOptions(c));\n      if (res) {\n        return res;\n      }\n      await next();\n    };\n    this.#addRoute(METHOD_NAME_ALL, mergePath(path, \"*\"), handler);\n    return this;\n  }\n  #addRoute(method, path, handler) {\n    method = method.toUpperCase();\n    path = mergePath(this._basePath, path);\n    const r = { basePath: this._basePath, path, method, handler };\n    this.router.add(method, path, [handler, r]);\n    this.routes.push(r);\n  }\n  #handleError(err, c) {\n    if (err instanceof Error) {\n      return this.errorHandler(err, c);\n    }\n    throw err;\n  }\n  #dispatch(request, executionCtx, env, method) {\n    if (method === \"HEAD\") {\n      return (async () => new Response(null, await this.#dispatch(request, executionCtx, env, \"GET\")))();\n    }\n    const path = this.getPath(request, { env });\n    const matchResult = this.router.match(method, path);\n    const c = new Context(request, {\n      path,\n      matchResult,\n      env,\n      executionCtx,\n      notFoundHandler: this.#notFoundHandler\n    });\n    if (matchResult[0].length === 1) {\n      let res;\n      try {\n        res = matchResult[0][0][0][0](c, async () => {\n          c.res = await this.#notFoundHandler(c);\n        });\n      } catch (err) {\n        return this.#handleError(err, c);\n      }\n      return res instanceof Promise ? res.then(\n        (resolved) => resolved || (c.finalized ? c.res : this.#notFoundHandler(c))\n      ).catch((err) => this.#handleError(err, c)) : res ?? this.#notFoundHandler(c);\n    }\n    const composed = compose(matchResult[0], this.errorHandler, this.#notFoundHandler);\n    return (async () => {\n      try {\n        const context = await composed(c);\n        if (!context.finalized) {\n          throw new Error(\n            \"Context is not finalized. Did you forget to return a Response object or `await next()`?\"\n          );\n        }\n        return context.res;\n      } catch (err) {\n        return this.#handleError(err, c);\n      }\n    })();\n  }\n  /**\n   * `.fetch()` will be entry point of your app.\n   *\n   * @see {@link https://hono.dev/docs/api/hono#fetch}\n   *\n   * @param {Request} request - request Object of request\n   * @param {Env} Env - env Object\n   * @param {ExecutionContext} - context of execution\n   * @returns {Response | Promise<Response>} response of request\n   *\n   */\n  fetch = (request, ...rest) => {\n    return this.#dispatch(request, rest[1], rest[0], request.method);\n  };\n  /**\n   * `.request()` is a useful method for testing.\n   * You can pass a URL or pathname to send a GET request.\n   * app will return a Response object.\n   * ```ts\n   * test('GET /hello is ok', async () => {\n   *   const res = await app.request('/hello')\n   *   expect(res.status).toBe(200)\n   * })\n   * ```\n   * @see https://hono.dev/docs/api/hono#request\n   */\n  request = (input, requestInit, Env, executionCtx) => {\n    if (input instanceof Request) {\n      return this.fetch(requestInit ? new Request(input, requestInit) : input, Env, executionCtx);\n    }\n    input = input.toString();\n    return this.fetch(\n      new Request(\n        /^https?:\\/\\//.test(input) ? input : `http://localhost${mergePath(\"/\", input)}`,\n        requestInit\n      ),\n      Env,\n      executionCtx\n    );\n  };\n  /**\n   * `.fire()` automatically adds a global fetch event listener.\n   * This can be useful for environments that adhere to the Service Worker API, such as non-ES module Cloudflare Workers.\n   * @deprecated\n   * Use `fire` from `hono/service-worker` instead.\n   * ```ts\n   * import { Hono } from 'hono'\n   * import { fire } from 'hono/service-worker'\n   *\n   * const app = new Hono()\n   * // ...\n   * fire(app)\n   * ```\n   * @see https://hono.dev/docs/api/hono#fire\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API\n   * @see https://developers.cloudflare.com/workers/reference/migrate-to-module-workers/\n   */\n  fire = () => {\n    addEventListener(\"fetch\", (event) => {\n      event.respondWith(this.#dispatch(event.request, event, void 0, event.request.method));\n    });\n  };\n};\nexport {\n  Hono as HonoBase\n};\n", "// src/compose.ts\nvar compose = (middleware, onError, onNotFound) => {\n  return (context, next) => {\n    let index = -1;\n    return dispatch(0);\n    async function dispatch(i) {\n      if (i <= index) {\n        throw new Error(\"next() called multiple times\");\n      }\n      index = i;\n      let res;\n      let isError = false;\n      let handler;\n      if (middleware[i]) {\n        handler = middleware[i][0][0];\n        context.req.routeIndex = i;\n      } else {\n        handler = i === middleware.length && next || void 0;\n      }\n      if (handler) {\n        try {\n          res = await handler(context, () => dispatch(i + 1));\n        } catch (err) {\n          if (err instanceof Error && onError) {\n            context.error = err;\n            res = await onError(err, context);\n            isError = true;\n          } else {\n            throw err;\n          }\n        }\n      } else {\n        if (context.finalized === false && onNotFound) {\n          res = await onNotFound(context);\n        }\n      }\n      if (res && (context.finalized === false || isError)) {\n        context.res = res;\n      }\n      return context;\n    }\n  };\n};\nexport {\n  compose\n};\n", "// src/context.ts\nimport { HonoRequest } from \"./request.js\";\nimport { HtmlEscapedCallbackPhase, resolveCallback } from \"./utils/html.js\";\nvar TEXT_PLAIN = \"text/plain; charset=UTF-8\";\nvar setDefaultContentType = (contentType, headers) => {\n  return {\n    \"Content-Type\": contentType,\n    ...headers\n  };\n};\nvar Context = class {\n  #rawRequest;\n  #req;\n  /**\n   * `.env` can get bindings (environment variables, secrets, KV namespaces, D1 database, R2 bucket etc.) in Cloudflare Workers.\n   *\n   * @see {@link https://hono.dev/docs/api/context#env}\n   *\n   * @example\n   * ```ts\n   * // Environment object for Cloudflare Workers\n   * app.get('*', async c => {\n   *   const counter = c.env.COUNTER\n   * })\n   * ```\n   */\n  env = {};\n  #var;\n  finalized = false;\n  /**\n   * `.error` can get the error object from the middleware if the Handler throws an error.\n   *\n   * @see {@link https://hono.dev/docs/api/context#error}\n   *\n   * @example\n   * ```ts\n   * app.use('*', async (c, next) => {\n   *   await next()\n   *   if (c.error) {\n   *     // do something...\n   *   }\n   * })\n   * ```\n   */\n  error;\n  #status;\n  #executionCtx;\n  #res;\n  #layout;\n  #renderer;\n  #notFoundHandler;\n  #preparedHeaders;\n  #matchResult;\n  #path;\n  /**\n   * Creates an instance of the Context class.\n   *\n   * @param req - The Request object.\n   * @param options - Optional configuration options for the context.\n   */\n  constructor(req, options) {\n    this.#rawRequest = req;\n    if (options) {\n      this.#executionCtx = options.executionCtx;\n      this.env = options.env;\n      this.#notFoundHandler = options.notFoundHandler;\n      this.#path = options.path;\n      this.#matchResult = options.matchResult;\n    }\n  }\n  /**\n   * `.req` is the instance of {@link HonoRequest}.\n   */\n  get req() {\n    this.#req ??= new HonoRequest(this.#rawRequest, this.#path, this.#matchResult);\n    return this.#req;\n  }\n  /**\n   * @see {@link https://hono.dev/docs/api/context#event}\n   * The FetchEvent associated with the current request.\n   *\n   * @throws Will throw an error if the context does not have a FetchEvent.\n   */\n  get event() {\n    if (this.#executionCtx && \"respondWith\" in this.#executionCtx) {\n      return this.#executionCtx;\n    } else {\n      throw Error(\"This context has no FetchEvent\");\n    }\n  }\n  /**\n   * @see {@link https://hono.dev/docs/api/context#executionctx}\n   * The ExecutionContext associated with the current request.\n   *\n   * @throws Will throw an error if the context does not have an ExecutionContext.\n   */\n  get executionCtx() {\n    if (this.#executionCtx) {\n      return this.#executionCtx;\n    } else {\n      throw Error(\"This context has no ExecutionContext\");\n    }\n  }\n  /**\n   * @see {@link https://hono.dev/docs/api/context#res}\n   * The Response object for the current request.\n   */\n  get res() {\n    return this.#res ||= new Response(null, {\n      headers: this.#preparedHeaders ??= new Headers()\n    });\n  }\n  /**\n   * Sets the Response object for the current request.\n   *\n   * @param _res - The Response object to set.\n   */\n  set res(_res) {\n    if (this.#res && _res) {\n      _res = new Response(_res.body, _res);\n      for (const [k, v] of this.#res.headers.entries()) {\n        if (k === \"content-type\") {\n          continue;\n        }\n        if (k === \"set-cookie\") {\n          const cookies = this.#res.headers.getSetCookie();\n          _res.headers.delete(\"set-cookie\");\n          for (const cookie of cookies) {\n            _res.headers.append(\"set-cookie\", cookie);\n          }\n        } else {\n          _res.headers.set(k, v);\n        }\n      }\n    }\n    this.#res = _res;\n    this.finalized = true;\n  }\n  /**\n   * `.render()` can create a response within a layout.\n   *\n   * @see {@link https://hono.dev/docs/api/context#render-setrenderer}\n   *\n   * @example\n   * ```ts\n   * app.get('/', (c) => {\n   *   return c.render('Hello!')\n   * })\n   * ```\n   */\n  render = (...args) => {\n    this.#renderer ??= (content) => this.html(content);\n    return this.#renderer(...args);\n  };\n  /**\n   * Sets the layout for the response.\n   *\n   * @param layout - The layout to set.\n   * @returns The layout function.\n   */\n  setLayout = (layout) => this.#layout = layout;\n  /**\n   * Gets the current layout for the response.\n   *\n   * @returns The current layout function.\n   */\n  getLayout = () => this.#layout;\n  /**\n   * `.setRenderer()` can set the layout in the custom middleware.\n   *\n   * @see {@link https://hono.dev/docs/api/context#render-setrenderer}\n   *\n   * @example\n   * ```tsx\n   * app.use('*', async (c, next) => {\n   *   c.setRenderer((content) => {\n   *     return c.html(\n   *       <html>\n   *         <body>\n   *           <p>{content}</p>\n   *         </body>\n   *       </html>\n   *     )\n   *   })\n   *   await next()\n   * })\n   * ```\n   */\n  setRenderer = (renderer) => {\n    this.#renderer = renderer;\n  };\n  /**\n   * `.header()` can set headers.\n   *\n   * @see {@link https://hono.dev/docs/api/context#header}\n   *\n   * @example\n   * ```ts\n   * app.get('/welcome', (c) => {\n   *   // Set headers\n   *   c.header('X-Message', 'Hello!')\n   *   c.header('Content-Type', 'text/plain')\n   *\n   *   return c.body('Thank you for coming')\n   * })\n   * ```\n   */\n  header = (name, value, options) => {\n    if (this.finalized) {\n      this.#res = new Response(this.#res.body, this.#res);\n    }\n    const headers = this.#res ? this.#res.headers : this.#preparedHeaders ??= new Headers();\n    if (value === void 0) {\n      headers.delete(name);\n    } else if (options?.append) {\n      headers.append(name, value);\n    } else {\n      headers.set(name, value);\n    }\n  };\n  status = (status) => {\n    this.#status = status;\n  };\n  /**\n   * `.set()` can set the value specified by the key.\n   *\n   * @see {@link https://hono.dev/docs/api/context#set-get}\n   *\n   * @example\n   * ```ts\n   * app.use('*', async (c, next) => {\n   *   c.set('message', 'Hono is hot!!')\n   *   await next()\n   * })\n   * ```\n   */\n  set = (key, value) => {\n    this.#var ??= /* @__PURE__ */ new Map();\n    this.#var.set(key, value);\n  };\n  /**\n   * `.get()` can use the value specified by the key.\n   *\n   * @see {@link https://hono.dev/docs/api/context#set-get}\n   *\n   * @example\n   * ```ts\n   * app.get('/', (c) => {\n   *   const message = c.get('message')\n   *   return c.text(`The message is \"${message}\"`)\n   * })\n   * ```\n   */\n  get = (key) => {\n    return this.#var ? this.#var.get(key) : void 0;\n  };\n  /**\n   * `.var` can access the value of a variable.\n   *\n   * @see {@link https://hono.dev/docs/api/context#var}\n   *\n   * @example\n   * ```ts\n   * const result = c.var.client.oneMethod()\n   * ```\n   */\n  // c.var.propName is a read-only\n  get var() {\n    if (!this.#var) {\n      return {};\n    }\n    return Object.fromEntries(this.#var);\n  }\n  #newResponse(data, arg, headers) {\n    const responseHeaders = this.#res ? new Headers(this.#res.headers) : this.#preparedHeaders ?? new Headers();\n    if (typeof arg === \"object\" && \"headers\" in arg) {\n      const argHeaders = arg.headers instanceof Headers ? arg.headers : new Headers(arg.headers);\n      for (const [key, value] of argHeaders) {\n        if (key.toLowerCase() === \"set-cookie\") {\n          responseHeaders.append(key, value);\n        } else {\n          responseHeaders.set(key, value);\n        }\n      }\n    }\n    if (headers) {\n      for (const [k, v] of Object.entries(headers)) {\n        if (typeof v === \"string\") {\n          responseHeaders.set(k, v);\n        } else {\n          responseHeaders.delete(k);\n          for (const v2 of v) {\n            responseHeaders.append(k, v2);\n          }\n        }\n      }\n    }\n    const status = typeof arg === \"number\" ? arg : arg?.status ?? this.#status;\n    return new Response(data, { status, headers: responseHeaders });\n  }\n  newResponse = (...args) => this.#newResponse(...args);\n  /**\n   * `.body()` can return the HTTP response.\n   * You can set headers with `.header()` and set HTTP status code with `.status`.\n   * This can also be set in `.text()`, `.json()` and so on.\n   *\n   * @see {@link https://hono.dev/docs/api/context#body}\n   *\n   * @example\n   * ```ts\n   * app.get('/welcome', (c) => {\n   *   // Set headers\n   *   c.header('X-Message', 'Hello!')\n   *   c.header('Content-Type', 'text/plain')\n   *   // Set HTTP status code\n   *   c.status(201)\n   *\n   *   // Return the response body\n   *   return c.body('Thank you for coming')\n   * })\n   * ```\n   */\n  body = (data, arg, headers) => this.#newResponse(data, arg, headers);\n  /**\n   * `.text()` can render text as `Content-Type:text/plain`.\n   *\n   * @see {@link https://hono.dev/docs/api/context#text}\n   *\n   * @example\n   * ```ts\n   * app.get('/say', (c) => {\n   *   return c.text('Hello!')\n   * })\n   * ```\n   */\n  text = (text, arg, headers) => {\n    return !this.#preparedHeaders && !this.#status && !arg && !headers && !this.finalized ? new Response(text) : this.#newResponse(\n      text,\n      arg,\n      setDefaultContentType(TEXT_PLAIN, headers)\n    );\n  };\n  /**\n   * `.json()` can render JSON as `Content-Type:application/json`.\n   *\n   * @see {@link https://hono.dev/docs/api/context#json}\n   *\n   * @example\n   * ```ts\n   * app.get('/api', (c) => {\n   *   return c.json({ message: 'Hello!' })\n   * })\n   * ```\n   */\n  json = (object, arg, headers) => {\n    return this.#newResponse(\n      JSON.stringify(object),\n      arg,\n      setDefaultContentType(\"application/json\", headers)\n    );\n  };\n  html = (html, arg, headers) => {\n    const res = (html2) => this.#newResponse(html2, arg, setDefaultContentType(\"text/html; charset=UTF-8\", headers));\n    return typeof html === \"object\" ? resolveCallback(html, HtmlEscapedCallbackPhase.Stringify, false, {}).then(res) : res(html);\n  };\n  /**\n   * `.redirect()` can Redirect, default status code is 302.\n   *\n   * @see {@link https://hono.dev/docs/api/context#redirect}\n   *\n   * @example\n   * ```ts\n   * app.get('/redirect', (c) => {\n   *   return c.redirect('/')\n   * })\n   * app.get('/redirect-permanently', (c) => {\n   *   return c.redirect('/', 301)\n   * })\n   * ```\n   */\n  redirect = (location, status) => {\n    const locationString = String(location);\n    this.header(\n      \"Location\",\n      // Multibyes should be encoded\n      // eslint-disable-next-line no-control-regex\n      !/[^\\x00-\\xFF]/.test(locationString) ? locationString : encodeURI(locationString)\n    );\n    return this.newResponse(null, status ?? 302);\n  };\n  /**\n   * `.notFound()` can return the Not Found Response.\n   *\n   * @see {@link https://hono.dev/docs/api/context#notfound}\n   *\n   * @example\n   * ```ts\n   * app.get('/notfound', (c) => {\n   *   return c.notFound()\n   * })\n   * ```\n   */\n  notFound = () => {\n    this.#notFoundHandler ??= () => new Response();\n    return this.#notFoundHandler(this);\n  };\n};\nexport {\n  Context,\n  TEXT_PLAIN\n};\n", "// src/request.ts\nimport { HTTPException } from \"./http-exception.js\";\nimport { GET_MATCH_RESULT } from \"./request/constants.js\";\nimport { parseBody } from \"./utils/body.js\";\nimport { decodeURIComponent_, getQueryParam, getQueryParams, tryDecode } from \"./utils/url.js\";\nvar tryDecodeURIComponent = (str) => tryDecode(str, decodeURIComponent_);\nvar HonoRequest = class {\n  /**\n   * `.raw` can get the raw Request object.\n   *\n   * @see {@link https://hono.dev/docs/api/request#raw}\n   *\n   * @example\n   * ```ts\n   * // For Cloudflare Workers\n   * app.post('/', async (c) => {\n   *   const metadata = c.req.raw.cf?.hostMetadata?\n   *   ...\n   * })\n   * ```\n   */\n  raw;\n  #validatedData;\n  // Short name of validatedData\n  #matchResult;\n  routeIndex = 0;\n  /**\n   * `.path` can get the pathname of the request.\n   *\n   * @see {@link https://hono.dev/docs/api/request#path}\n   *\n   * @example\n   * ```ts\n   * app.get('/about/me', (c) => {\n   *   const pathname = c.req.path // `/about/me`\n   * })\n   * ```\n   */\n  path;\n  bodyCache = {};\n  constructor(request, path = \"/\", matchResult = [[]]) {\n    this.raw = request;\n    this.path = path;\n    this.#matchResult = matchResult;\n    this.#validatedData = {};\n  }\n  param(key) {\n    return key ? this.#getDecodedParam(key) : this.#getAllDecodedParams();\n  }\n  #getDecodedParam(key) {\n    const paramKey = this.#matchResult[0][this.routeIndex][1][key];\n    const param = this.#getParamValue(paramKey);\n    return param && /\\%/.test(param) ? tryDecodeURIComponent(param) : param;\n  }\n  #getAllDecodedParams() {\n    const decoded = {};\n    const keys = Object.keys(this.#matchResult[0][this.routeIndex][1]);\n    for (const key of keys) {\n      const value = this.#getParamValue(this.#matchResult[0][this.routeIndex][1][key]);\n      if (value !== void 0) {\n        decoded[key] = /\\%/.test(value) ? tryDecodeURIComponent(value) : value;\n      }\n    }\n    return decoded;\n  }\n  #getParamValue(paramKey) {\n    return this.#matchResult[1] ? this.#matchResult[1][paramKey] : paramKey;\n  }\n  query(key) {\n    return getQueryParam(this.url, key);\n  }\n  queries(key) {\n    return getQueryParams(this.url, key);\n  }\n  header(name) {\n    if (name) {\n      return this.raw.headers.get(name) ?? void 0;\n    }\n    const headerData = {};\n    this.raw.headers.forEach((value, key) => {\n      headerData[key] = value;\n    });\n    return headerData;\n  }\n  async parseBody(options) {\n    return this.bodyCache.parsedBody ??= await parseBody(this, options);\n  }\n  #cachedBody = (key) => {\n    const { bodyCache, raw } = this;\n    const cachedBody = bodyCache[key];\n    if (cachedBody) {\n      return cachedBody;\n    }\n    const anyCachedKey = Object.keys(bodyCache)[0];\n    if (anyCachedKey) {\n      return bodyCache[anyCachedKey].then((body) => {\n        if (anyCachedKey === \"json\") {\n          body = JSON.stringify(body);\n        }\n        return new Response(body)[key]();\n      });\n    }\n    return bodyCache[key] = raw[key]();\n  };\n  /**\n   * `.json()` can parse Request body of type `application/json`\n   *\n   * @see {@link https://hono.dev/docs/api/request#json}\n   *\n   * @example\n   * ```ts\n   * app.post('/entry', async (c) => {\n   *   const body = await c.req.json()\n   * })\n   * ```\n   */\n  json() {\n    return this.#cachedBody(\"text\").then((text) => JSON.parse(text));\n  }\n  /**\n   * `.text()` can parse Request body of type `text/plain`\n   *\n   * @see {@link https://hono.dev/docs/api/request#text}\n   *\n   * @example\n   * ```ts\n   * app.post('/entry', async (c) => {\n   *   const body = await c.req.text()\n   * })\n   * ```\n   */\n  text() {\n    return this.#cachedBody(\"text\");\n  }\n  /**\n   * `.arrayBuffer()` parse Request body as an `ArrayBuffer`\n   *\n   * @see {@link https://hono.dev/docs/api/request#arraybuffer}\n   *\n   * @example\n   * ```ts\n   * app.post('/entry', async (c) => {\n   *   const body = await c.req.arrayBuffer()\n   * })\n   * ```\n   */\n  arrayBuffer() {\n    return this.#cachedBody(\"arrayBuffer\");\n  }\n  /**\n   * Parses the request body as a `Blob`.\n   * @example\n   * ```ts\n   * app.post('/entry', async (c) => {\n   *   const body = await c.req.blob();\n   * });\n   * ```\n   * @see https://hono.dev/docs/api/request#blob\n   */\n  blob() {\n    return this.#cachedBody(\"blob\");\n  }\n  /**\n   * Parses the request body as `FormData`.\n   * @example\n   * ```ts\n   * app.post('/entry', async (c) => {\n   *   const body = await c.req.formData();\n   * });\n   * ```\n   * @see https://hono.dev/docs/api/request#formdata\n   */\n  formData() {\n    return this.#cachedBody(\"formData\");\n  }\n  /**\n   * Adds validated data to the request.\n   *\n   * @param target - The target of the validation.\n   * @param data - The validated data to add.\n   */\n  addValidatedData(target, data) {\n    this.#validatedData[target] = data;\n  }\n  valid(target) {\n    return this.#validatedData[target];\n  }\n  /**\n   * `.url()` can get the request url strings.\n   *\n   * @see {@link https://hono.dev/docs/api/request#url}\n   *\n   * @example\n   * ```ts\n   * app.get('/about/me', (c) => {\n   *   const url = c.req.url // `http://localhost:8787/about/me`\n   *   ...\n   * })\n   * ```\n   */\n  get url() {\n    return this.raw.url;\n  }\n  /**\n   * `.method()` can get the method name of the request.\n   *\n   * @see {@link https://hono.dev/docs/api/request#method}\n   *\n   * @example\n   * ```ts\n   * app.get('/about/me', (c) => {\n   *   const method = c.req.method // `GET`\n   * })\n   * ```\n   */\n  get method() {\n    return this.raw.method;\n  }\n  get [GET_MATCH_RESULT]() {\n    return this.#matchResult;\n  }\n  /**\n   * `.matchedRoutes()` can return a matched route in the handler\n   *\n   * @deprecated\n   *\n   * Use matchedRoutes helper defined in \"hono/route\" instead.\n   *\n   * @see {@link https://hono.dev/docs/api/request#matchedroutes}\n   *\n   * @example\n   * ```ts\n   * app.use('*', async function logger(c, next) {\n   *   await next()\n   *   c.req.matchedRoutes.forEach(({ handler, method, path }, i) => {\n   *     const name = handler.name || (handler.length < 2 ? '[handler]' : '[middleware]')\n   *     console.log(\n   *       method,\n   *       ' ',\n   *       path,\n   *       ' '.repeat(Math.max(10 - path.length, 0)),\n   *       name,\n   *       i === c.req.routeIndex ? '<- respond from here' : ''\n   *     )\n   *   })\n   * })\n   * ```\n   */\n  get matchedRoutes() {\n    return this.#matchResult[0].map(([[, route]]) => route);\n  }\n  /**\n   * `routePath()` can retrieve the path registered within the handler\n   *\n   * @deprecated\n   *\n   * Use routePath helper defined in \"hono/route\" instead.\n   *\n   * @see {@link https://hono.dev/docs/api/request#routepath}\n   *\n   * @example\n   * ```ts\n   * app.get('/posts/:id', (c) => {\n   *   return c.json({ path: c.req.routePath })\n   * })\n   * ```\n   */\n  get routePath() {\n    return this.#matchResult[0].map(([[, route]]) => route)[this.routeIndex].path;\n  }\n};\nvar cloneRawRequest = async (req) => {\n  if (!req.raw.bodyUsed) {\n    return req.raw.clone();\n  }\n  const cacheKey = Object.keys(req.bodyCache)[0];\n  if (!cacheKey) {\n    throw new HTTPException(500, {\n      message: \"Cannot clone request: body was already consumed and not cached. Please use HonoRequest methods (e.g., req.json(), req.text()) instead of consuming req.raw directly.\"\n    });\n  }\n  const requestInit = {\n    body: await req[cacheKey](),\n    cache: req.raw.cache,\n    credentials: req.raw.credentials,\n    headers: req.header(),\n    integrity: req.raw.integrity,\n    keepalive: req.raw.keepalive,\n    method: req.method,\n    mode: req.raw.mode,\n    redirect: req.raw.redirect,\n    referrer: req.raw.referrer,\n    referrerPolicy: req.raw.referrerPolicy,\n    signal: req.raw.signal\n  };\n  return new Request(req.url, requestInit);\n};\nexport {\n  HonoRequest,\n  cloneRawRequest\n};\n", "// src/http-exception.ts\nvar HTTPException = class extends Error {\n  res;\n  status;\n  /**\n   * Creates an instance of `HTTPException`.\n   * @param status - HTTP status code for the exception. Defaults to 500.\n   * @param options - Additional options for the exception.\n   */\n  constructor(status = 500, options) {\n    super(options?.message, { cause: options?.cause });\n    this.res = options?.res;\n    this.status = status;\n  }\n  /**\n   * Returns the response object associated with the exception.\n   * If a response object is not provided, a new response is created with the error message and status code.\n   * @returns The response object.\n   */\n  getResponse() {\n    if (this.res) {\n      const newResponse = new Response(this.res.body, {\n        status: this.status,\n        headers: this.res.headers\n      });\n      return newResponse;\n    }\n    return new Response(this.message, {\n      status: this.status\n    });\n  }\n};\nexport {\n  HTTPException\n};\n", "// src/request/constants.ts\nvar GET_MATCH_RESULT = /* @__PURE__ */ Symbol();\nexport {\n  GET_MATCH_RESULT\n};\n", "// src/utils/body.ts\nimport { HonoRequest } from \"../request.js\";\nvar parseBody = async (request, options = /* @__PURE__ */ Object.create(null)) => {\n  const { all = false, dot = false } = options;\n  const headers = request instanceof HonoRequest ? request.raw.headers : request.headers;\n  const contentType = headers.get(\"Content-Type\");\n  if (contentType?.startsWith(\"multipart/form-data\") || contentType?.startsWith(\"application/x-www-form-urlencoded\")) {\n    return parseFormData(request, { all, dot });\n  }\n  return {};\n};\nasync function parseFormData(request, options) {\n  const formData = await request.formData();\n  if (formData) {\n    return convertFormDataToBodyData(formData, options);\n  }\n  return {};\n}\nfunction convertFormDataToBodyData(formData, options) {\n  const form = /* @__PURE__ */ Object.create(null);\n  formData.forEach((value, key) => {\n    const shouldParseAllValues = options.all || key.endsWith(\"[]\");\n    if (!shouldParseAllValues) {\n      form[key] = value;\n    } else {\n      handleParsingAllValues(form, key, value);\n    }\n  });\n  if (options.dot) {\n    Object.entries(form).forEach(([key, value]) => {\n      const shouldParseDotValues = key.includes(\".\");\n      if (shouldParseDotValues) {\n        handleParsingNestedValues(form, key, value);\n        delete form[key];\n      }\n    });\n  }\n  return form;\n}\nvar handleParsingAllValues = (form, key, value) => {\n  if (form[key] !== void 0) {\n    if (Array.isArray(form[key])) {\n      ;\n      form[key].push(value);\n    } else {\n      form[key] = [form[key], value];\n    }\n  } else {\n    if (!key.endsWith(\"[]\")) {\n      form[key] = value;\n    } else {\n      form[key] = [value];\n    }\n  }\n};\nvar handleParsingNestedValues = (form, key, value) => {\n  let nestedForm = form;\n  const keys = key.split(\".\");\n  keys.forEach((key2, index) => {\n    if (index === keys.length - 1) {\n      nestedForm[key2] = value;\n    } else {\n      if (!nestedForm[key2] || typeof nestedForm[key2] !== \"object\" || Array.isArray(nestedForm[key2]) || nestedForm[key2] instanceof File) {\n        nestedForm[key2] = /* @__PURE__ */ Object.create(null);\n      }\n      nestedForm = nestedForm[key2];\n    }\n  });\n};\nexport {\n  parseBody\n};\n", "// src/utils/url.ts\nvar splitPath = (path) => {\n  const paths = path.split(\"/\");\n  if (paths[0] === \"\") {\n    paths.shift();\n  }\n  return paths;\n};\nvar splitRoutingPath = (routePath) => {\n  const { groups, path } = extractGroupsFromPath(routePath);\n  const paths = splitPath(path);\n  return replaceGroupMarks(paths, groups);\n};\nvar extractGroupsFromPath = (path) => {\n  const groups = [];\n  path = path.replace(/\\{[^}]+\\}/g, (match, index) => {\n    const mark = `@${index}`;\n    groups.push([mark, match]);\n    return mark;\n  });\n  return { groups, path };\n};\nvar replaceGroupMarks = (paths, groups) => {\n  for (let i = groups.length - 1; i >= 0; i--) {\n    const [mark] = groups[i];\n    for (let j = paths.length - 1; j >= 0; j--) {\n      if (paths[j].includes(mark)) {\n        paths[j] = paths[j].replace(mark, groups[i][1]);\n        break;\n      }\n    }\n  }\n  return paths;\n};\nvar patternCache = {};\nvar getPattern = (label, next) => {\n  if (label === \"*\") {\n    return \"*\";\n  }\n  const match = label.match(/^\\:([^\\{\\}]+)(?:\\{(.+)\\})?$/);\n  if (match) {\n    const cacheKey = `${label}#${next}`;\n    if (!patternCache[cacheKey]) {\n      if (match[2]) {\n        patternCache[cacheKey] = next && next[0] !== \":\" && next[0] !== \"*\" ? [cacheKey, match[1], new RegExp(`^${match[2]}(?=/${next})`)] : [label, match[1], new RegExp(`^${match[2]}$`)];\n      } else {\n        patternCache[cacheKey] = [label, match[1], true];\n      }\n    }\n    return patternCache[cacheKey];\n  }\n  return null;\n};\nvar tryDecode = (str, decoder) => {\n  try {\n    return decoder(str);\n  } catch {\n    return str.replace(/(?:%[0-9A-Fa-f]{2})+/g, (match) => {\n      try {\n        return decoder(match);\n      } catch {\n        return match;\n      }\n    });\n  }\n};\nvar tryDecodeURI = (str) => tryDecode(str, decodeURI);\nvar getPath = (request) => {\n  const url = request.url;\n  const start = url.indexOf(\"/\", url.indexOf(\":\") + 4);\n  let i = start;\n  for (; i < url.length; i++) {\n    const charCode = url.charCodeAt(i);\n    if (charCode === 37) {\n      const queryIndex = url.indexOf(\"?\", i);\n      const path = url.slice(start, queryIndex === -1 ? void 0 : queryIndex);\n      return tryDecodeURI(path.includes(\"%25\") ? path.replace(/%25/g, \"%2525\") : path);\n    } else if (charCode === 63) {\n      break;\n    }\n  }\n  return url.slice(start, i);\n};\nvar getQueryStrings = (url) => {\n  const queryIndex = url.indexOf(\"?\", 8);\n  return queryIndex === -1 ? \"\" : \"?\" + url.slice(queryIndex + 1);\n};\nvar getPathNoStrict = (request) => {\n  const result = getPath(request);\n  return result.length > 1 && result.at(-1) === \"/\" ? result.slice(0, -1) : result;\n};\nvar mergePath = (base, sub, ...rest) => {\n  if (rest.length) {\n    sub = mergePath(sub, ...rest);\n  }\n  return `${base?.[0] === \"/\" ? \"\" : \"/\"}${base}${sub === \"/\" ? \"\" : `${base?.at(-1) === \"/\" ? \"\" : \"/\"}${sub?.[0] === \"/\" ? sub.slice(1) : sub}`}`;\n};\nvar checkOptionalParameter = (path) => {\n  if (path.charCodeAt(path.length - 1) !== 63 || !path.includes(\":\")) {\n    return null;\n  }\n  const segments = path.split(\"/\");\n  const results = [];\n  let basePath = \"\";\n  segments.forEach((segment) => {\n    if (segment !== \"\" && !/\\:/.test(segment)) {\n      basePath += \"/\" + segment;\n    } else if (/\\:/.test(segment)) {\n      if (/\\?/.test(segment)) {\n        if (results.length === 0 && basePath === \"\") {\n          results.push(\"/\");\n        } else {\n          results.push(basePath);\n        }\n        const optionalSegment = segment.replace(\"?\", \"\");\n        basePath += \"/\" + optionalSegment;\n        results.push(basePath);\n      } else {\n        basePath += \"/\" + segment;\n      }\n    }\n  });\n  return results.filter((v, i, a) => a.indexOf(v) === i);\n};\nvar _decodeURI = (value) => {\n  if (!/[%+]/.test(value)) {\n    return value;\n  }\n  if (value.indexOf(\"+\") !== -1) {\n    value = value.replace(/\\+/g, \" \");\n  }\n  return value.indexOf(\"%\") !== -1 ? tryDecode(value, decodeURIComponent_) : value;\n};\nvar _getQueryParam = (url, key, multiple) => {\n  let encoded;\n  if (!multiple && key && !/[%+]/.test(key)) {\n    let keyIndex2 = url.indexOf(\"?\", 8);\n    if (keyIndex2 === -1) {\n      return void 0;\n    }\n    if (!url.startsWith(key, keyIndex2 + 1)) {\n      keyIndex2 = url.indexOf(`&${key}`, keyIndex2 + 1);\n    }\n    while (keyIndex2 !== -1) {\n      const trailingKeyCode = url.charCodeAt(keyIndex2 + key.length + 1);\n      if (trailingKeyCode === 61) {\n        const valueIndex = keyIndex2 + key.length + 2;\n        const endIndex = url.indexOf(\"&\", valueIndex);\n        return _decodeURI(url.slice(valueIndex, endIndex === -1 ? void 0 : endIndex));\n      } else if (trailingKeyCode == 38 || isNaN(trailingKeyCode)) {\n        return \"\";\n      }\n      keyIndex2 = url.indexOf(`&${key}`, keyIndex2 + 1);\n    }\n    encoded = /[%+]/.test(url);\n    if (!encoded) {\n      return void 0;\n    }\n  }\n  const results = {};\n  encoded ??= /[%+]/.test(url);\n  let keyIndex = url.indexOf(\"?\", 8);\n  while (keyIndex !== -1) {\n    const nextKeyIndex = url.indexOf(\"&\", keyIndex + 1);\n    let valueIndex = url.indexOf(\"=\", keyIndex);\n    if (valueIndex > nextKeyIndex && nextKeyIndex !== -1) {\n      valueIndex = -1;\n    }\n    let name = url.slice(\n      keyIndex + 1,\n      valueIndex === -1 ? nextKeyIndex === -1 ? void 0 : nextKeyIndex : valueIndex\n    );\n    if (encoded) {\n      name = _decodeURI(name);\n    }\n    keyIndex = nextKeyIndex;\n    if (name === \"\") {\n      continue;\n    }\n    let value;\n    if (valueIndex === -1) {\n      value = \"\";\n    } else {\n      value = url.slice(valueIndex + 1, nextKeyIndex === -1 ? void 0 : nextKeyIndex);\n      if (encoded) {\n        value = _decodeURI(value);\n      }\n    }\n    if (multiple) {\n      if (!(results[name] && Array.isArray(results[name]))) {\n        results[name] = [];\n      }\n      ;\n      results[name].push(value);\n    } else {\n      results[name] ??= value;\n    }\n  }\n  return key ? results[key] : results;\n};\nvar getQueryParam = _getQueryParam;\nvar getQueryParams = (url, key) => {\n  return _getQueryParam(url, key, true);\n};\nvar decodeURIComponent_ = decodeURIComponent;\nexport {\n  checkOptionalParameter,\n  decodeURIComponent_,\n  getPath,\n  getPathNoStrict,\n  getPattern,\n  getQueryParam,\n  getQueryParams,\n  getQueryStrings,\n  mergePath,\n  splitPath,\n  splitRoutingPath,\n  tryDecode\n};\n", "// src/utils/html.ts\nvar HtmlEscapedCallbackPhase = {\n  Stringify: 1,\n  BeforeStream: 2,\n  Stream: 3\n};\nvar raw = (value, callbacks) => {\n  const escapedString = new String(value);\n  escapedString.isEscaped = true;\n  escapedString.callbacks = callbacks;\n  return escapedString;\n};\nvar escapeRe = /[&<>'\"]/;\nvar stringBufferToString = async (buffer, callbacks) => {\n  let str = \"\";\n  callbacks ||= [];\n  const resolvedBuffer = await Promise.all(buffer);\n  for (let i = resolvedBuffer.length - 1; ; i--) {\n    str += resolvedBuffer[i];\n    i--;\n    if (i < 0) {\n      break;\n    }\n    let r = resolvedBuffer[i];\n    if (typeof r === \"object\") {\n      callbacks.push(...r.callbacks || []);\n    }\n    const isEscaped = r.isEscaped;\n    r = await (typeof r === \"object\" ? r.toString() : r);\n    if (typeof r === \"object\") {\n      callbacks.push(...r.callbacks || []);\n    }\n    if (r.isEscaped ?? isEscaped) {\n      str += r;\n    } else {\n      const buf = [str];\n      escapeToBuffer(r, buf);\n      str = buf[0];\n    }\n  }\n  return raw(str, callbacks);\n};\nvar escapeToBuffer = (str, buffer) => {\n  const match = str.search(escapeRe);\n  if (match === -1) {\n    buffer[0] += str;\n    return;\n  }\n  let escape;\n  let index;\n  let lastIndex = 0;\n  for (index = match; index < str.length; index++) {\n    switch (str.charCodeAt(index)) {\n      case 34:\n        escape = \"&quot;\";\n        break;\n      case 39:\n        escape = \"&#39;\";\n        break;\n      case 38:\n        escape = \"&amp;\";\n        break;\n      case 60:\n        escape = \"&lt;\";\n        break;\n      case 62:\n        escape = \"&gt;\";\n        break;\n      default:\n        continue;\n    }\n    buffer[0] += str.substring(lastIndex, index) + escape;\n    lastIndex = index + 1;\n  }\n  buffer[0] += str.substring(lastIndex, index);\n};\nvar resolveCallbackSync = (str) => {\n  const callbacks = str.callbacks;\n  if (!callbacks?.length) {\n    return str;\n  }\n  const buffer = [str];\n  const context = {};\n  callbacks.forEach((c) => c({ phase: HtmlEscapedCallbackPhase.Stringify, buffer, context }));\n  return buffer[0];\n};\nvar resolveCallback = async (str, phase, preserveCallbacks, context, buffer) => {\n  if (typeof str === \"object\" && !(str instanceof String)) {\n    if (!(str instanceof Promise)) {\n      str = str.toString();\n    }\n    if (str instanceof Promise) {\n      str = await str;\n    }\n  }\n  const callbacks = str.callbacks;\n  if (!callbacks?.length) {\n    return Promise.resolve(str);\n  }\n  if (buffer) {\n    buffer[0] += str;\n  } else {\n    buffer = [str];\n  }\n  const resStr = Promise.all(callbacks.map((c) => c({ phase, buffer, context }))).then(\n    (res) => Promise.all(\n      res.filter(Boolean).map((str2) => resolveCallback(str2, phase, false, context, buffer))\n    ).then(() => buffer[0])\n  );\n  if (preserveCallbacks) {\n    return raw(await resStr, callbacks);\n  } else {\n    return resStr;\n  }\n};\nexport {\n  HtmlEscapedCallbackPhase,\n  escapeToBuffer,\n  raw,\n  resolveCallback,\n  resolveCallbackSync,\n  stringBufferToString\n};\n", "// src/router.ts\nvar METHOD_NAME_ALL = \"ALL\";\nvar METHOD_NAME_ALL_LOWERCASE = \"all\";\nvar METHODS = [\"get\", \"post\", \"put\", \"delete\", \"options\", \"patch\"];\nvar MESSAGE_MATCHER_IS_ALREADY_BUILT = \"Can not add a route since the matcher is already built.\";\nvar UnsupportedPathError = class extends Error {\n};\nexport {\n  MESSAGE_MATCHER_IS_ALREADY_BUILT,\n  METHODS,\n  METHOD_NAME_ALL,\n  METHOD_NAME_ALL_LOWERCASE,\n  UnsupportedPathError\n};\n", "// src/utils/constants.ts\nvar COMPOSED_HANDLER = \"__COMPOSED_HANDLER\";\nexport {\n  COMPOSED_HANDLER\n};\n", "// src/router/reg-exp-router/index.ts\nimport { RegExpRouter } from \"./router.js\";\nimport { PreparedRegExpRouter, buildInitParams, serializeInitParams } from \"./prepared-router.js\";\nexport {\n  PreparedRegExpRouter,\n  RegExpRouter,\n  buildInitParams,\n  serializeInitParams\n};\n", "// src/router/reg-exp-router/router.ts\nimport {\n  MESSAGE_MATCHER_IS_ALREADY_BUILT,\n  METHOD_NAME_ALL,\n  UnsupportedPathError\n} from \"../../router.js\";\nimport { checkOptionalParameter } from \"../../utils/url.js\";\nimport { match, emptyParam } from \"./matcher.js\";\nimport { PATH_ERROR } from \"./node.js\";\nimport { Trie } from \"./trie.js\";\nvar nullMatcher = [/^$/, [], /* @__PURE__ */ Object.create(null)];\nvar wildcardRegExpCache = /* @__PURE__ */ Object.create(null);\nfunction buildWildcardRegExp(path) {\n  return wildcardRegExpCache[path] ??= new RegExp(\n    path === \"*\" ? \"\" : `^${path.replace(\n      /\\/\\*$|([.\\\\+*[^\\]$()])/g,\n      (_, metaChar) => metaChar ? `\\\\${metaChar}` : \"(?:|/.*)\"\n    )}$`\n  );\n}\nfunction clearWildcardRegExpCache() {\n  wildcardRegExpCache = /* @__PURE__ */ Object.create(null);\n}\nfunction buildMatcherFromPreprocessedRoutes(routes) {\n  const trie = new Trie();\n  const handlerData = [];\n  if (routes.length === 0) {\n    return nullMatcher;\n  }\n  const routesWithStaticPathFlag = routes.map(\n    (route) => [!/\\*|\\/:/.test(route[0]), ...route]\n  ).sort(\n    ([isStaticA, pathA], [isStaticB, pathB]) => isStaticA ? 1 : isStaticB ? -1 : pathA.length - pathB.length\n  );\n  const staticMap = /* @__PURE__ */ Object.create(null);\n  for (let i = 0, j = -1, len = routesWithStaticPathFlag.length; i < len; i++) {\n    const [pathErrorCheckOnly, path, handlers] = routesWithStaticPathFlag[i];\n    if (pathErrorCheckOnly) {\n      staticMap[path] = [handlers.map(([h]) => [h, /* @__PURE__ */ Object.create(null)]), emptyParam];\n    } else {\n      j++;\n    }\n    let paramAssoc;\n    try {\n      paramAssoc = trie.insert(path, j, pathErrorCheckOnly);\n    } catch (e) {\n      throw e === PATH_ERROR ? new UnsupportedPathError(path) : e;\n    }\n    if (pathErrorCheckOnly) {\n      continue;\n    }\n    handlerData[j] = handlers.map(([h, paramCount]) => {\n      const paramIndexMap = /* @__PURE__ */ Object.create(null);\n      paramCount -= 1;\n      for (; paramCount >= 0; paramCount--) {\n        const [key, value] = paramAssoc[paramCount];\n        paramIndexMap[key] = value;\n      }\n      return [h, paramIndexMap];\n    });\n  }\n  const [regexp, indexReplacementMap, paramReplacementMap] = trie.buildRegExp();\n  for (let i = 0, len = handlerData.length; i < len; i++) {\n    for (let j = 0, len2 = handlerData[i].length; j < len2; j++) {\n      const map = handlerData[i][j]?.[1];\n      if (!map) {\n        continue;\n      }\n      const keys = Object.keys(map);\n      for (let k = 0, len3 = keys.length; k < len3; k++) {\n        map[keys[k]] = paramReplacementMap[map[keys[k]]];\n      }\n    }\n  }\n  const handlerMap = [];\n  for (const i in indexReplacementMap) {\n    handlerMap[i] = handlerData[indexReplacementMap[i]];\n  }\n  return [regexp, handlerMap, staticMap];\n}\nfunction findMiddleware(middleware, path) {\n  if (!middleware) {\n    return void 0;\n  }\n  for (const k of Object.keys(middleware).sort((a, b) => b.length - a.length)) {\n    if (buildWildcardRegExp(k).test(path)) {\n      return [...middleware[k]];\n    }\n  }\n  return void 0;\n}\nvar RegExpRouter = class {\n  name = \"RegExpRouter\";\n  #middleware;\n  #routes;\n  constructor() {\n    this.#middleware = { [METHOD_NAME_ALL]: /* @__PURE__ */ Object.create(null) };\n    this.#routes = { [METHOD_NAME_ALL]: /* @__PURE__ */ Object.create(null) };\n  }\n  add(method, path, handler) {\n    const middleware = this.#middleware;\n    const routes = this.#routes;\n    if (!middleware || !routes) {\n      throw new Error(MESSAGE_MATCHER_IS_ALREADY_BUILT);\n    }\n    if (!middleware[method]) {\n      ;\n      [middleware, routes].forEach((handlerMap) => {\n        handlerMap[method] = /* @__PURE__ */ Object.create(null);\n        Object.keys(handlerMap[METHOD_NAME_ALL]).forEach((p) => {\n          handlerMap[method][p] = [...handlerMap[METHOD_NAME_ALL][p]];\n        });\n      });\n    }\n    if (path === \"/*\") {\n      path = \"*\";\n    }\n    const paramCount = (path.match(/\\/:/g) || []).length;\n    if (/\\*$/.test(path)) {\n      const re = buildWildcardRegExp(path);\n      if (method === METHOD_NAME_ALL) {\n        Object.keys(middleware).forEach((m) => {\n          middleware[m][path] ||= findMiddleware(middleware[m], path) || findMiddleware(middleware[METHOD_NAME_ALL], path) || [];\n        });\n      } else {\n        middleware[method][path] ||= findMiddleware(middleware[method], path) || findMiddleware(middleware[METHOD_NAME_ALL], path) || [];\n      }\n      Object.keys(middleware).forEach((m) => {\n        if (method === METHOD_NAME_ALL || method === m) {\n          Object.keys(middleware[m]).forEach((p) => {\n            re.test(p) && middleware[m][p].push([handler, paramCount]);\n          });\n        }\n      });\n      Object.keys(routes).forEach((m) => {\n        if (method === METHOD_NAME_ALL || method === m) {\n          Object.keys(routes[m]).forEach(\n            (p) => re.test(p) && routes[m][p].push([handler, paramCount])\n          );\n        }\n      });\n      return;\n    }\n    const paths = checkOptionalParameter(path) || [path];\n    for (let i = 0, len = paths.length; i < len; i++) {\n      const path2 = paths[i];\n      Object.keys(routes).forEach((m) => {\n        if (method === METHOD_NAME_ALL || method === m) {\n          routes[m][path2] ||= [\n            ...findMiddleware(middleware[m], path2) || findMiddleware(middleware[METHOD_NAME_ALL], path2) || []\n          ];\n          routes[m][path2].push([handler, paramCount - len + i + 1]);\n        }\n      });\n    }\n  }\n  match = match;\n  buildAllMatchers() {\n    const matchers = /* @__PURE__ */ Object.create(null);\n    Object.keys(this.#routes).concat(Object.keys(this.#middleware)).forEach((method) => {\n      matchers[method] ||= this.#buildMatcher(method);\n    });\n    this.#middleware = this.#routes = void 0;\n    clearWildcardRegExpCache();\n    return matchers;\n  }\n  #buildMatcher(method) {\n    const routes = [];\n    let hasOwnRoute = method === METHOD_NAME_ALL;\n    [this.#middleware, this.#routes].forEach((r) => {\n      const ownRoute = r[method] ? Object.keys(r[method]).map((path) => [path, r[method][path]]) : [];\n      if (ownRoute.length !== 0) {\n        hasOwnRoute ||= true;\n        routes.push(...ownRoute);\n      } else if (method !== METHOD_NAME_ALL) {\n        routes.push(\n          ...Object.keys(r[METHOD_NAME_ALL]).map((path) => [path, r[METHOD_NAME_ALL][path]])\n        );\n      }\n    });\n    if (!hasOwnRoute) {\n      return null;\n    } else {\n      return buildMatcherFromPreprocessedRoutes(routes);\n    }\n  }\n};\nexport {\n  RegExpRouter\n};\n", "// src/router/reg-exp-router/matcher.ts\nimport { METHOD_NAME_ALL } from \"../../router.js\";\nvar emptyParam = [];\nfunction match(method, path) {\n  const matchers = this.buildAllMatchers();\n  const match2 = ((method2, path2) => {\n    const matcher = matchers[method2] || matchers[METHOD_NAME_ALL];\n    const staticMatch = matcher[2][path2];\n    if (staticMatch) {\n      return staticMatch;\n    }\n    const match3 = path2.match(matcher[0]);\n    if (!match3) {\n      return [[], emptyParam];\n    }\n    const index = match3.indexOf(\"\", 1);\n    return [matcher[1][index], match3];\n  });\n  this.match = match2;\n  return match2(method, path);\n}\nexport {\n  emptyParam,\n  match\n};\n", "// src/router/reg-exp-router/node.ts\nvar LABEL_REG_EXP_STR = \"[^/]+\";\nvar ONLY_WILDCARD_REG_EXP_STR = \".*\";\nvar TAIL_WILDCARD_REG_EXP_STR = \"(?:|/.*)\";\nvar PATH_ERROR = /* @__PURE__ */ Symbol();\nvar regExpMetaChars = new Set(\".\\\\+*[^]$()\");\nfunction compareKey(a, b) {\n  if (a.length === 1) {\n    return b.length === 1 ? a < b ? -1 : 1 : -1;\n  }\n  if (b.length === 1) {\n    return 1;\n  }\n  if (a === ONLY_WILDCARD_REG_EXP_STR || a === TAIL_WILDCARD_REG_EXP_STR) {\n    return 1;\n  } else if (b === ONLY_WILDCARD_REG_EXP_STR || b === TAIL_WILDCARD_REG_EXP_STR) {\n    return -1;\n  }\n  if (a === LABEL_REG_EXP_STR) {\n    return 1;\n  } else if (b === LABEL_REG_EXP_STR) {\n    return -1;\n  }\n  return a.length === b.length ? a < b ? -1 : 1 : b.length - a.length;\n}\nvar Node = class _Node {\n  #index;\n  #varIndex;\n  #children = /* @__PURE__ */ Object.create(null);\n  insert(tokens, index, paramMap, context, pathErrorCheckOnly) {\n    if (tokens.length === 0) {\n      if (this.#index !== void 0) {\n        throw PATH_ERROR;\n      }\n      if (pathErrorCheckOnly) {\n        return;\n      }\n      this.#index = index;\n      return;\n    }\n    const [token, ...restTokens] = tokens;\n    const pattern = token === \"*\" ? restTokens.length === 0 ? [\"\", \"\", ONLY_WILDCARD_REG_EXP_STR] : [\"\", \"\", LABEL_REG_EXP_STR] : token === \"/*\" ? [\"\", \"\", TAIL_WILDCARD_REG_EXP_STR] : token.match(/^\\:([^\\{\\}]+)(?:\\{(.+)\\})?$/);\n    let node;\n    if (pattern) {\n      const name = pattern[1];\n      let regexpStr = pattern[2] || LABEL_REG_EXP_STR;\n      if (name && pattern[2]) {\n        if (regexpStr === \".*\") {\n          throw PATH_ERROR;\n        }\n        regexpStr = regexpStr.replace(/^\\((?!\\?:)(?=[^)]+\\)$)/, \"(?:\");\n        if (/\\((?!\\?:)/.test(regexpStr)) {\n          throw PATH_ERROR;\n        }\n      }\n      node = this.#children[regexpStr];\n      if (!node) {\n        if (Object.keys(this.#children).some(\n          (k) => k !== ONLY_WILDCARD_REG_EXP_STR && k !== TAIL_WILDCARD_REG_EXP_STR\n        )) {\n          throw PATH_ERROR;\n        }\n        if (pathErrorCheckOnly) {\n          return;\n        }\n        node = this.#children[regexpStr] = new _Node();\n        if (name !== \"\") {\n          node.#varIndex = context.varIndex++;\n        }\n      }\n      if (!pathErrorCheckOnly && name !== \"\") {\n        paramMap.push([name, node.#varIndex]);\n      }\n    } else {\n      node = this.#children[token];\n      if (!node) {\n        if (Object.keys(this.#children).some(\n          (k) => k.length > 1 && k !== ONLY_WILDCARD_REG_EXP_STR && k !== TAIL_WILDCARD_REG_EXP_STR\n        )) {\n          throw PATH_ERROR;\n        }\n        if (pathErrorCheckOnly) {\n          return;\n        }\n        node = this.#children[token] = new _Node();\n      }\n    }\n    node.insert(restTokens, index, paramMap, context, pathErrorCheckOnly);\n  }\n  buildRegExpStr() {\n    const childKeys = Object.keys(this.#children).sort(compareKey);\n    const strList = childKeys.map((k) => {\n      const c = this.#children[k];\n      return (typeof c.#varIndex === \"number\" ? `(${k})@${c.#varIndex}` : regExpMetaChars.has(k) ? `\\\\${k}` : k) + c.buildRegExpStr();\n    });\n    if (typeof this.#index === \"number\") {\n      strList.unshift(`#${this.#index}`);\n    }\n    if (strList.length === 0) {\n      return \"\";\n    }\n    if (strList.length === 1) {\n      return strList[0];\n    }\n    return \"(?:\" + strList.join(\"|\") + \")\";\n  }\n};\nexport {\n  Node,\n  PATH_ERROR\n};\n", "// src/router/reg-exp-router/trie.ts\nimport { Node } from \"./node.js\";\nvar Trie = class {\n  #context = { varIndex: 0 };\n  #root = new Node();\n  insert(path, index, pathErrorCheckOnly) {\n    const paramAssoc = [];\n    const groups = [];\n    for (let i = 0; ; ) {\n      let replaced = false;\n      path = path.replace(/\\{[^}]+\\}/g, (m) => {\n        const mark = `@\\\\${i}`;\n        groups[i] = [mark, m];\n        i++;\n        replaced = true;\n        return mark;\n      });\n      if (!replaced) {\n        break;\n      }\n    }\n    const tokens = path.match(/(?::[^\\/]+)|(?:\\/\\*$)|./g) || [];\n    for (let i = groups.length - 1; i >= 0; i--) {\n      const [mark] = groups[i];\n      for (let j = tokens.length - 1; j >= 0; j--) {\n        if (tokens[j].indexOf(mark) !== -1) {\n          tokens[j] = tokens[j].replace(mark, groups[i][1]);\n          break;\n        }\n      }\n    }\n    this.#root.insert(tokens, index, paramAssoc, this.#context, pathErrorCheckOnly);\n    return paramAssoc;\n  }\n  buildRegExp() {\n    let regexp = this.#root.buildRegExpStr();\n    if (regexp === \"\") {\n      return [/^$/, [], []];\n    }\n    let captureIndex = 0;\n    const indexReplacementMap = [];\n    const paramReplacementMap = [];\n    regexp = regexp.replace(/#(\\d+)|@(\\d+)|\\.\\*\\$/g, (_, handlerIndex, paramIndex) => {\n      if (handlerIndex !== void 0) {\n        indexReplacementMap[++captureIndex] = Number(handlerIndex);\n        return \"$()\";\n      }\n      if (paramIndex !== void 0) {\n        paramReplacementMap[Number(paramIndex)] = ++captureIndex;\n        return \"\";\n      }\n      return \"\";\n    });\n    return [new RegExp(`^${regexp}`), indexReplacementMap, paramReplacementMap];\n  }\n};\nexport {\n  Trie\n};\n", "// src/router/reg-exp-router/prepared-router.ts\nimport { METHOD_NAME_ALL } from \"../../router.js\";\nimport { match, emptyParam } from \"./matcher.js\";\nimport { RegExpRouter } from \"./router.js\";\nvar PreparedRegExpRouter = class {\n  name = \"PreparedRegExpRouter\";\n  #matchers;\n  #relocateMap;\n  constructor(matchers, relocateMap) {\n    this.#matchers = matchers;\n    this.#relocateMap = relocateMap;\n  }\n  #addWildcard(method, handlerData) {\n    const matcher = this.#matchers[method];\n    matcher[1].forEach((list) => list && list.push(handlerData));\n    Object.values(matcher[2]).forEach((list) => list[0].push(handlerData));\n  }\n  #addPath(method, path, handler, indexes, map) {\n    const matcher = this.#matchers[method];\n    if (!map) {\n      matcher[2][path][0].push([handler, {}]);\n    } else {\n      indexes.forEach((index) => {\n        if (typeof index === \"number\") {\n          matcher[1][index].push([handler, map]);\n        } else {\n          ;\n          matcher[2][index || path][0].push([handler, map]);\n        }\n      });\n    }\n  }\n  add(method, path, handler) {\n    if (!this.#matchers[method]) {\n      const all = this.#matchers[METHOD_NAME_ALL];\n      const staticMap = {};\n      for (const key in all[2]) {\n        staticMap[key] = [all[2][key][0].slice(), emptyParam];\n      }\n      this.#matchers[method] = [\n        all[0],\n        all[1].map((list) => Array.isArray(list) ? list.slice() : 0),\n        staticMap\n      ];\n    }\n    if (path === \"/*\" || path === \"*\") {\n      const handlerData = [handler, {}];\n      if (method === METHOD_NAME_ALL) {\n        for (const m in this.#matchers) {\n          this.#addWildcard(m, handlerData);\n        }\n      } else {\n        this.#addWildcard(method, handlerData);\n      }\n      return;\n    }\n    const data = this.#relocateMap[path];\n    if (!data) {\n      throw new Error(`Path ${path} is not registered`);\n    }\n    for (const [indexes, map] of data) {\n      if (method === METHOD_NAME_ALL) {\n        for (const m in this.#matchers) {\n          this.#addPath(m, path, handler, indexes, map);\n        }\n      } else {\n        this.#addPath(method, path, handler, indexes, map);\n      }\n    }\n  }\n  buildAllMatchers() {\n    return this.#matchers;\n  }\n  match = match;\n};\nvar buildInitParams = ({ paths }) => {\n  const RegExpRouterWithMatcherExport = class extends RegExpRouter {\n    buildAndExportAllMatchers() {\n      return this.buildAllMatchers();\n    }\n  };\n  const router = new RegExpRouterWithMatcherExport();\n  for (const path of paths) {\n    router.add(METHOD_NAME_ALL, path, path);\n  }\n  const matchers = router.buildAndExportAllMatchers();\n  const all = matchers[METHOD_NAME_ALL];\n  const relocateMap = {};\n  for (const path of paths) {\n    if (path === \"/*\" || path === \"*\") {\n      continue;\n    }\n    all[1].forEach((list, i) => {\n      list.forEach(([p, map]) => {\n        if (p === path) {\n          if (relocateMap[path]) {\n            relocateMap[path][0][1] = {\n              ...relocateMap[path][0][1],\n              ...map\n            };\n          } else {\n            relocateMap[path] = [[[], map]];\n          }\n          if (relocateMap[path][0][0].findIndex((j) => j === i) === -1) {\n            relocateMap[path][0][0].push(i);\n          }\n        }\n      });\n    });\n    for (const path2 in all[2]) {\n      all[2][path2][0].forEach(([p]) => {\n        if (p === path) {\n          relocateMap[path] ||= [[[]]];\n          const value = path2 === path ? \"\" : path2;\n          if (relocateMap[path][0][0].findIndex((v) => v === value) === -1) {\n            relocateMap[path][0][0].push(value);\n          }\n        }\n      });\n    }\n  }\n  for (let i = 0, len = all[1].length; i < len; i++) {\n    all[1][i] = all[1][i] ? [] : 0;\n  }\n  for (const path in all[2]) {\n    all[2][path][0] = [];\n  }\n  return [matchers, relocateMap];\n};\nvar serializeInitParams = ([matchers, relocateMap]) => {\n  const matchersStr = JSON.stringify(\n    matchers,\n    (_, value) => value instanceof RegExp ? `##${value.toString()}##` : value\n  ).replace(/\"##(.+?)##\"/g, (_, str) => str.replace(/\\\\\\\\/g, \"\\\\\"));\n  const relocateMapStr = JSON.stringify(relocateMap);\n  return `[${matchersStr},${relocateMapStr}]`;\n};\nexport {\n  PreparedRegExpRouter,\n  buildInitParams,\n  serializeInitParams\n};\n", "// src/router/smart-router/index.ts\nimport { SmartRouter } from \"./router.js\";\nexport {\n  SmartRouter\n};\n", "// src/router/smart-router/router.ts\nimport { MESSAGE_MATCHER_IS_ALREADY_BUILT, UnsupportedPathError } from \"../../router.js\";\nvar SmartRouter = class {\n  name = \"SmartRouter\";\n  #routers = [];\n  #routes = [];\n  constructor(init) {\n    this.#routers = init.routers;\n  }\n  add(method, path, handler) {\n    if (!this.#routes) {\n      throw new Error(MESSAGE_MATCHER_IS_ALREADY_BUILT);\n    }\n    this.#routes.push([method, path, handler]);\n  }\n  match(method, path) {\n    if (!this.#routes) {\n      throw new Error(\"Fatal error\");\n    }\n    const routers = this.#routers;\n    const routes = this.#routes;\n    const len = routers.length;\n    let i = 0;\n    let res;\n    for (; i < len; i++) {\n      const router = routers[i];\n      try {\n        for (let i2 = 0, len2 = routes.length; i2 < len2; i2++) {\n          router.add(...routes[i2]);\n        }\n        res = router.match(method, path);\n      } catch (e) {\n        if (e instanceof UnsupportedPathError) {\n          continue;\n        }\n        throw e;\n      }\n      this.match = router.match.bind(router);\n      this.#routers = [router];\n      this.#routes = void 0;\n      break;\n    }\n    if (i === len) {\n      throw new Error(\"Fatal error\");\n    }\n    this.name = `SmartRouter + ${this.activeRouter.name}`;\n    return res;\n  }\n  get activeRouter() {\n    if (this.#routes || this.#routers.length !== 1) {\n      throw new Error(\"No active router has been determined yet.\");\n    }\n    return this.#routers[0];\n  }\n};\nexport {\n  SmartRouter\n};\n", "// src/router/trie-router/index.ts\nimport { TrieRouter } from \"./router.js\";\nexport {\n  TrieRouter\n};\n", "// src/router/trie-router/router.ts\nimport { checkOptionalParameter } from \"../../utils/url.js\";\nimport { Node } from \"./node.js\";\nvar TrieRouter = class {\n  name = \"TrieRouter\";\n  #node;\n  constructor() {\n    this.#node = new Node();\n  }\n  add(method, path, handler) {\n    const results = checkOptionalParameter(path);\n    if (results) {\n      for (let i = 0, len = results.length; i < len; i++) {\n        this.#node.insert(method, results[i], handler);\n      }\n      return;\n    }\n    this.#node.insert(method, path, handler);\n  }\n  match(method, path) {\n    return this.#node.search(method, path);\n  }\n};\nexport {\n  TrieRouter\n};\n", "// src/router/trie-router/node.ts\nimport { METHOD_NAME_ALL } from \"../../router.js\";\nimport { getPattern, splitPath, splitRoutingPath } from \"../../utils/url.js\";\nvar emptyParams = /* @__PURE__ */ Object.create(null);\nvar Node = class _Node {\n  #methods;\n  #children;\n  #patterns;\n  #order = 0;\n  #params = emptyParams;\n  constructor(method, handler, children) {\n    this.#children = children || /* @__PURE__ */ Object.create(null);\n    this.#methods = [];\n    if (method && handler) {\n      const m = /* @__PURE__ */ Object.create(null);\n      m[method] = { handler, possibleKeys: [], score: 0 };\n      this.#methods = [m];\n    }\n    this.#patterns = [];\n  }\n  insert(method, path, handler) {\n    this.#order = ++this.#order;\n    let curNode = this;\n    const parts = splitRoutingPath(path);\n    const possibleKeys = [];\n    for (let i = 0, len = parts.length; i < len; i++) {\n      const p = parts[i];\n      const nextP = parts[i + 1];\n      const pattern = getPattern(p, nextP);\n      const key = Array.isArray(pattern) ? pattern[0] : p;\n      if (key in curNode.#children) {\n        curNode = curNode.#children[key];\n        if (pattern) {\n          possibleKeys.push(pattern[1]);\n        }\n        continue;\n      }\n      curNode.#children[key] = new _Node();\n      if (pattern) {\n        curNode.#patterns.push(pattern);\n        possibleKeys.push(pattern[1]);\n      }\n      curNode = curNode.#children[key];\n    }\n    curNode.#methods.push({\n      [method]: {\n        handler,\n        possibleKeys: possibleKeys.filter((v, i, a) => a.indexOf(v) === i),\n        score: this.#order\n      }\n    });\n    return curNode;\n  }\n  #getHandlerSets(node, method, nodeParams, params) {\n    const handlerSets = [];\n    for (let i = 0, len = node.#methods.length; i < len; i++) {\n      const m = node.#methods[i];\n      const handlerSet = m[method] || m[METHOD_NAME_ALL];\n      const processedSet = {};\n      if (handlerSet !== void 0) {\n        handlerSet.params = /* @__PURE__ */ Object.create(null);\n        handlerSets.push(handlerSet);\n        if (nodeParams !== emptyParams || params && params !== emptyParams) {\n          for (let i2 = 0, len2 = handlerSet.possibleKeys.length; i2 < len2; i2++) {\n            const key = handlerSet.possibleKeys[i2];\n            const processed = processedSet[handlerSet.score];\n            handlerSet.params[key] = params?.[key] && !processed ? params[key] : nodeParams[key] ?? params?.[key];\n            processedSet[handlerSet.score] = true;\n          }\n        }\n      }\n    }\n    return handlerSets;\n  }\n  search(method, path) {\n    const handlerSets = [];\n    this.#params = emptyParams;\n    const curNode = this;\n    let curNodes = [curNode];\n    const parts = splitPath(path);\n    const curNodesQueue = [];\n    for (let i = 0, len = parts.length; i < len; i++) {\n      const part = parts[i];\n      const isLast = i === len - 1;\n      const tempNodes = [];\n      for (let j = 0, len2 = curNodes.length; j < len2; j++) {\n        const node = curNodes[j];\n        const nextNode = node.#children[part];\n        if (nextNode) {\n          nextNode.#params = node.#params;\n          if (isLast) {\n            if (nextNode.#children[\"*\"]) {\n              handlerSets.push(\n                ...this.#getHandlerSets(nextNode.#children[\"*\"], method, node.#params)\n              );\n            }\n            handlerSets.push(...this.#getHandlerSets(nextNode, method, node.#params));\n          } else {\n            tempNodes.push(nextNode);\n          }\n        }\n        for (let k = 0, len3 = node.#patterns.length; k < len3; k++) {\n          const pattern = node.#patterns[k];\n          const params = node.#params === emptyParams ? {} : { ...node.#params };\n          if (pattern === \"*\") {\n            const astNode = node.#children[\"*\"];\n            if (astNode) {\n              handlerSets.push(...this.#getHandlerSets(astNode, method, node.#params));\n              astNode.#params = params;\n              tempNodes.push(astNode);\n            }\n            continue;\n          }\n          const [key, name, matcher] = pattern;\n          if (!part && !(matcher instanceof RegExp)) {\n            continue;\n          }\n          const child = node.#children[key];\n          const restPathString = parts.slice(i).join(\"/\");\n          if (matcher instanceof RegExp) {\n            const m = matcher.exec(restPathString);\n            if (m) {\n              params[name] = m[0];\n              handlerSets.push(...this.#getHandlerSets(child, method, node.#params, params));\n              if (Object.keys(child.#children).length) {\n                child.#params = params;\n                const componentCount = m[0].match(/\\//)?.length ?? 0;\n                const targetCurNodes = curNodesQueue[componentCount] ||= [];\n                targetCurNodes.push(child);\n              }\n              continue;\n            }\n          }\n          if (matcher === true || matcher.test(part)) {\n            params[name] = part;\n            if (isLast) {\n              handlerSets.push(...this.#getHandlerSets(child, method, params, node.#params));\n              if (child.#children[\"*\"]) {\n                handlerSets.push(\n                  ...this.#getHandlerSets(child.#children[\"*\"], method, params, node.#params)\n                );\n              }\n            } else {\n              child.#params = params;\n              tempNodes.push(child);\n            }\n          }\n        }\n      }\n      curNodes = tempNodes.concat(curNodesQueue.shift() ?? []);\n    }\n    if (handlerSets.length > 1) {\n      handlerSets.sort((a, b) => {\n        return a.score - b.score;\n      });\n    }\n    return [handlerSets.map(({ handler, params }) => [handler, params])];\n  }\n};\nexport {\n  Node\n};\n", "import { App } from '@octokit/app';\n\nexport interface GitHubAuthConfig {\n  appId: string;\n  privateKey: string;\n}\n\nexport class GitHubIntegration {\n  private app: App;\n\n  constructor(config: GitHubAuthConfig) {\n    this.app = new App({\n      appId: config.appId,\n      privateKey: this.normalizePrivateKey(config.privateKey)\n    });\n  }\n\n  async getInstallationToken(installationId: number): Promise<string> {\n    const { data } = await this.app.octokit.request(\n      'POST /app/installations/{installation_id}/access_tokens',\n      { installation_id: installationId }\n    );\n\n    return data.token;\n  }\n\n  async getInstallationOctokit(installationId: number): Promise<ReturnType<typeof this.app.getInstallationOctokit>> {\n    return this.app.getInstallationOctokit(installationId);\n  }\n\n  async listRepositories(installationId: number) {\n    const octokit = await this.getInstallationOctokit(installationId);\n    const { data } = await octokit.request('GET /installation/repositories');\n    return data.repositories;\n  }\n\n  async getAuthenticatedCloneUrl(\n    owner: string,\n    repo: string,\n    installationId: number\n  ): Promise<{ cloneUrl: string; token: string }> {\n    const token = await this.getInstallationToken(installationId);\n    const cloneUrl = `https://x-access-token:${token}@github.com/${owner}/${repo}.git`;\n    return { cloneUrl, token };\n  }\n\n  private normalizePrivateKey(key: string): string {\n    if (key.includes('\\n')) {\n      return key.replace(/\\\\n/g, '\\n');\n    }\n    return key;\n  }\n}\n", "// pkg/dist-src/index.js\nimport { Octokit as OctokitCore } from \"@octokit/core\";\nimport { createAppAuth as createAppAuth3 } from \"@octokit/auth-app\";\nimport { OAuthApp } from \"@octokit/oauth-app\";\n\n// pkg/dist-src/version.js\nvar VERSION = \"14.1.0\";\n\n// pkg/dist-src/webhooks.js\nimport { createAppAuth } from \"@octokit/auth-app\";\nimport { createUnauthenticatedAuth } from \"@octokit/auth-unauthenticated\";\nimport { Webhooks } from \"@octokit/webhooks\";\nfunction webhooks(appOctokit, options) {\n  return new Webhooks({\n    secret: options.secret,\n    transform: async (event) => {\n      if (!(\"installation\" in event.payload) || typeof event.payload.installation !== \"object\") {\n        const octokit2 = new appOctokit.constructor({\n          authStrategy: createUnauthenticatedAuth,\n          auth: {\n            reason: `\"installation\" key missing in webhook event payload`\n          }\n        });\n        return {\n          ...event,\n          octokit: octokit2\n        };\n      }\n      const installationId = event.payload.installation.id;\n      const octokit = await appOctokit.auth({\n        type: \"installation\",\n        installationId,\n        factory(auth) {\n          return new auth.octokit.constructor({\n            ...auth.octokitOptions,\n            authStrategy: createAppAuth,\n            ...{\n              auth: {\n                ...auth,\n                installationId\n              }\n            }\n          });\n        }\n      });\n      octokit.hook.before(\"request\", (options2) => {\n        options2.headers[\"x-github-delivery\"] = event.id;\n      });\n      return {\n        ...event,\n        octokit\n      };\n    }\n  });\n}\n\n// pkg/dist-src/each-installation.js\nimport { composePaginateRest } from \"@octokit/plugin-paginate-rest\";\n\n// pkg/dist-src/get-installation-octokit.js\nimport { createAppAuth as createAppAuth2 } from \"@octokit/auth-app\";\nasync function getInstallationOctokit(app, installationId) {\n  return app.octokit.auth({\n    type: \"installation\",\n    installationId,\n    factory(auth) {\n      const options = {\n        ...auth.octokitOptions,\n        authStrategy: createAppAuth2,\n        ...{ auth: { ...auth, installationId } }\n      };\n      return new auth.octokit.constructor(options);\n    }\n  });\n}\n\n// pkg/dist-src/each-installation.js\nfunction eachInstallationFactory(app) {\n  return Object.assign(eachInstallation.bind(null, app), {\n    iterator: eachInstallationIterator.bind(null, app)\n  });\n}\nasync function eachInstallation(app, callback) {\n  const i = eachInstallationIterator(app)[Symbol.asyncIterator]();\n  let result = await i.next();\n  while (!result.done) {\n    await callback(result.value);\n    result = await i.next();\n  }\n}\nfunction eachInstallationIterator(app) {\n  return {\n    async *[Symbol.asyncIterator]() {\n      const iterator = composePaginateRest.iterator(\n        app.octokit,\n        \"GET /app/installations\"\n      );\n      for await (const { data: installations } of iterator) {\n        for (const installation of installations) {\n          const installationOctokit = await getInstallationOctokit(\n            app,\n            installation.id\n          );\n          yield { octokit: installationOctokit, installation };\n        }\n      }\n    }\n  };\n}\n\n// pkg/dist-src/each-repository.js\nimport { composePaginateRest as composePaginateRest2 } from \"@octokit/plugin-paginate-rest\";\nfunction eachRepositoryFactory(app) {\n  return Object.assign(eachRepository.bind(null, app), {\n    iterator: eachRepositoryIterator.bind(null, app)\n  });\n}\nasync function eachRepository(app, queryOrCallback, callback) {\n  const i = eachRepositoryIterator(\n    app,\n    callback ? queryOrCallback : void 0\n  )[Symbol.asyncIterator]();\n  let result = await i.next();\n  while (!result.done) {\n    if (callback) {\n      await callback(result.value);\n    } else {\n      await queryOrCallback(result.value);\n    }\n    result = await i.next();\n  }\n}\nfunction singleInstallationIterator(app, installationId) {\n  return {\n    async *[Symbol.asyncIterator]() {\n      yield {\n        octokit: await app.getInstallationOctokit(installationId)\n      };\n    }\n  };\n}\nfunction eachRepositoryIterator(app, query) {\n  return {\n    async *[Symbol.asyncIterator]() {\n      const iterator = query ? singleInstallationIterator(app, query.installationId) : app.eachInstallation.iterator();\n      for await (const { octokit } of iterator) {\n        const repositoriesIterator = composePaginateRest2.iterator(\n          octokit,\n          \"GET /installation/repositories\"\n        );\n        for await (const { data: repositories } of repositoriesIterator) {\n          for (const repository of repositories) {\n            yield { octokit, repository };\n          }\n        }\n      }\n    }\n  };\n}\n\n// pkg/dist-src/middleware/node/index.js\nimport {\n  createNodeMiddleware as oauthNodeMiddleware,\n  sendNodeResponse,\n  unknownRouteResponse\n} from \"@octokit/oauth-app\";\nimport { createNodeMiddleware as webhooksNodeMiddleware } from \"@octokit/webhooks\";\nfunction noop() {\n}\nfunction createNodeMiddleware(app, options = {}) {\n  const log = Object.assign(\n    {\n      debug: noop,\n      info: noop,\n      warn: console.warn.bind(console),\n      error: console.error.bind(console)\n    },\n    options.log\n  );\n  const optionsWithDefaults = {\n    pathPrefix: \"/api/github\",\n    ...options,\n    log\n  };\n  const webhooksMiddleware = webhooksNodeMiddleware(app.webhooks, {\n    path: optionsWithDefaults.pathPrefix + \"/webhooks\",\n    log\n  });\n  const oauthMiddleware = oauthNodeMiddleware(app.oauth, {\n    pathPrefix: optionsWithDefaults.pathPrefix + \"/oauth\"\n  });\n  return middleware.bind(\n    null,\n    optionsWithDefaults.pathPrefix,\n    webhooksMiddleware,\n    oauthMiddleware\n  );\n}\nasync function middleware(pathPrefix, webhooksMiddleware, oauthMiddleware, request, response, next) {\n  const { pathname } = new URL(request.url, \"http://localhost\");\n  if (pathname.startsWith(`${pathPrefix}/`)) {\n    if (pathname === `${pathPrefix}/webhooks`) {\n      webhooksMiddleware(request, response);\n    } else if (pathname.startsWith(`${pathPrefix}/oauth/`)) {\n      oauthMiddleware(request, response);\n    } else {\n      sendNodeResponse(unknownRouteResponse(request), response);\n    }\n    return true;\n  } else {\n    next?.();\n    return false;\n  }\n}\n\n// pkg/dist-src/index.js\nvar App = class {\n  static {\n    this.VERSION = VERSION;\n  }\n  static defaults(defaults) {\n    const AppWithDefaults = class extends this {\n      constructor(...args) {\n        super({\n          ...defaults,\n          ...args[0]\n        });\n      }\n    };\n    return AppWithDefaults;\n  }\n  constructor(options) {\n    const Octokit = options.Octokit || OctokitCore;\n    const authOptions = Object.assign(\n      {\n        appId: options.appId,\n        privateKey: options.privateKey\n      },\n      options.oauth ? {\n        clientId: options.oauth.clientId,\n        clientSecret: options.oauth.clientSecret\n      } : {}\n    );\n    this.octokit = new Octokit({\n      authStrategy: createAppAuth3,\n      auth: authOptions,\n      log: options.log\n    });\n    this.log = Object.assign(\n      {\n        debug: () => {\n        },\n        info: () => {\n        },\n        warn: console.warn.bind(console),\n        error: console.error.bind(console)\n      },\n      options.log\n    );\n    if (options.webhooks) {\n      this.webhooks = webhooks(this.octokit, options.webhooks);\n    } else {\n      Object.defineProperty(this, \"webhooks\", {\n        get() {\n          throw new Error(\"[@octokit/app] webhooks option not set\");\n        }\n      });\n    }\n    if (options.oauth) {\n      this.oauth = new OAuthApp({\n        ...options.oauth,\n        clientType: \"github-app\",\n        Octokit\n      });\n    } else {\n      Object.defineProperty(this, \"oauth\", {\n        get() {\n          throw new Error(\n            \"[@octokit/app] oauth.clientId / oauth.clientSecret options are not set\"\n          );\n        }\n      });\n    }\n    this.getInstallationOctokit = getInstallationOctokit.bind(\n      null,\n      this\n    );\n    this.eachInstallation = eachInstallationFactory(\n      this\n    );\n    this.eachRepository = eachRepositoryFactory(\n      this\n    );\n  }\n};\nexport {\n  App,\n  createNodeMiddleware\n};\n", "// pkg/dist-src/createLogger.js\nvar createLogger = (logger = {}) => {\n  if (typeof logger.debug !== \"function\") {\n    logger.debug = () => {\n    };\n  }\n  if (typeof logger.info !== \"function\") {\n    logger.info = () => {\n    };\n  }\n  if (typeof logger.warn !== \"function\") {\n    logger.warn = console.warn.bind(console);\n  }\n  if (typeof logger.error !== \"function\") {\n    logger.error = console.error.bind(console);\n  }\n  return logger;\n};\n\n// pkg/dist-src/generated/webhook-names.js\nvar emitterEventNames = [\n  \"branch_protection_configuration\",\n  \"branch_protection_configuration.disabled\",\n  \"branch_protection_configuration.enabled\",\n  \"branch_protection_rule\",\n  \"branch_protection_rule.created\",\n  \"branch_protection_rule.deleted\",\n  \"branch_protection_rule.edited\",\n  \"check_run\",\n  \"check_run.completed\",\n  \"check_run.created\",\n  \"check_run.requested_action\",\n  \"check_run.rerequested\",\n  \"check_suite\",\n  \"check_suite.completed\",\n  \"check_suite.requested\",\n  \"check_suite.rerequested\",\n  \"code_scanning_alert\",\n  \"code_scanning_alert.appeared_in_branch\",\n  \"code_scanning_alert.closed_by_user\",\n  \"code_scanning_alert.created\",\n  \"code_scanning_alert.fixed\",\n  \"code_scanning_alert.reopened\",\n  \"code_scanning_alert.reopened_by_user\",\n  \"commit_comment\",\n  \"commit_comment.created\",\n  \"create\",\n  \"custom_property\",\n  \"custom_property.created\",\n  \"custom_property.deleted\",\n  \"custom_property_values\",\n  \"custom_property_values.updated\",\n  \"delete\",\n  \"dependabot_alert\",\n  \"dependabot_alert.created\",\n  \"dependabot_alert.dismissed\",\n  \"dependabot_alert.fixed\",\n  \"dependabot_alert.reintroduced\",\n  \"dependabot_alert.reopened\",\n  \"deploy_key\",\n  \"deploy_key.created\",\n  \"deploy_key.deleted\",\n  \"deployment\",\n  \"deployment.created\",\n  \"deployment_protection_rule\",\n  \"deployment_protection_rule.requested\",\n  \"deployment_review\",\n  \"deployment_review.approved\",\n  \"deployment_review.rejected\",\n  \"deployment_review.requested\",\n  \"deployment_status\",\n  \"deployment_status.created\",\n  \"discussion\",\n  \"discussion.answered\",\n  \"discussion.category_changed\",\n  \"discussion.created\",\n  \"discussion.deleted\",\n  \"discussion.edited\",\n  \"discussion.labeled\",\n  \"discussion.locked\",\n  \"discussion.pinned\",\n  \"discussion.transferred\",\n  \"discussion.unanswered\",\n  \"discussion.unlabeled\",\n  \"discussion.unlocked\",\n  \"discussion.unpinned\",\n  \"discussion_comment\",\n  \"discussion_comment.created\",\n  \"discussion_comment.deleted\",\n  \"discussion_comment.edited\",\n  \"fork\",\n  \"github_app_authorization\",\n  \"github_app_authorization.revoked\",\n  \"gollum\",\n  \"installation\",\n  \"installation.created\",\n  \"installation.deleted\",\n  \"installation.new_permissions_accepted\",\n  \"installation.suspend\",\n  \"installation.unsuspend\",\n  \"installation_repositories\",\n  \"installation_repositories.added\",\n  \"installation_repositories.removed\",\n  \"installation_target\",\n  \"installation_target.renamed\",\n  \"issue_comment\",\n  \"issue_comment.created\",\n  \"issue_comment.deleted\",\n  \"issue_comment.edited\",\n  \"issues\",\n  \"issues.assigned\",\n  \"issues.closed\",\n  \"issues.deleted\",\n  \"issues.demilestoned\",\n  \"issues.edited\",\n  \"issues.labeled\",\n  \"issues.locked\",\n  \"issues.milestoned\",\n  \"issues.opened\",\n  \"issues.pinned\",\n  \"issues.reopened\",\n  \"issues.transferred\",\n  \"issues.unassigned\",\n  \"issues.unlabeled\",\n  \"issues.unlocked\",\n  \"issues.unpinned\",\n  \"label\",\n  \"label.created\",\n  \"label.deleted\",\n  \"label.edited\",\n  \"marketplace_purchase\",\n  \"marketplace_purchase.cancelled\",\n  \"marketplace_purchase.changed\",\n  \"marketplace_purchase.pending_change\",\n  \"marketplace_purchase.pending_change_cancelled\",\n  \"marketplace_purchase.purchased\",\n  \"member\",\n  \"member.added\",\n  \"member.edited\",\n  \"member.removed\",\n  \"membership\",\n  \"membership.added\",\n  \"membership.removed\",\n  \"merge_group\",\n  \"merge_group.checks_requested\",\n  \"merge_group.destroyed\",\n  \"meta\",\n  \"meta.deleted\",\n  \"milestone\",\n  \"milestone.closed\",\n  \"milestone.created\",\n  \"milestone.deleted\",\n  \"milestone.edited\",\n  \"milestone.opened\",\n  \"org_block\",\n  \"org_block.blocked\",\n  \"org_block.unblocked\",\n  \"organization\",\n  \"organization.deleted\",\n  \"organization.member_added\",\n  \"organization.member_invited\",\n  \"organization.member_removed\",\n  \"organization.renamed\",\n  \"package\",\n  \"package.published\",\n  \"package.updated\",\n  \"page_build\",\n  \"ping\",\n  \"project\",\n  \"project.closed\",\n  \"project.created\",\n  \"project.deleted\",\n  \"project.edited\",\n  \"project.reopened\",\n  \"project_card\",\n  \"project_card.converted\",\n  \"project_card.created\",\n  \"project_card.deleted\",\n  \"project_card.edited\",\n  \"project_card.moved\",\n  \"project_column\",\n  \"project_column.created\",\n  \"project_column.deleted\",\n  \"project_column.edited\",\n  \"project_column.moved\",\n  \"projects_v2_item\",\n  \"projects_v2_item.archived\",\n  \"projects_v2_item.converted\",\n  \"projects_v2_item.created\",\n  \"projects_v2_item.deleted\",\n  \"projects_v2_item.edited\",\n  \"projects_v2_item.reordered\",\n  \"projects_v2_item.restored\",\n  \"public\",\n  \"pull_request\",\n  \"pull_request.assigned\",\n  \"pull_request.auto_merge_disabled\",\n  \"pull_request.auto_merge_enabled\",\n  \"pull_request.closed\",\n  \"pull_request.converted_to_draft\",\n  \"pull_request.demilestoned\",\n  \"pull_request.dequeued\",\n  \"pull_request.edited\",\n  \"pull_request.enqueued\",\n  \"pull_request.labeled\",\n  \"pull_request.locked\",\n  \"pull_request.milestoned\",\n  \"pull_request.opened\",\n  \"pull_request.ready_for_review\",\n  \"pull_request.reopened\",\n  \"pull_request.review_request_removed\",\n  \"pull_request.review_requested\",\n  \"pull_request.synchronize\",\n  \"pull_request.unassigned\",\n  \"pull_request.unlabeled\",\n  \"pull_request.unlocked\",\n  \"pull_request_review\",\n  \"pull_request_review.dismissed\",\n  \"pull_request_review.edited\",\n  \"pull_request_review.submitted\",\n  \"pull_request_review_comment\",\n  \"pull_request_review_comment.created\",\n  \"pull_request_review_comment.deleted\",\n  \"pull_request_review_comment.edited\",\n  \"pull_request_review_thread\",\n  \"pull_request_review_thread.resolved\",\n  \"pull_request_review_thread.unresolved\",\n  \"push\",\n  \"registry_package\",\n  \"registry_package.published\",\n  \"registry_package.updated\",\n  \"release\",\n  \"release.created\",\n  \"release.deleted\",\n  \"release.edited\",\n  \"release.prereleased\",\n  \"release.published\",\n  \"release.released\",\n  \"release.unpublished\",\n  \"repository\",\n  \"repository.archived\",\n  \"repository.created\",\n  \"repository.deleted\",\n  \"repository.edited\",\n  \"repository.privatized\",\n  \"repository.publicized\",\n  \"repository.renamed\",\n  \"repository.transferred\",\n  \"repository.unarchived\",\n  \"repository_dispatch\",\n  \"repository_import\",\n  \"repository_vulnerability_alert\",\n  \"repository_vulnerability_alert.create\",\n  \"repository_vulnerability_alert.dismiss\",\n  \"repository_vulnerability_alert.reopen\",\n  \"repository_vulnerability_alert.resolve\",\n  \"secret_scanning_alert\",\n  \"secret_scanning_alert.created\",\n  \"secret_scanning_alert.reopened\",\n  \"secret_scanning_alert.resolved\",\n  \"secret_scanning_alert.revoked\",\n  \"secret_scanning_alert_location\",\n  \"secret_scanning_alert_location.created\",\n  \"security_advisory\",\n  \"security_advisory.performed\",\n  \"security_advisory.published\",\n  \"security_advisory.updated\",\n  \"security_advisory.withdrawn\",\n  \"sponsorship\",\n  \"sponsorship.cancelled\",\n  \"sponsorship.created\",\n  \"sponsorship.edited\",\n  \"sponsorship.pending_cancellation\",\n  \"sponsorship.pending_tier_change\",\n  \"sponsorship.tier_changed\",\n  \"star\",\n  \"star.created\",\n  \"star.deleted\",\n  \"status\",\n  \"team\",\n  \"team.added_to_repository\",\n  \"team.created\",\n  \"team.deleted\",\n  \"team.edited\",\n  \"team.removed_from_repository\",\n  \"team_add\",\n  \"watch\",\n  \"watch.started\",\n  \"workflow_dispatch\",\n  \"workflow_job\",\n  \"workflow_job.completed\",\n  \"workflow_job.in_progress\",\n  \"workflow_job.queued\",\n  \"workflow_job.waiting\",\n  \"workflow_run\",\n  \"workflow_run.completed\",\n  \"workflow_run.in_progress\",\n  \"workflow_run.requested\"\n];\n\n// pkg/dist-src/event-handler/on.js\nfunction handleEventHandlers(state, webhookName, handler) {\n  if (!state.hooks[webhookName]) {\n    state.hooks[webhookName] = [];\n  }\n  state.hooks[webhookName].push(handler);\n}\nfunction receiverOn(state, webhookNameOrNames, handler) {\n  if (Array.isArray(webhookNameOrNames)) {\n    webhookNameOrNames.forEach(\n      (webhookName) => receiverOn(state, webhookName, handler)\n    );\n    return;\n  }\n  if ([\"*\", \"error\"].includes(webhookNameOrNames)) {\n    const webhookName = webhookNameOrNames === \"*\" ? \"any\" : webhookNameOrNames;\n    const message = `Using the \"${webhookNameOrNames}\" event with the regular Webhooks.on() function is not supported. Please use the Webhooks.on${webhookName.charAt(0).toUpperCase() + webhookName.slice(1)}() method instead`;\n    throw new Error(message);\n  }\n  if (!emitterEventNames.includes(webhookNameOrNames)) {\n    state.log.warn(\n      `\"${webhookNameOrNames}\" is not a known webhook name (https://developer.github.com/v3/activity/events/types/)`\n    );\n  }\n  handleEventHandlers(state, webhookNameOrNames, handler);\n}\nfunction receiverOnAny(state, handler) {\n  handleEventHandlers(state, \"*\", handler);\n}\nfunction receiverOnError(state, handler) {\n  handleEventHandlers(state, \"error\", handler);\n}\n\n// pkg/dist-src/event-handler/receive.js\nimport AggregateError from \"aggregate-error\";\n\n// pkg/dist-src/event-handler/wrap-error-handler.js\nfunction wrapErrorHandler(handler, error) {\n  let returnValue;\n  try {\n    returnValue = handler(error);\n  } catch (error2) {\n    console.log('FATAL: Error occurred in \"error\" event handler');\n    console.log(error2);\n  }\n  if (returnValue && returnValue.catch) {\n    returnValue.catch((error2) => {\n      console.log('FATAL: Error occurred in \"error\" event handler');\n      console.log(error2);\n    });\n  }\n}\n\n// pkg/dist-src/event-handler/receive.js\nfunction getHooks(state, eventPayloadAction, eventName) {\n  const hooks = [state.hooks[eventName], state.hooks[\"*\"]];\n  if (eventPayloadAction) {\n    hooks.unshift(state.hooks[`${eventName}.${eventPayloadAction}`]);\n  }\n  return [].concat(...hooks.filter(Boolean));\n}\nfunction receiverHandle(state, event) {\n  const errorHandlers = state.hooks.error || [];\n  if (event instanceof Error) {\n    const error = Object.assign(new AggregateError([event]), {\n      event,\n      errors: [event]\n    });\n    errorHandlers.forEach((handler) => wrapErrorHandler(handler, error));\n    return Promise.reject(error);\n  }\n  if (!event || !event.name) {\n    throw new AggregateError([\"Event name not passed\"]);\n  }\n  if (!event.payload) {\n    throw new AggregateError([\"Event payload not passed\"]);\n  }\n  const hooks = getHooks(\n    state,\n    \"action\" in event.payload ? event.payload.action : null,\n    event.name\n  );\n  if (hooks.length === 0) {\n    return Promise.resolve();\n  }\n  const errors = [];\n  const promises = hooks.map((handler) => {\n    let promise = Promise.resolve(event);\n    if (state.transform) {\n      promise = promise.then(state.transform);\n    }\n    return promise.then((event2) => {\n      return handler(event2);\n    }).catch((error) => errors.push(Object.assign(error, { event })));\n  });\n  return Promise.all(promises).then(() => {\n    if (errors.length === 0) {\n      return;\n    }\n    const error = new AggregateError(errors);\n    Object.assign(error, {\n      event,\n      errors\n    });\n    errorHandlers.forEach((handler) => wrapErrorHandler(handler, error));\n    throw error;\n  });\n}\n\n// pkg/dist-src/event-handler/remove-listener.js\nfunction removeListener(state, webhookNameOrNames, handler) {\n  if (Array.isArray(webhookNameOrNames)) {\n    webhookNameOrNames.forEach(\n      (webhookName) => removeListener(state, webhookName, handler)\n    );\n    return;\n  }\n  if (!state.hooks[webhookNameOrNames]) {\n    return;\n  }\n  for (let i = state.hooks[webhookNameOrNames].length - 1; i >= 0; i--) {\n    if (state.hooks[webhookNameOrNames][i] === handler) {\n      state.hooks[webhookNameOrNames].splice(i, 1);\n      return;\n    }\n  }\n}\n\n// pkg/dist-src/event-handler/index.js\nfunction createEventHandler(options) {\n  const state = {\n    hooks: {},\n    log: createLogger(options && options.log)\n  };\n  if (options && options.transform) {\n    state.transform = options.transform;\n  }\n  return {\n    on: receiverOn.bind(null, state),\n    onAny: receiverOnAny.bind(null, state),\n    onError: receiverOnError.bind(null, state),\n    removeListener: removeListener.bind(null, state),\n    receive: receiverHandle.bind(null, state)\n  };\n}\n\n// pkg/dist-src/index.js\nimport { sign, verify as verify2 } from \"@octokit/webhooks-methods\";\n\n// pkg/dist-src/verify-and-receive.js\nimport AggregateError2 from \"aggregate-error\";\nimport { verify } from \"@octokit/webhooks-methods\";\nasync function verifyAndReceive(state, event) {\n  const matchesSignature = await verify(\n    state.secret,\n    event.payload,\n    event.signature\n  ).catch(() => false);\n  if (!matchesSignature) {\n    const error = new Error(\n      \"[@octokit/webhooks] signature does not match event payload and secret\"\n    );\n    return state.eventHandler.receive(\n      Object.assign(error, { event, status: 400 })\n    );\n  }\n  let payload;\n  try {\n    payload = JSON.parse(event.payload);\n  } catch (error) {\n    error.message = \"Invalid JSON\";\n    error.status = 400;\n    throw new AggregateError2([error]);\n  }\n  return state.eventHandler.receive({\n    id: event.id,\n    name: event.name,\n    payload\n  });\n}\n\n// pkg/dist-src/middleware/node/get-missing-headers.js\nvar WEBHOOK_HEADERS = [\n  \"x-github-event\",\n  \"x-hub-signature-256\",\n  \"x-github-delivery\"\n];\nfunction getMissingHeaders(request) {\n  return WEBHOOK_HEADERS.filter((header) => !(header in request.headers));\n}\n\n// pkg/dist-src/middleware/node/get-payload.js\nimport AggregateError3 from \"aggregate-error\";\nfunction getPayload(request) {\n  if (\"body\" in request) {\n    if (typeof request.body === \"object\" && \"rawBody\" in request && request.rawBody instanceof Buffer) {\n      return Promise.resolve(request.rawBody.toString(\"utf8\"));\n    } else {\n      return Promise.resolve(request.body);\n    }\n  }\n  return new Promise((resolve, reject) => {\n    let data = [];\n    request.on(\"error\", (error) => reject(new AggregateError3([error])));\n    request.on(\"data\", (chunk) => data.push(chunk));\n    request.on(\n      \"end\",\n      () => (\n        // setImmediate improves the throughput by reducing the pressure from\n        // the event loop\n        setImmediate(\n          resolve,\n          data.length === 1 ? data[0].toString(\"utf8\") : Buffer.concat(data).toString(\"utf8\")\n        )\n      )\n    );\n  });\n}\n\n// pkg/dist-src/middleware/node/on-unhandled-request-default.js\nfunction onUnhandledRequestDefault(request, response) {\n  response.writeHead(404, {\n    \"content-type\": \"application/json\"\n  });\n  response.end(\n    JSON.stringify({\n      error: `Unknown route: ${request.method} ${request.url}`\n    })\n  );\n}\n\n// pkg/dist-src/middleware/node/middleware.js\nasync function middleware(webhooks, options, request, response, next) {\n  let pathname;\n  try {\n    pathname = new URL(request.url, \"http://localhost\").pathname;\n  } catch (error) {\n    response.writeHead(422, {\n      \"content-type\": \"application/json\"\n    });\n    response.end(\n      JSON.stringify({\n        error: `Request URL could not be parsed: ${request.url}`\n      })\n    );\n    return true;\n  }\n  if (pathname !== options.path) {\n    next?.();\n    return false;\n  } else if (request.method !== \"POST\") {\n    onUnhandledRequestDefault(request, response);\n    return true;\n  }\n  if (!request.headers[\"content-type\"] || !request.headers[\"content-type\"].startsWith(\"application/json\")) {\n    response.writeHead(415, {\n      \"content-type\": \"application/json\",\n      accept: \"application/json\"\n    });\n    response.end(\n      JSON.stringify({\n        error: `Unsupported \"Content-Type\" header value. Must be \"application/json\"`\n      })\n    );\n    return true;\n  }\n  const missingHeaders = getMissingHeaders(request).join(\", \");\n  if (missingHeaders) {\n    response.writeHead(400, {\n      \"content-type\": \"application/json\"\n    });\n    response.end(\n      JSON.stringify({\n        error: `Required headers missing: ${missingHeaders}`\n      })\n    );\n    return true;\n  }\n  const eventName = request.headers[\"x-github-event\"];\n  const signatureSHA256 = request.headers[\"x-hub-signature-256\"];\n  const id = request.headers[\"x-github-delivery\"];\n  options.log.debug(`${eventName} event received (id: ${id})`);\n  let didTimeout = false;\n  const timeout = setTimeout(() => {\n    didTimeout = true;\n    response.statusCode = 202;\n    response.end(\"still processing\\n\");\n  }, 9e3).unref();\n  try {\n    const payload = await getPayload(request);\n    await webhooks.verifyAndReceive({\n      id,\n      name: eventName,\n      payload,\n      signature: signatureSHA256\n    });\n    clearTimeout(timeout);\n    if (didTimeout)\n      return true;\n    response.end(\"ok\\n\");\n    return true;\n  } catch (error) {\n    clearTimeout(timeout);\n    if (didTimeout)\n      return true;\n    const err = Array.from(error)[0];\n    const errorMessage = err.message ? `${err.name}: ${err.message}` : \"Error: An Unspecified error occurred\";\n    response.statusCode = typeof err.status !== \"undefined\" ? err.status : 500;\n    options.log.error(error);\n    response.end(\n      JSON.stringify({\n        error: errorMessage\n      })\n    );\n    return true;\n  }\n}\n\n// pkg/dist-src/middleware/node/index.js\nfunction createNodeMiddleware(webhooks, {\n  path = \"/api/github/webhooks\",\n  log = createLogger()\n} = {}) {\n  return middleware.bind(null, webhooks, {\n    path,\n    log\n  });\n}\n\n// pkg/dist-src/index.js\nvar Webhooks = class {\n  constructor(options) {\n    if (!options || !options.secret) {\n      throw new Error(\"[@octokit/webhooks] options.secret required\");\n    }\n    const state = {\n      eventHandler: createEventHandler(options),\n      secret: options.secret,\n      hooks: {},\n      log: createLogger(options.log)\n    };\n    this.sign = sign.bind(null, options.secret);\n    this.verify = verify2.bind(null, options.secret);\n    this.on = state.eventHandler.on;\n    this.onAny = state.eventHandler.onAny;\n    this.onError = state.eventHandler.onError;\n    this.removeListener = state.eventHandler.removeListener;\n    this.receive = state.eventHandler.receive;\n    this.verifyAndReceive = verifyAndReceive.bind(null, state);\n  }\n};\nexport {\n  Webhooks,\n  createEventHandler,\n  createNodeMiddleware,\n  emitterEventNames\n};\n", "// pkg/dist-src/types.js\nvar Algorithm = /* @__PURE__ */ ((Algorithm2) => {\n  Algorithm2[\"SHA1\"] = \"sha1\";\n  Algorithm2[\"SHA256\"] = \"sha256\";\n  return Algorithm2;\n})(Algorithm || {});\n\n// pkg/dist-src/utils.js\nvar getAlgorithm = (signature) => {\n  return signature.startsWith(\"sha256=\") ? \"sha256\" : \"sha1\";\n};\n\n// pkg/dist-src/web.js\nvar enc = new TextEncoder();\nfunction hexToUInt8Array(string) {\n  const pairs = string.match(/[\\dA-F]{2}/gi);\n  const integers = pairs.map(function(s) {\n    return parseInt(s, 16);\n  });\n  return new Uint8Array(integers);\n}\nfunction UInt8ArrayToHex(signature) {\n  return Array.prototype.map.call(new Uint8Array(signature), (x) => x.toString(16).padStart(2, \"0\")).join(\"\");\n}\nfunction getHMACHashName(algorithm) {\n  return {\n    [Algorithm.SHA1]: \"SHA-1\",\n    [Algorithm.SHA256]: \"SHA-256\"\n  }[algorithm];\n}\nasync function importKey(secret, algorithm) {\n  return crypto.subtle.importKey(\n    \"raw\",\n    // raw format of the key - should be Uint8Array\n    enc.encode(secret),\n    {\n      // algorithm details\n      name: \"HMAC\",\n      hash: { name: getHMACHashName(algorithm) }\n    },\n    false,\n    // export = false\n    [\"sign\", \"verify\"]\n    // what this key can do\n  );\n}\nasync function sign(options, payload) {\n  const { secret, algorithm } = typeof options === \"object\" ? {\n    secret: options.secret,\n    algorithm: options.algorithm || Algorithm.SHA256\n  } : { secret: options, algorithm: Algorithm.SHA256 };\n  if (!secret || !payload) {\n    throw new TypeError(\n      \"[@octokit/webhooks-methods] secret & payload required for sign()\"\n    );\n  }\n  if (typeof payload !== \"string\") {\n    throw new TypeError(\"[@octokit/webhooks-methods] payload must be a string\");\n  }\n  if (!Object.values(Algorithm).includes(algorithm)) {\n    throw new TypeError(\n      `[@octokit/webhooks] Algorithm ${algorithm} is not supported. Must be  'sha1' or 'sha256'`\n    );\n  }\n  const signature = await crypto.subtle.sign(\n    \"HMAC\",\n    await importKey(secret, algorithm),\n    enc.encode(payload)\n  );\n  return `${algorithm}=${UInt8ArrayToHex(signature)}`;\n}\nasync function verify(secret, eventPayload, signature) {\n  if (!secret || !eventPayload || !signature) {\n    throw new TypeError(\n      \"[@octokit/webhooks-methods] secret, eventPayload & signature required\"\n    );\n  }\n  if (typeof eventPayload !== \"string\") {\n    throw new TypeError(\n      \"[@octokit/webhooks-methods] eventPayload must be a string\"\n    );\n  }\n  const algorithm = getAlgorithm(signature);\n  return await crypto.subtle.verify(\n    \"HMAC\",\n    await importKey(secret, algorithm),\n    hexToUInt8Array(signature.replace(`${algorithm}=`, \"\")),\n    enc.encode(eventPayload)\n  );\n}\nexport {\n  sign,\n  verify\n};\n", "// pkg/dist-src/version.js\nvar VERSION = \"9.2.2\";\n\n// pkg/dist-src/normalize-paginated-list-response.js\nfunction normalizePaginatedListResponse(response) {\n  if (!response.data) {\n    return {\n      ...response,\n      data: []\n    };\n  }\n  const responseNeedsNormalization = \"total_count\" in response.data && !(\"url\" in response.data);\n  if (!responseNeedsNormalization)\n    return response;\n  const incompleteResults = response.data.incomplete_results;\n  const repositorySelection = response.data.repository_selection;\n  const totalCount = response.data.total_count;\n  delete response.data.incomplete_results;\n  delete response.data.repository_selection;\n  delete response.data.total_count;\n  const namespaceKey = Object.keys(response.data)[0];\n  const data = response.data[namespaceKey];\n  response.data = data;\n  if (typeof incompleteResults !== \"undefined\") {\n    response.data.incomplete_results = incompleteResults;\n  }\n  if (typeof repositorySelection !== \"undefined\") {\n    response.data.repository_selection = repositorySelection;\n  }\n  response.data.total_count = totalCount;\n  return response;\n}\n\n// pkg/dist-src/iterator.js\nfunction iterator(octokit, route, parameters) {\n  const options = typeof route === \"function\" ? route.endpoint(parameters) : octokit.request.endpoint(route, parameters);\n  const requestMethod = typeof route === \"function\" ? route : octokit.request;\n  const method = options.method;\n  const headers = options.headers;\n  let url = options.url;\n  return {\n    [Symbol.asyncIterator]: () => ({\n      async next() {\n        if (!url)\n          return { done: true };\n        try {\n          const response = await requestMethod({ method, url, headers });\n          const normalizedResponse = normalizePaginatedListResponse(response);\n          url = ((normalizedResponse.headers.link || \"\").match(\n            /<([^<>]+)>;\\s*rel=\"next\"/\n          ) || [])[1];\n          return { value: normalizedResponse };\n        } catch (error) {\n          if (error.status !== 409)\n            throw error;\n          url = \"\";\n          return {\n            value: {\n              status: 200,\n              headers: {},\n              data: []\n            }\n          };\n        }\n      }\n    })\n  };\n}\n\n// pkg/dist-src/paginate.js\nfunction paginate(octokit, route, parameters, mapFn) {\n  if (typeof parameters === \"function\") {\n    mapFn = parameters;\n    parameters = void 0;\n  }\n  return gather(\n    octokit,\n    [],\n    iterator(octokit, route, parameters)[Symbol.asyncIterator](),\n    mapFn\n  );\n}\nfunction gather(octokit, results, iterator2, mapFn) {\n  return iterator2.next().then((result) => {\n    if (result.done) {\n      return results;\n    }\n    let earlyExit = false;\n    function done() {\n      earlyExit = true;\n    }\n    results = results.concat(\n      mapFn ? mapFn(result.value, done) : result.value.data\n    );\n    if (earlyExit) {\n      return results;\n    }\n    return gather(octokit, results, iterator2, mapFn);\n  });\n}\n\n// pkg/dist-src/compose-paginate.js\nvar composePaginateRest = Object.assign(paginate, {\n  iterator\n});\n\n// pkg/dist-src/generated/paginating-endpoints.js\nvar paginatingEndpoints = [\n  \"GET /advisories\",\n  \"GET /app/hook/deliveries\",\n  \"GET /app/installation-requests\",\n  \"GET /app/installations\",\n  \"GET /assignments/{assignment_id}/accepted_assignments\",\n  \"GET /classrooms\",\n  \"GET /classrooms/{classroom_id}/assignments\",\n  \"GET /enterprises/{enterprise}/dependabot/alerts\",\n  \"GET /enterprises/{enterprise}/secret-scanning/alerts\",\n  \"GET /events\",\n  \"GET /gists\",\n  \"GET /gists/public\",\n  \"GET /gists/starred\",\n  \"GET /gists/{gist_id}/comments\",\n  \"GET /gists/{gist_id}/commits\",\n  \"GET /gists/{gist_id}/forks\",\n  \"GET /installation/repositories\",\n  \"GET /issues\",\n  \"GET /licenses\",\n  \"GET /marketplace_listing/plans\",\n  \"GET /marketplace_listing/plans/{plan_id}/accounts\",\n  \"GET /marketplace_listing/stubbed/plans\",\n  \"GET /marketplace_listing/stubbed/plans/{plan_id}/accounts\",\n  \"GET /networks/{owner}/{repo}/events\",\n  \"GET /notifications\",\n  \"GET /organizations\",\n  \"GET /orgs/{org}/actions/cache/usage-by-repository\",\n  \"GET /orgs/{org}/actions/permissions/repositories\",\n  \"GET /orgs/{org}/actions/runners\",\n  \"GET /orgs/{org}/actions/secrets\",\n  \"GET /orgs/{org}/actions/secrets/{secret_name}/repositories\",\n  \"GET /orgs/{org}/actions/variables\",\n  \"GET /orgs/{org}/actions/variables/{name}/repositories\",\n  \"GET /orgs/{org}/blocks\",\n  \"GET /orgs/{org}/code-scanning/alerts\",\n  \"GET /orgs/{org}/codespaces\",\n  \"GET /orgs/{org}/codespaces/secrets\",\n  \"GET /orgs/{org}/codespaces/secrets/{secret_name}/repositories\",\n  \"GET /orgs/{org}/copilot/billing/seats\",\n  \"GET /orgs/{org}/dependabot/alerts\",\n  \"GET /orgs/{org}/dependabot/secrets\",\n  \"GET /orgs/{org}/dependabot/secrets/{secret_name}/repositories\",\n  \"GET /orgs/{org}/events\",\n  \"GET /orgs/{org}/failed_invitations\",\n  \"GET /orgs/{org}/hooks\",\n  \"GET /orgs/{org}/hooks/{hook_id}/deliveries\",\n  \"GET /orgs/{org}/installations\",\n  \"GET /orgs/{org}/invitations\",\n  \"GET /orgs/{org}/invitations/{invitation_id}/teams\",\n  \"GET /orgs/{org}/issues\",\n  \"GET /orgs/{org}/members\",\n  \"GET /orgs/{org}/members/{username}/codespaces\",\n  \"GET /orgs/{org}/migrations\",\n  \"GET /orgs/{org}/migrations/{migration_id}/repositories\",\n  \"GET /orgs/{org}/organization-roles/{role_id}/teams\",\n  \"GET /orgs/{org}/organization-roles/{role_id}/users\",\n  \"GET /orgs/{org}/outside_collaborators\",\n  \"GET /orgs/{org}/packages\",\n  \"GET /orgs/{org}/packages/{package_type}/{package_name}/versions\",\n  \"GET /orgs/{org}/personal-access-token-requests\",\n  \"GET /orgs/{org}/personal-access-token-requests/{pat_request_id}/repositories\",\n  \"GET /orgs/{org}/personal-access-tokens\",\n  \"GET /orgs/{org}/personal-access-tokens/{pat_id}/repositories\",\n  \"GET /orgs/{org}/projects\",\n  \"GET /orgs/{org}/properties/values\",\n  \"GET /orgs/{org}/public_members\",\n  \"GET /orgs/{org}/repos\",\n  \"GET /orgs/{org}/rulesets\",\n  \"GET /orgs/{org}/rulesets/rule-suites\",\n  \"GET /orgs/{org}/secret-scanning/alerts\",\n  \"GET /orgs/{org}/security-advisories\",\n  \"GET /orgs/{org}/teams\",\n  \"GET /orgs/{org}/teams/{team_slug}/discussions\",\n  \"GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments\",\n  \"GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions\",\n  \"GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions\",\n  \"GET /orgs/{org}/teams/{team_slug}/invitations\",\n  \"GET /orgs/{org}/teams/{team_slug}/members\",\n  \"GET /orgs/{org}/teams/{team_slug}/projects\",\n  \"GET /orgs/{org}/teams/{team_slug}/repos\",\n  \"GET /orgs/{org}/teams/{team_slug}/teams\",\n  \"GET /projects/columns/{column_id}/cards\",\n  \"GET /projects/{project_id}/collaborators\",\n  \"GET /projects/{project_id}/columns\",\n  \"GET /repos/{owner}/{repo}/actions/artifacts\",\n  \"GET /repos/{owner}/{repo}/actions/caches\",\n  \"GET /repos/{owner}/{repo}/actions/organization-secrets\",\n  \"GET /repos/{owner}/{repo}/actions/organization-variables\",\n  \"GET /repos/{owner}/{repo}/actions/runners\",\n  \"GET /repos/{owner}/{repo}/actions/runs\",\n  \"GET /repos/{owner}/{repo}/actions/runs/{run_id}/artifacts\",\n  \"GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}/jobs\",\n  \"GET /repos/{owner}/{repo}/actions/runs/{run_id}/jobs\",\n  \"GET /repos/{owner}/{repo}/actions/secrets\",\n  \"GET /repos/{owner}/{repo}/actions/variables\",\n  \"GET /repos/{owner}/{repo}/actions/workflows\",\n  \"GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/runs\",\n  \"GET /repos/{owner}/{repo}/activity\",\n  \"GET /repos/{owner}/{repo}/assignees\",\n  \"GET /repos/{owner}/{repo}/branches\",\n  \"GET /repos/{owner}/{repo}/check-runs/{check_run_id}/annotations\",\n  \"GET /repos/{owner}/{repo}/check-suites/{check_suite_id}/check-runs\",\n  \"GET /repos/{owner}/{repo}/code-scanning/alerts\",\n  \"GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/instances\",\n  \"GET /repos/{owner}/{repo}/code-scanning/analyses\",\n  \"GET /repos/{owner}/{repo}/codespaces\",\n  \"GET /repos/{owner}/{repo}/codespaces/devcontainers\",\n  \"GET /repos/{owner}/{repo}/codespaces/secrets\",\n  \"GET /repos/{owner}/{repo}/collaborators\",\n  \"GET /repos/{owner}/{repo}/comments\",\n  \"GET /repos/{owner}/{repo}/comments/{comment_id}/reactions\",\n  \"GET /repos/{owner}/{repo}/commits\",\n  \"GET /repos/{owner}/{repo}/commits/{commit_sha}/comments\",\n  \"GET /repos/{owner}/{repo}/commits/{commit_sha}/pulls\",\n  \"GET /repos/{owner}/{repo}/commits/{ref}/check-runs\",\n  \"GET /repos/{owner}/{repo}/commits/{ref}/check-suites\",\n  \"GET /repos/{owner}/{repo}/commits/{ref}/status\",\n  \"GET /repos/{owner}/{repo}/commits/{ref}/statuses\",\n  \"GET /repos/{owner}/{repo}/contributors\",\n  \"GET /repos/{owner}/{repo}/dependabot/alerts\",\n  \"GET /repos/{owner}/{repo}/dependabot/secrets\",\n  \"GET /repos/{owner}/{repo}/deployments\",\n  \"GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses\",\n  \"GET /repos/{owner}/{repo}/environments\",\n  \"GET /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies\",\n  \"GET /repos/{owner}/{repo}/environments/{environment_name}/deployment_protection_rules/apps\",\n  \"GET /repos/{owner}/{repo}/events\",\n  \"GET /repos/{owner}/{repo}/forks\",\n  \"GET /repos/{owner}/{repo}/hooks\",\n  \"GET /repos/{owner}/{repo}/hooks/{hook_id}/deliveries\",\n  \"GET /repos/{owner}/{repo}/invitations\",\n  \"GET /repos/{owner}/{repo}/issues\",\n  \"GET /repos/{owner}/{repo}/issues/comments\",\n  \"GET /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions\",\n  \"GET /repos/{owner}/{repo}/issues/events\",\n  \"GET /repos/{owner}/{repo}/issues/{issue_number}/comments\",\n  \"GET /repos/{owner}/{repo}/issues/{issue_number}/events\",\n  \"GET /repos/{owner}/{repo}/issues/{issue_number}/labels\",\n  \"GET /repos/{owner}/{repo}/issues/{issue_number}/reactions\",\n  \"GET /repos/{owner}/{repo}/issues/{issue_number}/timeline\",\n  \"GET /repos/{owner}/{repo}/keys\",\n  \"GET /repos/{owner}/{repo}/labels\",\n  \"GET /repos/{owner}/{repo}/milestones\",\n  \"GET /repos/{owner}/{repo}/milestones/{milestone_number}/labels\",\n  \"GET /repos/{owner}/{repo}/notifications\",\n  \"GET /repos/{owner}/{repo}/pages/builds\",\n  \"GET /repos/{owner}/{repo}/projects\",\n  \"GET /repos/{owner}/{repo}/pulls\",\n  \"GET /repos/{owner}/{repo}/pulls/comments\",\n  \"GET /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions\",\n  \"GET /repos/{owner}/{repo}/pulls/{pull_number}/comments\",\n  \"GET /repos/{owner}/{repo}/pulls/{pull_number}/commits\",\n  \"GET /repos/{owner}/{repo}/pulls/{pull_number}/files\",\n  \"GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews\",\n  \"GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/comments\",\n  \"GET /repos/{owner}/{repo}/releases\",\n  \"GET /repos/{owner}/{repo}/releases/{release_id}/assets\",\n  \"GET /repos/{owner}/{repo}/releases/{release_id}/reactions\",\n  \"GET /repos/{owner}/{repo}/rules/branches/{branch}\",\n  \"GET /repos/{owner}/{repo}/rulesets\",\n  \"GET /repos/{owner}/{repo}/rulesets/rule-suites\",\n  \"GET /repos/{owner}/{repo}/secret-scanning/alerts\",\n  \"GET /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}/locations\",\n  \"GET /repos/{owner}/{repo}/security-advisories\",\n  \"GET /repos/{owner}/{repo}/stargazers\",\n  \"GET /repos/{owner}/{repo}/subscribers\",\n  \"GET /repos/{owner}/{repo}/tags\",\n  \"GET /repos/{owner}/{repo}/teams\",\n  \"GET /repos/{owner}/{repo}/topics\",\n  \"GET /repositories\",\n  \"GET /repositories/{repository_id}/environments/{environment_name}/secrets\",\n  \"GET /repositories/{repository_id}/environments/{environment_name}/variables\",\n  \"GET /search/code\",\n  \"GET /search/commits\",\n  \"GET /search/issues\",\n  \"GET /search/labels\",\n  \"GET /search/repositories\",\n  \"GET /search/topics\",\n  \"GET /search/users\",\n  \"GET /teams/{team_id}/discussions\",\n  \"GET /teams/{team_id}/discussions/{discussion_number}/comments\",\n  \"GET /teams/{team_id}/discussions/{discussion_number}/comments/{comment_number}/reactions\",\n  \"GET /teams/{team_id}/discussions/{discussion_number}/reactions\",\n  \"GET /teams/{team_id}/invitations\",\n  \"GET /teams/{team_id}/members\",\n  \"GET /teams/{team_id}/projects\",\n  \"GET /teams/{team_id}/repos\",\n  \"GET /teams/{team_id}/teams\",\n  \"GET /user/blocks\",\n  \"GET /user/codespaces\",\n  \"GET /user/codespaces/secrets\",\n  \"GET /user/emails\",\n  \"GET /user/followers\",\n  \"GET /user/following\",\n  \"GET /user/gpg_keys\",\n  \"GET /user/installations\",\n  \"GET /user/installations/{installation_id}/repositories\",\n  \"GET /user/issues\",\n  \"GET /user/keys\",\n  \"GET /user/marketplace_purchases\",\n  \"GET /user/marketplace_purchases/stubbed\",\n  \"GET /user/memberships/orgs\",\n  \"GET /user/migrations\",\n  \"GET /user/migrations/{migration_id}/repositories\",\n  \"GET /user/orgs\",\n  \"GET /user/packages\",\n  \"GET /user/packages/{package_type}/{package_name}/versions\",\n  \"GET /user/public_emails\",\n  \"GET /user/repos\",\n  \"GET /user/repository_invitations\",\n  \"GET /user/social_accounts\",\n  \"GET /user/ssh_signing_keys\",\n  \"GET /user/starred\",\n  \"GET /user/subscriptions\",\n  \"GET /user/teams\",\n  \"GET /users\",\n  \"GET /users/{username}/events\",\n  \"GET /users/{username}/events/orgs/{org}\",\n  \"GET /users/{username}/events/public\",\n  \"GET /users/{username}/followers\",\n  \"GET /users/{username}/following\",\n  \"GET /users/{username}/gists\",\n  \"GET /users/{username}/gpg_keys\",\n  \"GET /users/{username}/keys\",\n  \"GET /users/{username}/orgs\",\n  \"GET /users/{username}/packages\",\n  \"GET /users/{username}/projects\",\n  \"GET /users/{username}/received_events\",\n  \"GET /users/{username}/received_events/public\",\n  \"GET /users/{username}/repos\",\n  \"GET /users/{username}/social_accounts\",\n  \"GET /users/{username}/ssh_signing_keys\",\n  \"GET /users/{username}/starred\",\n  \"GET /users/{username}/subscriptions\"\n];\n\n// pkg/dist-src/paginating-endpoints.js\nfunction isPaginatingEndpoint(arg) {\n  if (typeof arg === \"string\") {\n    return paginatingEndpoints.includes(arg);\n  } else {\n    return false;\n  }\n}\n\n// pkg/dist-src/index.js\nfunction paginateRest(octokit) {\n  return {\n    paginate: Object.assign(paginate.bind(null, octokit), {\n      iterator: iterator.bind(null, octokit)\n    })\n  };\n}\npaginateRest.VERSION = VERSION;\nexport {\n  composePaginateRest,\n  isPaginatingEndpoint,\n  paginateRest,\n  paginatingEndpoints\n};\n", "export * from './types/session';\nexport * from './types/message';\nexport * from './types/user';\nexport * from './types/events';\nexport * from './utils/logger';\nexport * from './utils/validation';\nexport * from './utils/crypto';\n", "export interface Session {\n  id: string;\n  userId: string;\n  repoUrl: string;\n  branch: string;\n  sandboxId: string;\n  opencodeSessionId: string;\n  status: 'initializing' | 'ready' | 'executing' | 'idle' | 'error' | 'closed';\n  createdAt: number;\n  lastActiveAt: number;\n  metadata: SessionMetadata;\n}\n\nexport interface SessionMetadata {\n  repoOwner: string;\n  repoName: string;\n  installationId: number;\n  prNumber?: number;\n  prUrl?: string;\n  commitCount: number;\n  sandboxUrl?: string;\n}\n", "export interface Message {\n  id: string;\n  sessionId: string;\n  userId: string;\n  role: 'user' | 'assistant' | 'system' | 'tool';\n  content: string;\n  type?: 'text' | 'code' | 'diff' | 'screenshot' | 'error' | 'thinking';\n  metadata?: MessageMetadata;\n  parentId?: string;\n  createdAt: number;\n}\n\nexport interface MessageMetadata {\n  toolName?: string;\n  toolInput?: Record<string, unknown>;\n  toolOutput?: string;\n  filePath?: string;\n  language?: string;\n  diffBefore?: string;\n  diffAfter?: string;\n  screenshotUrl?: string;\n  thinkingContent?: string;\n}\n", "export interface User {\n  id: string;\n  email: string;\n  username: string;\n  avatarUrl?: string;\n  githubId?: string;\n  slackId?: string;\n}\n\nexport interface Participant {\n  userId: string;\n  username: string;\n  avatarUrl?: string;\n  joinedAt: number;\n  lastActiveAt: number;\n  isTyping?: boolean;\n}\n", "import type { Message } from './message';\nimport type { Participant } from './user';\n\nexport interface QueuedMessage {\n  id: string;\n  userId: string;\n  username: string;\n  content: string;\n  queuedAt: number;\n  position: number;\n}\n\nexport type SessionEvent =\n  | { type: 'message'; message: Message }\n  | { type: 'message_chunk'; messageId: string; chunk: string; accumulated: string }\n  | { type: 'execution_started'; messageId: string }\n  | { type: 'execution_complete'; messageId: string }\n  | { type: 'execution_error'; error: string }\n  | { type: 'message_queued'; messageId: string; position: number }\n  | { type: 'queue_updated'; queue: QueuedMessage[] }\n  | { type: 'participant_joined'; userId: string; username: string; participants: string[] }\n  | { type: 'participant_left'; userId: string; participants: string[] }\n  | { type: 'user_typing'; userId: string }\n  | { type: 'tool_execution'; tool: string; status: 'started' | 'completed' | 'error' }\n  | { type: 'file_changed'; path: string; changeType: 'created' | 'modified' | 'deleted' }\n  | { type: 'pr_created'; prUrl: string; prNumber: number }\n  | { type: 'pr_updated'; prUrl: string; status: string }\n  | { type: 'participants_sync'; participants: Participant[] };\n", "export const createLogger = (service: string) => ({\n  info: (msg: string, data?: Record<string, unknown>) =>\n    console.log(JSON.stringify({ level: 'info', service, msg, ...data, ts: Date.now() })),\n  warn: (msg: string, data?: Record<string, unknown>) =>\n    console.warn(JSON.stringify({ level: 'warn', service, msg, ...data, ts: Date.now() })),\n  error: (msg: string, error?: Error, data?: Record<string, unknown>) =>\n    console.error(\n      JSON.stringify({\n        level: 'error',\n        service,\n        msg,\n        error: error?.message,\n        stack: error?.stack,\n        ...data,\n        ts: Date.now()\n      })\n    )\n});\n", "export const validateSessionId = (id: string): boolean => /^sess_[a-z0-9]{12,}$/i.test(id);\n\nexport const parseRepoUrl = (url: string): { owner: string; repo: string } | null => {\n  const match = url.match(/github\\.com[/:]([^/]+)\\/([^/.]+)/i);\n  if (!match) return null;\n  return { owner: match[1], repo: match[2].replace('.git', '') };\n};\n", "export const generateSessionId = (): string =>\n  `sess_${crypto.randomUUID().replace(/-/g, '').slice(0, 16)}`;\n\nexport const generateMessageId = (): string =>\n  `msg_${crypto.randomUUID().replace(/-/g, '').slice(0, 16)}`;\n", "import { Sandbox } from 'e2b';\nimport type { SandboxInstance, SandboxOptions, Env } from '../types';\n\nconst normalizeUrl = (value: string) => (value.startsWith('http') ? value : `https://${value}`);\n\nexport class E2BProvider {\n  constructor(private env: Env) {}\n\n  async createSandbox(options: SandboxOptions): Promise<SandboxInstance> {\n    const sandbox = await Sandbox.create({\n      apiKey: this.env.E2B_API_KEY,\n      timeout: 60 * 60 * 1000\n    });\n\n    await this.installOpenCode(sandbox);\n    await this.cloneRepository(sandbox, options);\n    await this.configureOpenCode(sandbox);\n\n    await this.startOpenCodeServer(sandbox);\n    await this.startVSCodeServer(sandbox);\n\n    const sandboxUrl = normalizeUrl(sandbox.getHostname(4096));\n    const vscodeUrl = normalizeUrl(sandbox.getHostname(8080));\n    const opencodeSessionId = await this.createOpenCodeSession(sandboxUrl);\n\n    return {\n      sandboxId: options.sessionId,\n      sandboxUrl,\n      vscodeUrl,\n      opencodeSessionId,\n      sandbox\n    };\n  }\n\n  async closeSandbox(instance: SandboxInstance): Promise<void> {\n    await instance.sandbox.close();\n  }\n\n  private async installOpenCode(sandbox: Sandbox): Promise<void> {\n    await sandbox.process.startAndWait('bash -c \"curl -fsSL https://opencode.ai/install | bash\"');\n  }\n\n  private async cloneRepository(sandbox: Sandbox, options: SandboxOptions): Promise<void> {\n    const authenticatedUrl = options.repoUrl.replace(\n      'https://github.com/',\n      `https://x-access-token:${options.githubToken}@github.com/`\n    );\n\n    await sandbox.process.startAndWait(`git clone --branch ${options.branch} ${authenticatedUrl} /workspace`);\n\n    await sandbox.process.startAndWait({\n      cmd: 'git config --global user.email \"bot@inspect.local\"',\n      cwd: '/workspace'\n    });\n\n    await sandbox.process.startAndWait({\n      cmd: 'git config --global user.name \"Inspect Bot\"',\n      cwd: '/workspace'\n    });\n\n    await sandbox.process.startAndWait({\n      cmd: 'git config --global credential.helper store',\n      cwd: '/workspace'\n    });\n\n    await sandbox.filesystem.write(\n      '/root/.git-credentials',\n      `https://x-access-token:${options.githubToken}@github.com\\n`\n    );\n\n    await sandbox.process.startAndWait({\n      cmd: `git remote set-url origin ${authenticatedUrl}`,\n      cwd: '/workspace'\n    });\n  }\n\n  private async configureOpenCode(sandbox: Sandbox): Promise<void> {\n    const config = {\n      $schema: 'https://opencode.ai/config.json',\n      model: 'zai/glm-4.7',\n      provider: {\n        zai: {\n          npm: '@ai-sdk/openai-compatible',\n          name: 'Z.AI',\n          options: {\n            baseURL: 'https://api.z.ai/api/paas/v4',\n            apiKey: this.env.ZAI_API_KEY\n          },\n          models: {\n            'glm-4.7': {\n              name: 'GLM-4.7',\n              thinking: { type: 'enabled', clear_thinking: false }\n            }\n          }\n        }\n      }\n    };\n\n    await sandbox.filesystem.write(\n      '/root/.config/opencode/opencode.json',\n      JSON.stringify(config, null, 2)\n    );\n  }\n\n  private async startOpenCodeServer(sandbox: Sandbox): Promise<void> {\n    await sandbox.process.start({\n      cmd: 'opencode serve --port 4096',\n      cwd: '/workspace',\n      envVars: {\n        OPENCODE_SERVER_PASSWORD: this.env.OPENCODE_SERVER_PASSWORD\n      }\n    });\n\n    await this.waitForServer(sandbox, 4096);\n  }\n\n  private async startVSCodeServer(sandbox: Sandbox): Promise<void> {\n    await sandbox.process.startAndWait('bash -c \"curl -fsSL https://code-server.dev/install.sh | sh\"');\n\n    await sandbox.process.start({\n      cmd: 'code-server --bind-addr 0.0.0.0:8080 --auth none /workspace'\n    });\n  }\n\n  private async waitForServer(sandbox: Sandbox, port: number): Promise<void> {\n    for (let attempt = 0; attempt < 30; attempt += 1) {\n      const result = await sandbox.process.startAndWait(`curl -s http://localhost:${port}/health || true`);\n\n      if (result.stdout.trim().length > 0) {\n        return;\n      }\n\n      await new Promise((resolve) => setTimeout(resolve, 1000));\n    }\n\n    throw new Error(`OpenCode server failed to start on port ${port}`);\n  }\n\n  private async createOpenCodeSession(sandboxUrl: string): Promise<string> {\n    const auth = btoa(`opencode:${this.env.OPENCODE_SERVER_PASSWORD}`);\n\n    const response = await fetch(`${sandboxUrl}/session`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Basic ${auth}`\n      },\n      body: JSON.stringify({})\n    });\n\n    if (!response.ok) {\n      throw new Error(`Failed to create OpenCode session: ${response.status}`);\n    }\n\n    const data = (await response.json()) as { id: string };\n    return data.id;\n  }\n}\n", "import { Fetcher } from './fetcher';\nimport { arrayRequestBody } from './utils';\nimport { ApiError } from './types';\nexport { Fetcher, ApiError, arrayRequestBody };\n", "var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { ApiError, } from './types';\nconst sendBody = (method) => method === 'post' ||\n    method === 'put' ||\n    method === 'patch' ||\n    method === 'delete';\nfunction queryString(params) {\n    const qs = [];\n    const encode = (key, value) => `${encodeURIComponent(key)}=${encodeURIComponent(String(value))}`;\n    Object.keys(params).forEach((key) => {\n        const value = params[key];\n        if (value != null) {\n            if (Array.isArray(value)) {\n                value.forEach((value) => qs.push(encode(key, value)));\n            }\n            else {\n                qs.push(encode(key, value));\n            }\n        }\n    });\n    if (qs.length > 0) {\n        return `?${qs.join('&')}`;\n    }\n    return '';\n}\nfunction getPath(path, payload) {\n    return path.replace(/\\{([^}]+)\\}/g, (_, key) => {\n        const value = encodeURIComponent(payload[key]);\n        delete payload[key];\n        return value;\n    });\n}\nfunction getQuery(method, payload, query) {\n    let queryObj = {};\n    if (sendBody(method)) {\n        query.forEach((key) => {\n            queryObj[key] = payload[key];\n            delete payload[key];\n        });\n    }\n    else {\n        queryObj = Object.assign({}, payload);\n    }\n    return queryString(queryObj);\n}\nfunction getHeaders(body, init) {\n    const headers = new Headers(init);\n    if (body !== undefined && !headers.has('Content-Type')) {\n        headers.append('Content-Type', 'application/json');\n    }\n    if (!headers.has('Accept')) {\n        headers.append('Accept', 'application/json');\n    }\n    return headers;\n}\nfunction getBody(method, payload) {\n    const body = sendBody(method) ? JSON.stringify(payload) : undefined;\n    return method === 'delete' && body === '{}' ? undefined : body;\n}\nfunction mergeRequestInit(first, second) {\n    const headers = new Headers(first === null || first === void 0 ? void 0 : first.headers);\n    const other = new Headers(second === null || second === void 0 ? void 0 : second.headers);\n    for (const key of other.keys()) {\n        const value = other.get(key);\n        if (value != null) {\n            headers.set(key, value);\n        }\n    }\n    return Object.assign(Object.assign(Object.assign({}, first), second), { headers });\n}\nfunction getFetchParams(request) {\n    var _a;\n    const payload = Object.assign(Array.isArray(request.payload) ? [] : {}, request.payload);\n    const path = getPath(request.path, payload);\n    const query = getQuery(request.method, payload, request.queryParams);\n    const body = getBody(request.method, payload);\n    const headers = getHeaders(body, (_a = request.init) === null || _a === void 0 ? void 0 : _a.headers);\n    const url = request.baseUrl + path + query;\n    const init = Object.assign(Object.assign({}, request.init), { method: request.method.toUpperCase(), headers,\n        body });\n    return { url, init };\n}\nfunction getResponseData(response) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const contentType = response.headers.get('content-type');\n        if (response.status === 204) {\n            return undefined;\n        }\n        if (contentType && contentType.indexOf('application/json') !== -1) {\n            return yield response.json();\n        }\n        const text = yield response.text();\n        try {\n            return JSON.parse(text);\n        }\n        catch (e) {\n            return text;\n        }\n    });\n}\nfunction fetchJson(url, init) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const response = yield fetch(url, init);\n        const data = yield getResponseData(response);\n        const result = {\n            headers: response.headers,\n            url: response.url,\n            ok: response.ok,\n            status: response.status,\n            statusText: response.statusText,\n            data,\n        };\n        if (result.ok) {\n            return result;\n        }\n        throw new ApiError(result);\n    });\n}\nfunction wrapMiddlewares(middlewares, fetch) {\n    const handler = (index, url, init) => __awaiter(this, void 0, void 0, function* () {\n        if (middlewares == null || index === middlewares.length) {\n            return fetch(url, init);\n        }\n        const current = middlewares[index];\n        return yield current(url, init, (nextUrl, nextInit) => handler(index + 1, nextUrl, nextInit));\n    });\n    return (url, init) => handler(0, url, init);\n}\nfunction fetchUrl(request) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const { url, init } = getFetchParams(request);\n        const response = yield request.fetch(url, init);\n        return response;\n    });\n}\nfunction createFetch(fetch) {\n    const fun = (payload, init) => __awaiter(this, void 0, void 0, function* () {\n        try {\n            return yield fetch(payload, init);\n        }\n        catch (err) {\n            if (err instanceof ApiError) {\n                throw new fun.Error(err);\n            }\n            throw err;\n        }\n    });\n    fun.Error = class extends ApiError {\n        constructor(error) {\n            super(error);\n            Object.setPrototypeOf(this, new.target.prototype);\n        }\n        getActualType() {\n            return {\n                status: this.status,\n                data: this.data,\n            };\n        }\n    };\n    return fun;\n}\nfunction fetcher() {\n    let baseUrl = '';\n    let defaultInit = {};\n    const middlewares = [];\n    const fetch = wrapMiddlewares(middlewares, fetchJson);\n    return {\n        configure: (config) => {\n            baseUrl = config.baseUrl || '';\n            defaultInit = config.init || {};\n            middlewares.splice(0);\n            middlewares.push(...(config.use || []));\n        },\n        use: (mw) => middlewares.push(mw),\n        path: (path) => ({\n            method: (method) => ({\n                create: ((queryParams) => createFetch((payload, init) => fetchUrl({\n                    baseUrl: baseUrl || '',\n                    path: path,\n                    method: method,\n                    queryParams: Object.keys(queryParams || {}),\n                    payload,\n                    init: mergeRequestInit(defaultInit, init),\n                    fetch,\n                }))),\n            }),\n        }),\n    };\n}\nexport const Fetcher = {\n    for: () => fetcher(),\n};\n", "const never = Symbol();\nexport class ApiError extends Error {\n    constructor(response) {\n        super(response.statusText);\n        Object.defineProperty(this, \"headers\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"url\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"status\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"statusText\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"data\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.setPrototypeOf(this, new.target.prototype);\n        this.headers = response.headers;\n        this.url = response.url;\n        this.status = response.status;\n        this.statusText = response.statusText;\n        this.data = response.data;\n    }\n}\n", "export function arrayRequestBody(array, params) {\n    return Object.assign([...array], params);\n}\n", "import * as fetcher from 'openapi-typescript-fetch'\nimport type { OpArgType, TypedFetch } from 'openapi-typescript-fetch'\n\nimport type { components, paths } from './schema.gen'\nimport { defaultHeaders } from './metadata'\nimport { DEBUG, DOMAIN, SECURE } from '../constants'\n\nconst { Fetcher } = fetcher\n\nclass APIClient {\n  private client = Fetcher.for<paths>()\n\n  constructor(private opts?: {\n    secure?: boolean,\n    domain?: string,\n    debug?: boolean,\n  }\n  ) {\n    this.client.configure({\n      baseUrl: this.apiHost,\n      init: {\n        headers: defaultHeaders,\n      },\n    })\n  }\n\n  get secure() {\n    return this.opts?.secure ?? SECURE\n  }\n\n  get domain() {\n    return this.opts?.domain ?? DOMAIN\n  }\n\n  get debug() {\n    return this.opts?.debug ?? DEBUG\n  }\n\n  get apiDomain() {\n    return this.debug ? 'localhost:3000' : `api.${this.domain}`\n  }\n\n  get apiHost() {\n    return `${this.secure && !this.debug ? 'https' : 'http'}://${this.apiDomain}`\n  }\n\n  get api() {\n    return this.client\n  }\n}\n\ntype WithAccessToken<T> = (\n  accessToken: string,\n  arg: OpArgType<T>,\n  init?: RequestInit,\n) => ReturnType<TypedFetch<T>>\n\nexport function withAccessToken<T>(f: TypedFetch<T>) {\n  const wrapped = (accessToken: string, arg: OpArgType<T>, init?: RequestInit) => {\n    return f(arg, {\n      ...init,\n      headers: {\n        Authorization: `Bearer ${accessToken}`,\n        ...init?.headers,\n      },\n    })\n  }\n\n  wrapped.Error = f.Error\n\n  return wrapped as WithAccessToken<T> & {\n    Error: typeof f.Error\n  }\n}\n\ntype WithAPIKey<T> = (\n  apiKey: string,\n  arg: OpArgType<T>,\n  init?: RequestInit,\n) => ReturnType<TypedFetch<T>>\n\nexport function withAPIKey<T>(f: TypedFetch<T>) {\n  const wrapped = (apiKey: string, arg: OpArgType<T>, init?: RequestInit) => {\n    return f(arg, {\n      ...init,\n      headers: {\n        'X-API-KEY': apiKey,\n        ...init?.headers,\n      },\n    })\n  }\n\n  wrapped.Error = f.Error\n\n  return wrapped as WithAPIKey<T> & {\n    Error: typeof f.Error\n  }\n}\n\nexport type { components, paths }\nexport { APIClient }\n", "import platform from 'platform'\n\nimport { version } from '../../package.json'\n\ndeclare let window: any\n\nexport const defaultHeaders = {\n  browser: (typeof window !== 'undefined' && platform.name) || 'undefined',\n  lang: 'js',\n  lang_version: platform.version || 'unknown',\n  package_version: version,\n  publisher: 'e2b',\n  sdk_runtime: typeof window === 'undefined' ? 'node' : 'browser',\n  system: platform.os?.family || 'unknown',\n}\n", "{\n  \"name\": \"e2b\",\n  \"version\": \"0.16.2\",\n  \"description\": \"E2B SDK that give agents cloud environments\",\n  \"homepage\": \"https://e2b.dev\",\n  \"license\": \"MIT\",\n  \"author\": {\n    \"name\": \"FoundryLabs, Inc.\",\n    \"email\": \"hello@e2b.dev\",\n    \"url\": \"https://e2b.dev\"\n  },\n  \"bugs\": \"https://github.com/e2b-dev/e2b/issues\",\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"https://github.com/e2b-dev/e2b\",\n    \"directory\": \"packages/js-sdk\"\n  },\n  \"publishConfig\": {\n    \"access\": \"public\"\n  },\n  \"sideEffects\": false,\n  \"main\": \"dist/index.js\",\n  \"module\": \"dist/index.mjs\",\n  \"types\": \"dist/index.d.ts\",\n  \"scripts\": {\n    \"prepublishOnly\": \"pnpm build\",\n    \"build\": \"tsc --noEmit && tsup\",\n    \"dev\": \"tsup --watch\",\n    \"measure\": \"node test/performance.mjs\",\n    \"example\": \"tsx example.mts\",\n    \"test\": \"vitest run\",\n    \"test:coverage\": \"vitest run --coverage\",\n    \"generate\": \"openapi-typescript ../../spec/openapi.yml -x api_key --support-array-length --alphabetize --output src/api/schema.gen.ts\",\n    \"check-deps\": \"knip\",\n    \"update-deps\": \"ncu -u && pnpm i\",\n    \"postPublish\": \"./scripts/post-publish.sh || true\"\n  },\n  \"devDependencies\": {\n    \"@types/node\": \"^18.18.6\",\n    \"@types/normalize-path\": \"^3.0.0\",\n    \"@types/path-browserify\": \"^1.0.1\",\n    \"@types/platform\": \"^1.3.4\",\n    \"@types/ws\": \"^8.5.10\",\n    \"@typescript-eslint/eslint-plugin\": \"^6.8.0\",\n    \"@typescript-eslint/parser\": \"^6.8.0\",\n    \"dotenv\": \"^16.4.5\",\n    \"knip\": \"^2.34.0\",\n    \"npm-check-updates\": \"^16.14.6\",\n    \"openapi-typescript\": \"^5.4.1\",\n    \"tsup\": \"^6.7.0\",\n    \"typescript\": \"^5.2.2\",\n    \"vitest\": \"^0.34.6\"\n  },\n  \"files\": [\n    \"dist\",\n    \"README.md\",\n    \"package.json\"\n  ],\n  \"keywords\": [\n    \"e2b\",\n    \"ai-agents\",\n    \"agents\",\n    \"ai\",\n    \"code-interpreter\",\n    \"sandbox\",\n    \"code\",\n    \"runtime\",\n    \"vm\",\n    \"nodejs\",\n    \"javascript\",\n    \"typescript\"\n  ],\n  \"dependencies\": {\n    \"isomorphic-ws\": \"^5.0.0\",\n    \"normalize-path\": \"^3.0.0\",\n    \"openapi-typescript-fetch\": \"^1.1.3\",\n    \"path-browserify\": \"^1.0.1\",\n    \"platform\": \"^1.3.6\",\n    \"ws\": \"^8.15.1\"\n  },\n  \"engines\": {\n    \"node\": \">=18\"\n  },\n  \"browserslist\": [\n    \"defaults\"\n  ],\n  \"optionalDependencies\": {\n    \"bufferutil\": \"^4.0.8\",\n    \"utf-8-validate\": \"^6.0.3\"\n  }\n}\n", "export const SANDBOX_REFRESH_PERIOD = 5_000 // 5s\nexport const WS_RECONNECT_INTERVAL = 150 // 150ms\n\nexport const TIMEOUT = 60_000 // 60s\nexport const DEBUG = process?.env?.E2B_DEBUG\nexport const DOMAIN = process?.env?.E2B_DOMAIN || 'e2b.dev'\nexport const SECURE = (process?.env?.E2B_SECURE || 'true').toLowerCase() === 'true'\nexport const API_DOMAIN = DEBUG ? 'localhost:3000' : `api.${DOMAIN}`\nexport const API_HOST = `${SECURE && !DEBUG ? 'https' : 'http'}://${API_DOMAIN}`\nexport const SANDBOX_DOMAIN = DOMAIN\n\nexport const ENVD_PORT = 49982\nexport const WS_ROUTE = '/ws'\n\nexport const FILE_ROUTE = '/file'\n", "import { EnvVars } from './envVars'\nimport { SandboxConnection } from './sandboxConnection'\n\nexport const terminalService = 'terminal'\n\nexport class TerminalOutput {\n  private _data = ''\n\n  get data() {\n    return this._data\n  }\n\n  addData(data: string) {\n    this._data += data\n  }\n}\n\n/**\n * A terminal session running in the sandbox.\n *\n */\nexport class Terminal {\n  /**\n   * @deprecated use .wait() instead\n   */\n  readonly finished: Promise<TerminalOutput>\n\n  constructor(\n    readonly terminalID: string,\n    private readonly sandbox: SandboxConnection,\n    private readonly triggerExit: () => void,\n    finished: Promise<TerminalOutput>,\n    readonly output: TerminalOutput,\n  ) {\n    this.finished = finished\n  }\n\n  get data() {\n    return this.output.data\n  }\n\n  /**\n   * Kills the terminal session.\n   */\n  async kill(): Promise<void> {\n    try {\n      // TODO: Change the \"destroy\" to \"kill\" in devbookd\n      await this.sandbox._call(terminalService, 'destroy', [this.terminalID])\n    } finally {\n      this.triggerExit()\n      await this.finished\n    }\n  }\n\n  /**\n   * Waits for the terminal to finish.\n   */\n  async wait(): Promise<TerminalOutput> {\n    return this.finished\n  }\n\n  /**\n   * Sends data to the terminal standard input.\n   *\n   * @param data Data to send\n   */\n  async sendData(data: string): Promise<void> {\n    await this.sandbox._call(terminalService, 'data', [this.terminalID, data])\n  }\n\n  /**\n   * Resizes the terminal tty.\n   *\n   * @param cols Number of columns\n   * @param rows Number of rows\n   */\n  async resize({ cols, rows }: { cols: number; rows: number }): Promise<void> {\n    await this.sandbox._call(terminalService, 'resize', [\n      this.terminalID,\n      cols,\n      rows,\n    ])\n  }\n}\n\nexport type TerminalOpts = {\n  onData: (data: string) => Promise<void> | void;\n  onExit?: () => Promise<void> | void;\n  size: { cols: number; rows: number };\n  terminalID?: string;\n  /**\n   * If the `cmd` parameter is defined it will be executed as a command\n   * and this terminal session will exit when the command exits.\n   */\n  cmd?: string;\n  /**\n   * Working directory where will the terminal start.\n   */\n  cwd?: string;\n  /**\n   * @deprecated use cwd instead\n   */\n  rootDir?: string;\n  /**\n   * Environment variables that will be accessible inside of the terminal.\n   */\n  envVars?: EnvVars;\n  /**\n   * Timeout for terminal start in milliseconds (default is 60 seconds)\n   */\n  timeout?: number;\n}\n\n/**\n * Manager for starting and interacting with terminal sessions in the sandbox.\n */\nexport interface TerminalManager {\n  start(opts: TerminalOpts): Promise<Terminal>;\n}\n", "export class TimeoutError extends Error {\n\tconstructor(message) {\n\t\tsuper(message)\n\t\tthis.name = 'TimeoutError'\n\t}\n}\n\n/**\nAn error to be thrown when the request is aborted by AbortController.\nDOMException is thrown instead of this Error when DOMException is available.\n*/\nexport class AbortError extends Error {\n\tconstructor(message) {\n\t\tsuper()\n\t\tthis.name = 'AbortError'\n\t\tthis.message = message\n\t}\n}\n\n/**\nTODO: Remove AbortError and just throw DOMException when targeting Node 18.\n*/\nconst getDOMException = errorMessage => globalThis.DOMException === undefined\n\t? new AbortError(errorMessage)\n\t: new DOMException(errorMessage)\n\n/**\nTODO: Remove below function and just 'reject(signal.reason)' when targeting Node 18.\n*/\nconst getAbortedReason = signal => {\n\tconst reason = signal.reason === undefined\n\t\t? getDOMException('This operation was aborted.')\n\t\t: signal.reason\n\n\treturn reason instanceof Error ? reason : getDOMException(reason)\n}\n\nexport default function pTimeout(promise, options) {\n\tconst {\n\t\tmilliseconds,\n\t\tfallback,\n\t\tmessage,\n\t\tcustomTimers = { setTimeout, clearTimeout },\n\t} = options\n\n\tlet timer\n\n\tconst wrappedPromise = new Promise((resolve, reject) => {\n\t\tif (typeof milliseconds !== 'number' || Math.sign(milliseconds) !== 1) {\n\t\t\tthrow new TypeError(`Expected \\`milliseconds\\` to be a positive number, got \\`${milliseconds}\\``)\n\t\t}\n\n\t\tif (options.signal) {\n\t\t\tconst { signal } = options\n\t\t\tif (signal.aborted) {\n\t\t\t\treject(getAbortedReason(signal))\n\t\t\t}\n\n\t\t\tsignal.addEventListener('abort', () => {\n\t\t\t\treject(getAbortedReason(signal))\n\t\t\t})\n\t\t}\n\n\t\tif (milliseconds === Number.POSITIVE_INFINITY) {\n\t\t\tpromise.then(resolve, reject)\n\t\t\treturn\n\t\t}\n\n\t\t// We create the error outside of `setTimeout` to preserve the stack trace.\n\t\tconst timeoutError = new TimeoutError()\n\n\t\ttimer = customTimers.setTimeout.call(undefined, () => {\n\t\t\tif (fallback) {\n\t\t\t\ttry {\n\t\t\t\t\tresolve(fallback())\n\t\t\t\t} catch (error) {\n\t\t\t\t\treject(error)\n\t\t\t\t}\n\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tif (typeof promise.cancel === 'function') {\n\t\t\t\tpromise.cancel()\n\t\t\t}\n\n\t\t\tif (message === false) {\n\t\t\t\tresolve()\n\t\t\t} else if (message instanceof Error) {\n\t\t\t\treject(message)\n\t\t\t} else {\n\t\t\t\ttimeoutError.message = message ?? `Promise timed out after ${milliseconds} milliseconds`\n\t\t\t\treject(timeoutError)\n\t\t\t}\n\t\t}, milliseconds);\n\n\t\t(async () => {\n\t\t\ttry {\n\t\t\t\tresolve(await promise)\n\t\t\t} catch (error) {\n\t\t\t\treject(error)\n\t\t\t}\n\t\t})()\n\t})\n\n\tconst cancelablePromise = wrappedPromise.finally(() => {\n\t\tcancelablePromise.clear()\n\t})\n\n\tcancelablePromise.clear = () => {\n\t\tcustomTimers.clearTimeout.call(undefined, timer)\n\t\ttimer = undefined\n\t}\n\n\treturn cancelablePromise\n}", "import pTimeout from './timeout'\n\nimport { TIMEOUT } from '../constants'\n\nexport function assertFulfilled<T>(\n  item: PromiseSettledResult<T>,\n): item is PromiseFulfilledResult<T> {\n  return item.status === 'fulfilled'\n}\n\nexport function formatSettledErrors<T>(settled: PromiseSettledResult<T>[]) {\n  if (settled.every(s => s.status === 'fulfilled')) return\n\n  return settled.reduce((prev, curr, i) => {\n    if (curr.status === 'rejected') {\n      return prev + '\\n' + `[${i}]: ` + `${JSON.stringify(curr)}`\n    }\n    return prev\n  }, 'errors:\\n')\n}\n\nexport function createDeferredPromise<T = void>() {\n  let resolve: (value: T) => void\n  let reject: (reason?: unknown) => void\n  const promise = new Promise<T>((res, rej) => {\n    resolve = res\n    reject = rej\n  })\n\n  return {\n    promise,\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    reject: reject!,\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    resolve: resolve!,\n  }\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function withTimeout<T extends (...args: any[]) => any>(\n  fn: T,\n  timeout: number = TIMEOUT,\n): T {\n  if (timeout === undefined || timeout <= 0 || timeout === Number.POSITIVE_INFINITY) {\n    return fn\n  }\n\n  return ((...args: T extends (...args: infer A) => any ? A : never) =>\n    pTimeout(fn(...args), { milliseconds: timeout })) as T\n}\n", "import FilesystemWatcher from './filesystemWatcher'\nimport { CallOpts } from './sandboxConnection'\n\nexport const filesystemService = 'filesystem'\n\nexport interface FileInfo {\n  isDir: boolean;\n  name: string\n}\n\n/**\n * Manager for interacting with the filesystem in the sandbox.\n */\nexport interface FilesystemManager {\n  /**\n   * Writes content to a new file on path.\n   * @param path Path to a new file. For example '/dirA/dirB/newFile.txt' when creating 'newFile.txt'\n   * @param content Content to write to a new file\n   * @param opts Call options\n   * @param {timeout} [opts.timeout] Timeout for call in milliseconds (default is 60 seconds)\n   */\n  write(path: string, content: string, opts?: CallOpts): Promise<void>;\n  /**\n   * Write array of bytes to a file.\n   * This can be used when you cannot represent the data as an UTF-8 string.\n   *\n   * A new file will be created if it doesn't exist.\n   * If the file already exists, it will be overwritten.\n   * \n   * @param path path to a file\n   * @param content byte array representing the content to write\n   */\n  writeBytes(path: string, content: Uint8Array): Promise<void>;\n  /**\n   * Reads the whole content of a file.\n   * @param path Path to a file\n   * @param opts Call options\n   * @param {timeout} [opts.timeout] Timeout for call in milliseconds (default is 60 seconds)\n   * @returns Content of a file\n   */\n  read(path: string, opts?: CallOpts): Promise<string>;\n  /**\n   * Reads the whole content of a file as an array of bytes.\n   * @param path path to a file\n   * @returns byte array representing the content of a file\n   */\n  readBytes(path: string): Promise<Uint8Array>;\n  /**\n   * Removes a file or a directory.\n   * @param path Path to a file or a directory\n   * @param opts Call options\n   * @param {timeout} [opts.timeout] Timeout for call in milliseconds (default is 60 seconds)\n   */\n  remove(path: string, opts?: CallOpts): Promise<void>;\n  /**\n   * List files in a directory.\n   * @param path Path to a directory\n   * @param opts Call options\n   * @param {timeout} [opts.timeout] Timeout for call in milliseconds (default is 60 seconds)\n   * @returns Array of files in a directory\n   */\n  list(path: string, opts?: CallOpts): Promise<FileInfo[]>;\n  /**\n   * Creates a new directory and all directories along the way if needed on the specified pth.\n   * @param path Path to a new directory. For example '/dirA/dirB' when creating 'dirB'.\n   * @param opts Call options\n   * @param {timeout} [opts.timeout] Timeout for call in milliseconds (default is 60 seconds)\n   */\n  makeDir(path: string, opts?: CallOpts): Promise<void>;\n  /**\n   * Watches directory for filesystem events.\n   * @param path Path to a directory that will be watched\n   * @returns New watcher\n   */\n  watchDir(path: string): FilesystemWatcher;\n}\n", "import { withTimeout } from '../utils/promise'\nimport { filesystemService } from './filesystem'\nimport { CallOpts, SandboxConnection } from './sandboxConnection'\n\nexport enum FilesystemOperation {\n  Create = 'Create',\n  Write = 'Write',\n  Remove = 'Remove',\n  Rename = 'Rename',\n  Chmod = 'Chmod',\n}\n\nexport interface FilesystemEvent {\n  path: string;\n  name: string;\n  operation: FilesystemOperation;\n  // Unix epoch in nanoseconds\n  timestamp: number;\n  isDir: boolean;\n}\n\nexport type FilesystemEventListener = (event: FilesystemEvent) => Promise<void> | void\n\nclass FilesystemWatcher {\n  // Listeners to filesystem events.\n  // Users of the this class can add their listeners to filesystem events\n  // via `this.addEventListeners`\n  private listeners: Set<FilesystemEventListener>\n  private rpcSubscriptionID?: string\n\n  constructor(\n    private sessConn: SandboxConnection,\n    private path: string,\n  ) {\n    this.listeners = new Set<FilesystemEventListener>()\n  }\n\n  // Starts watching the path that was passed to the contructor\n  async start(opts?: CallOpts) {\n    const start = async () => {\n      // Already started.\n      if (this.rpcSubscriptionID) return\n\n      this.handleFilesystemEvents = this.handleFilesystemEvents.bind(this)\n\n      this.rpcSubscriptionID = await this.sessConn._subscribe(\n        filesystemService,\n        this.handleFilesystemEvents,\n        'watchDir',\n        this.path,\n      )\n    }\n    return await withTimeout(start, opts?.timeout)()\n  }\n\n  // Stops watching the path and removes all listeners.\n  async stop() {\n    this.listeners.clear()\n    if (this.rpcSubscriptionID) {\n      await this.sessConn._unsubscribe(this.rpcSubscriptionID)\n    }\n  }\n\n  addEventListener(l: FilesystemEventListener) {\n    this.listeners.add(l)\n    return () => this.listeners.delete(l)\n  }\n\n  private handleFilesystemEvents(fsChange: FilesystemEvent) {\n    this.listeners.forEach((l) => {\n      l(fsChange)\n    })\n  }\n}\n\nexport default FilesystemWatcher\n", "export class TimeoutError extends Error {\n  constructor(message: any) {\n    super(message)\n    this.name = 'TimeoutError'\n  }\n}\n\nexport class AuthenticationError extends Error {\n  constructor(message: any) {\n    super(message)\n    this.name = 'AuthenticationError'\n  }\n}\n\nexport class CurrentWorkingDirectoryDoesntExistError extends Error {\n  constructor(message: any) {\n    super(message)\n    this.name = 'CurrentWorkingDirectoryDoesntExistError'\n  }\n}", "import { EnvVars } from './envVars'\nimport { CallOpts, SandboxConnection } from './sandboxConnection'\nimport { withTimeout } from '../utils/promise'\n\nexport const processService = 'process'\n\n/**\n * A message from a process.\n */\nexport class ProcessMessage {\n  constructor(\n    public readonly line: string,\n    /**\n     * Unix epoch in nanoseconds\n     */\n    public readonly timestamp: number,\n    public readonly error: boolean,\n  ) {\n  }\n\n  public toString() {\n    return this.line\n  }\n}\n\n/**\n * Output from a process.\n */\nexport class ProcessOutput {\n  private readonly delimiter = '\\n'\n  private readonly messages: ProcessMessage[] = []\n  private _finished = false\n\n  private _error = false\n\n  private _exitCode?: number\n\n  /**\n   * Whether the process has errored.\n   */\n  get error(): boolean {\n    return this._error\n  }\n\n\n  /**\n   * The exit code of the process.\n   */\n  get exitCode(): number | undefined {\n    if (!this._finished) {\n      throw new Error('Process has not finished yet')\n    }\n    return this._exitCode\n  }\n\n  /**\n   * The stdout from the process.\n   */\n  get stdout(): string {\n    return this.messages\n      .filter((out) => !out.error)\n      .map((out) => out.line)\n      .join(this.delimiter)\n  }\n\n  /**\n   * The stderr from the process.\n   */\n  get stderr(): string {\n    return this.messages\n      .filter((out) => out.error)\n      .map((out) => out.line)\n      .join(this.delimiter)\n  }\n\n  addStdout(message: ProcessMessage) {\n    this.insertByTimestamp(message)\n  }\n\n  addStderr(message: ProcessMessage) {\n    this._error = true\n    this.insertByTimestamp(message)\n  }\n\n  setExitCode(exitCode: number) {\n    this._exitCode = exitCode\n    this._finished = true\n  }\n\n  private insertByTimestamp(message: ProcessMessage) {\n    let i = this.messages.length - 1\n    while (i >= 0 && this.messages[i].timestamp > message.timestamp) {\n      i -= 1\n    }\n    this.messages.splice(i + 1, 0, message)\n  }\n}\n\n/**\n * A process running in the sandbox.\n */\nexport class Process {\n  /**\n   * @deprecated use .wait() instead\n   */\n  readonly finished: Promise<ProcessOutput>\n\n  constructor(\n    readonly processID: string,\n    private readonly sandbox: SandboxConnection,\n    private readonly triggerExit: () => void,\n    finished: Promise<ProcessOutput>,\n    readonly output: ProcessOutput,\n  ) {\n    this.finished = finished\n  }\n\n  /**\n   * Kills the process.\n   */\n  async kill(): Promise<void> {\n    try {\n      await this.sandbox._call(processService, 'kill', [this.processID])\n    } finally {\n      this.triggerExit()\n      await this.finished\n    }\n  }\n\n  /**\n   * Waits for the process to finish.\n   *\n   * @param timeout Timeout for the process to finish in milliseconds\n   */\n  async wait(timeout?: number): Promise<ProcessOutput> {\n    return await withTimeout(() => this.finished, timeout)()\n  }\n\n  /**\n   * Sends data to the process stdin.\n   *\n   * @param data Data to send\n   * @param opts Call options\n   * @param {timeout} [opts.timeout] Timeout for call in milliseconds (default is 60 seconds)\n   */\n  async sendStdin(data: string, opts?: CallOpts): Promise<void> {\n    await this.sandbox._call(\n      processService,\n      'stdin',\n      [this.processID, data],\n      opts,\n    )\n  }\n}\n\nexport interface ProcessOpts {\n  cmd: string;\n  onStdout?: (out: ProcessMessage) => Promise<void> | void;\n  onStderr?: (out: ProcessMessage) => Promise<void> | void;\n  onExit?: (() => Promise<void> | void) | ((exitCode: number) => Promise<void> | void);\n  envVars?: EnvVars;\n  cwd?: string;\n  /** @deprecated Use cwd instead */\n  rootDir?: string;\n  processID?: string;\n  /** Timeout for the process to start in milliseconds */\n  timeout?: number;\n}\n\n/**\n * Manager for starting and interacting with processes in the sandbox.\n */\nexport interface ProcessManager {\n  /**\n   * Starts a new process.\n   * @param cmd Command to execute\n   * @returns New process\n   */\n  start(cmd: string): Promise<Process>;\n  /**\n   * Starts a new process.\n   * @param opts Process options\n   * @returns New process\n   */\n  start(opts: ProcessOpts): Promise<Process>;\n  /**\n   * Starts a new process and wait until it finishes.\n   * @param cmd Command to execute\n   * @returns New process\n   */\n  startAndWait(cmd: string): Promise<ProcessOutput>;\n  /**\n   * Starts a new process and wait until it finishes.\n   * @param opts Process options\n   * @returns New process\n   */\n  startAndWait(opts: ProcessOpts): Promise<ProcessOutput>;\n}\n", "import normalizePath from 'normalize-path'\n\nimport { ENVD_PORT, FILE_ROUTE } from '../constants'\nimport { id } from '../utils/id'\nimport { createDeferredPromise, formatSettledErrors, withTimeout } from '../utils/promise'\nimport { codeSnippetService, ScanOpenedPortsHandler as ScanOpenPortsHandler } from './codeSnippet'\nimport { FileInfo, FilesystemManager, filesystemService } from './filesystem'\nimport FilesystemWatcher from './filesystemWatcher'\nimport { Process, ProcessManager, ProcessMessage, ProcessOpts, ProcessOutput, processService } from './process'\nimport { CallOpts, SandboxConnection, SandboxConnectionOpts } from './sandboxConnection'\nimport { Terminal, TerminalManager, TerminalOpts, TerminalOutput, terminalService } from './terminal'\nimport { resolvePath } from '../utils/filesystem'\nimport { CurrentWorkingDirectoryDoesntExistError } from '../error'\n\nexport type DownloadFileFormat =\n  | 'base64'\n  | 'blob'\n  | 'buffer'\n  | 'arraybuffer'\n  | 'text'\n\nexport interface SandboxOpts extends SandboxConnectionOpts {\n  onScanPorts?: ScanOpenPortsHandler;\n  /** Timeout for sandbox to start */\n  timeout?: number;\n  onStdout?: (out: ProcessMessage) => Promise<void> | void;\n  onStderr?: (out: ProcessMessage) => Promise<void> | void;\n  onExit?: (() => Promise<void> | void) | ((exitCode: number) => Promise<void> | void);\n}\n\n\n/**\n * E2B cloud sandbox gives your agent a full cloud development environment that's sandboxed.\n *\n * That means:\n * - Access to Linux OS\n * - Using filesystem (create, list, and delete files and dirs)\n * - Run processes\n * - Sandboxed - you can run any code\n * - Access to the internet\n *\n * Check usage docs - https://e2b.dev/docs/sandbox/overview\n *\n * These cloud sandboxes are meant to be used for agents. Like a sandboxed playgrounds, where the agent can do whatever it wants.\n *\n * Use the {@link Sandbox.create} method to create a new sandbox.\n *\n * @example\n * ```ts\n * import { Sandbox } from '@e2b/sdk'\n *\n * const sandbox = await Sandbox.create()\n *\n * await sandbox.close()\n * ```\n */\nexport class Sandbox extends SandboxConnection {\n  /**\n   * Terminal manager used to create interactive terminals.\n   */\n  readonly terminal: TerminalManager\n  /**\n   * Filesystem manager used to manage files.\n   */\n  readonly filesystem: FilesystemManager\n  /**\n   * Process manager used to run commands.\n   */\n  readonly process: ProcessManager\n\n  private readonly onScanPorts?: ScanOpenPortsHandler\n\n  /**\n   * Use `Sandbox.create()` instead.\n   *\n   * @hidden\n   * @hide\n   * @internal\n   * @access protected\n   */\n  constructor(opts?: SandboxOpts, protected createCalled: boolean = false) {\n    opts = opts || {}\n    super(opts, createCalled)\n    this.onScanPorts = opts.onScanPorts\n\n    // Init Filesystem handler\n    this.filesystem = {\n      list: async (path, opts?: CallOpts) => {\n        return (await this._call(\n          filesystemService,\n          'list',\n          [_resolvePath(path)],\n          opts,\n        )) as FileInfo[]\n      },\n      read: async (path, opts?: CallOpts) => {\n        return (await this._call(\n          filesystemService,\n          'read',\n          [_resolvePath(path)],\n          opts,\n        )) as string\n      },\n      remove: async (path, opts?: CallOpts) => {\n        await this._call(\n          filesystemService,\n          'remove',\n          [_resolvePath(path)],\n          opts,\n        )\n      },\n      write: async (path, content, opts?: CallOpts) => {\n        await this._call(\n          filesystemService,\n          'write',\n          [_resolvePath(path), content],\n          opts,\n        )\n      },\n      writeBytes: async (path: string, content: Uint8Array) => {\n        // We need to convert the byte array to base64 string without using browser or node specific APIs.\n        // This should be achieved by the node polyfills.\n        const base64Content = Buffer.from(content).toString('base64')\n        await this._call(filesystemService, 'writeBase64', [\n          _resolvePath(path),\n          base64Content,\n        ])\n      },\n      readBytes: async (path: string) => {\n        const base64Content = (await this._call(\n          filesystemService,\n          'readBase64',\n          [_resolvePath(path)],\n        )) as string\n        // We need to convert the byte array to base64 string without using browser or node specific APIs.\n        // This should be achieved by the node polyfills.\n        return Buffer.from(base64Content, 'base64')\n      },\n      makeDir: async (path, opts?: CallOpts) => {\n        await this._call(\n          filesystemService,\n          'makeDir',\n          [_resolvePath(path)],\n          opts,\n        )\n      },\n      watchDir: (path: string) => {\n        this.logger.debug?.(`Watching directory \"${path}\"`)\n        const npath = normalizePath(_resolvePath(path))\n        return new FilesystemWatcher(this, npath)\n      },\n    }\n\n    // Init Terminal handler\n    this.terminal = {\n      start: async ({\n        onData,\n        size,\n        onExit,\n        envVars,\n        cmd,\n        cwd = '',\n        terminalID = id(12),\n        timeout = undefined,\n      }: TerminalOpts) => {\n        const start = async ({\n          onData,\n          size,\n          onExit,\n          envVars,\n          cmd,\n          cwd = '',\n          rootDir,\n          terminalID = id(12),\n        }: Omit<TerminalOpts, 'timeout'>) => {\n          this.logger.debug?.(`Starting terminal \"${terminalID}\"`)\n          if (!cwd && rootDir) {\n            this.logger.warn?.(\n              'The rootDir parameter is deprecated, use cwd instead.',\n            )\n            cwd = rootDir\n          }\n          if (!cwd && this.cwd) {\n            cwd = this.cwd\n          }\n          envVars = envVars || {}\n          envVars = { ...this.envVars, ...envVars }\n\n          const { promise: terminalExited, resolve: triggerExit } =\n            createDeferredPromise()\n\n          const output = new TerminalOutput()\n\n          function handleData(data: string) {\n            output.addData(data)\n            onData?.(data)\n          }\n\n          const [onDataSubID, onExitSubID] = await this._handleSubscriptions(\n            this._subscribe(terminalService, handleData, 'onData', terminalID),\n            this._subscribe(terminalService, triggerExit, 'onExit', terminalID),\n          )\n\n          const { promise: unsubscribing, resolve: handleFinishUnsubscribing } =\n            createDeferredPromise<TerminalOutput>()\n\n          terminalExited.then(async () => {\n            Promise.allSettled([\n              this._unsubscribe(onExitSubID),\n              this._unsubscribe(onDataSubID),\n            ]).then((results) => {\n              const errMsg = formatSettledErrors(results)\n              if (errMsg) {\n                this.logger.debug?.(errMsg)\n              }\n            })\n\n            this.logger.debug?.(`Terminal \"${terminalID}\" exited`)\n\n            onExit?.()\n            handleFinishUnsubscribing(output)\n          })\n\n          try {\n            await this._call(terminalService, 'start', [\n              terminalID,\n              size.cols,\n              size.rows,\n              // Handle optional args for old devbookd compatibility\n              ...(cmd !== undefined ? [envVars, cmd, cwd] : []),\n            ])\n          } catch (err) {\n            triggerExit()\n            await unsubscribing\n            throw err\n          }\n\n          return new Terminal(\n            terminalID,\n            this,\n            triggerExit,\n            unsubscribing,\n            output,\n          )\n        }\n        return await withTimeout(\n          start,\n          timeout,\n        )({\n          onData,\n          size,\n          onExit,\n          envVars,\n          cmd,\n          cwd,\n          terminalID,\n        })\n      },\n    }\n\n    // Init Process handler\n    this.process = {\n      start: async (optsOrCmd: string | ProcessOpts) => {\n        const opts = typeof optsOrCmd === 'string' ? { cmd: optsOrCmd } : optsOrCmd\n        const start = async ({\n          cmd,\n          onStdout,\n          onStderr,\n          onExit,\n          envVars = {},\n          cwd = '',\n          rootDir,\n          processID = id(12),\n        }: Omit<ProcessOpts, 'timeout'>) => {\n          if (!cwd && rootDir) {\n            this.logger.warn?.(\n              'The rootDir parameter is deprecated, use cwd instead.',\n            )\n            cwd = rootDir\n          }\n          if (!cwd && this.cwd) {\n            cwd = this.cwd\n          }\n          if (!cmd) throw new Error('cmd is required')\n\n          envVars = envVars || {}\n          envVars = { ...this.envVars, ...envVars }\n\n          this.logger.debug?.(`Starting process \"${processID}\", cmd: \"${cmd}\"`)\n\n          const { promise: processExited, resolve: triggerExit } =\n            createDeferredPromise()\n\n          const output = new ProcessOutput()\n          const handleExit = (exitCode: number) => {\n            output.setExitCode(exitCode)\n            triggerExit()\n          }\n\n          const handleStdout = (data: { line: string; timestamp: number }) => {\n            const message = new ProcessMessage(\n              data.line,\n              data.timestamp,\n              false,\n            )\n            output.addStdout(message)\n\n            if (onStdout) {\n              onStdout(message)\n            } else if ((this.opts as SandboxOpts).onStdout) {\n              // @ts-expect-error TS2339\n              this.opts.onStdout(message)\n            }\n          }\n\n          const handleStderr = (data: { line: string; timestamp: number }) => {\n            const message = new ProcessMessage(data.line, data.timestamp, true)\n            output.addStderr(message)\n\n            if (onStderr) {\n              onStderr(message)\n            } else if ((this.opts as SandboxOpts).onStderr) {\n              // @ts-expect-error TS2339\n              this.opts.onStderr(message)\n            }\n          }\n\n          const [onExitSubID, onStdoutSubID, onStderrSubID] =\n            await this._handleSubscriptions(\n              this._subscribe(processService, handleExit, 'onExit', processID),\n              this._subscribe(\n                processService,\n                handleStdout,\n                'onStdout',\n                processID,\n              ),\n              this._subscribe(\n                processService,\n                handleStderr,\n                'onStderr',\n                processID,\n              ),\n            )\n\n          const { promise: unsubscribing, resolve: handleFinishUnsubscribing } =\n            createDeferredPromise<ProcessOutput>()\n\n          processExited.then(async () => {\n            Promise.allSettled([\n              this._unsubscribe(onExitSubID),\n              onStdoutSubID ? this._unsubscribe(onStdoutSubID) : undefined,\n              onStderrSubID ? this._unsubscribe(onStderrSubID) : undefined,\n            ]).then((results) => {\n              const errMsg = formatSettledErrors(results)\n              if (errMsg) {\n                this.logger.debug?.(errMsg)\n              }\n            })\n\n            this.logger.debug?.(`Process \"${processID}\" exited`)\n\n            if (onExit) {\n              onExit(output.exitCode || 0)\n            } else if ((this.opts as SandboxOpts).onExit) {\n              // @ts-expect-error TS2339\n              this.opts.onExit()\n            }\n\n            handleFinishUnsubscribing(output)\n          })\n\n          try {\n            await this._call(processService, 'start', [\n              processID,\n              cmd,\n              envVars,\n              cwd,\n            ])\n          } catch (err) {\n            triggerExit()\n            await unsubscribing\n            if (\n              /error starting process '\\w+': fork\\/exec \\/bin\\/bash: no such file or directory/.test((err as Error)?.message)\n            ) {\n              throw new CurrentWorkingDirectoryDoesntExistError(\n                `Failed to start the process. You are trying set 'cwd' to a directory that does not exist.\\n${(err as Error)?.message}`\n              )\n            }\n            throw err\n          }\n\n          return new Process(\n            processID,\n            this,\n            triggerExit,\n            unsubscribing,\n            output,\n          )\n        }\n        const timeout = opts.timeout\n        return await withTimeout(start, timeout)(opts)\n      },\n      startAndWait: async (optsOrCmd: string | ProcessOpts) => {\n        const opts = typeof optsOrCmd === 'string' ? { cmd: optsOrCmd } : optsOrCmd\n        const process = await this.process.start(opts)\n        const out = await process.wait()\n        return out\n      }\n    }\n\n    const _resolvePath = (path: string): string =>\n      resolvePath(path, this.cwd, this.logger)\n  }\n\n  /**\n   * URL that can be used to download or upload file to the sandbox via a multipart/form-data POST request.\n   * This is useful if you're uploading files directly from the browser.\n   * The file will be uploaded to the user's home directory with the same name.\n   * If a file with the same name already exists, it will be overwritten.\n   */\n  get fileURL() {\n    const protocol = this.getProtocol('http', this.opts.__debug_devEnv !== 'local')\n    const hostname = this.getHostname(this.opts.__debug_port || ENVD_PORT)\n    return `${protocol}://${hostname}${FILE_ROUTE}`\n  }\n\n  /**\n   * Creates a new Sandbox from the default `base` sandbox template.\n   * @returns New Sandbox\n   *\n   * @example\n   * ```ts\n   * const sandbox = await Sandbox.create()\n   * ```\n   * @constructs Sandbox\n   */\n  static async create<S extends typeof Sandbox>(this: S): Promise<InstanceType<S>>\n  /**\n   * Creates a new Sandbox from the template with the specified ID.\n   * @param template Sandbox template ID or name\n   * @returns New Sandbox\n   *\n   * @example\n   * ```ts\n   * const sandbox = await Sandbox.create(\"sandboxTemplateID\")\n   * ```\n   */\n  static async create<S extends typeof Sandbox>(this: S, template: string): Promise<InstanceType<S>>\n  /**\n   * Creates a new Sandbox from the specified options.\n   * @param opts Sandbox options\n   * @returns New Sandbox\n   *\n   * @example\n   * ```ts\n   * const sandbox = await Sandbox.create({\n   *   template: \"sandboxTemplate\",\n   *   onStdout: console.log,\n   * })\n   * ```\n   */\n  static async create<S extends typeof Sandbox>(this: S, opts: SandboxOpts): Promise<InstanceType<S>>\n  static async create(optsOrTemplate?: string | SandboxOpts) {\n    const opts: SandboxOpts | undefined = typeof optsOrTemplate === 'string' ? { template: optsOrTemplate } : optsOrTemplate\n    const sandbox = new this(opts, true)\n    await sandbox._open({ timeout: opts?.timeout })\n\n    return sandbox\n  }\n\n  /**\n   * Reconnects to an existing Sandbox.\n   * @param sandboxID Sandbox ID\n   * @returns Existing Sandbox\n   *\n   * @example\n   * ```ts\n   * const sandbox = await Sandbox.create()\n   * const sandboxID = sandbox.id\n   *\n   * await sandbox.keepAlive(300 * 1000)\n   * await sandbox.close()\n   *\n   * const reconnectedSandbox = await Sandbox.reconnect(sandboxID)\n   * ```\n   */\n  static async reconnect<S extends typeof Sandbox>(this: S, sandboxID: string): Promise<InstanceType<S>>\n  /**\n   * Reconnects to an existing Sandbox.\n   * @param opts Sandbox options\n   * @returns Existing Sandbox\n   *\n   * @example\n   * ```ts\n   * const sandbox = await Sandbox.create()\n   * const sandboxID = sandbox.id\n   *\n   * await sandbox.keepAlive(300 * 1000)\n   * await sandbox.close()\n   *\n   * const reconnectedSandbox = await Sandbox.reconnect({\n   *   sandboxID,\n   * })\n   * ```\n   */\n  static async reconnect<S extends typeof Sandbox>(this: S, opts: Omit<SandboxOpts, 'id' | 'template'> & { sandboxID: string }): Promise<InstanceType<S>>\n  static async reconnect<S extends typeof Sandbox>(this: S, sandboxIDorOpts: string | Omit<SandboxOpts, 'id' | 'template'> & { sandboxID: string }): Promise<InstanceType<S>> {\n    let id: string\n    let opts: SandboxOpts\n    if (typeof sandboxIDorOpts === 'string') {\n      id = sandboxIDorOpts\n      opts = {}\n    } else {\n      id = sandboxIDorOpts.sandboxID\n      opts = sandboxIDorOpts\n    }\n\n    const sandboxIDAndClientID = id.split('-')\n    const sandboxID = sandboxIDAndClientID[0]\n    const clientID = sandboxIDAndClientID[1]\n    opts.__sandbox = { sandboxID, clientID, templateID: 'unknown', envdVersion: 'unknown' }\n\n    const sandbox = new this(opts, true) as InstanceType<S>\n    await sandbox._open({ timeout: opts?.timeout })\n\n    return sandbox\n  }\n\n  /**\n   * Uploads a file to the sandbox.\n   * The file will be uploaded to the user's home directory with the same name.\n   * If a file with the same name already exists, it will be overwritten.\n   *\n   * **You can use the {@link Sandbox.fileURL} property and upload file directly via POST multipart/form-data**\n   *\n   */\n  async uploadFile(file: Buffer | Blob, filename: string) {\n    const body = new FormData()\n\n    const blob =\n      file instanceof Blob\n        ? file\n        : new Blob([file], { type: 'application/octet-stream' })\n\n    body.append('file', blob, filename)\n\n    // TODO: Ensure the this is bound in this function\n    const response = await fetch(this.fileURL, {\n      method: 'POST',\n      body,\n    })\n\n    if (!response.ok) {\n      const text = await response.text()\n      throw new Error(\n        `Failed to upload file ${response.status} - ${response.statusText}: ${text}`,\n      )\n    }\n\n    return `/home/user/${filename}`\n  }\n\n  /**\n   * Downloads a file from the sandbox.\n   * @param remotePath Path to a file on the sandbox\n   * @param format Format of the downloaded file\n   * @returns File content\n   *\n   * @example\n   * ```ts\n   * const sandbox = await Sandbox.create()\n   * const content = await sandbox.downloadFile('/home/user/file.txt')\n   * ```\n   */\n  async downloadFile(remotePath: string, format?: DownloadFileFormat) {\n    remotePath = encodeURIComponent(remotePath)\n\n    // TODO: Ensure the this is bound in this function\n    const response = await fetch(`${this.fileURL}?path=${remotePath}`)\n    if (!response.ok) {\n      const text = await response.text()\n      throw new Error(`Failed to download file '${remotePath}': ${text}`)\n    }\n\n    switch (format) {\n      case 'base64':\n        return Buffer.from(await response.arrayBuffer()).toString('base64')\n      case 'blob':\n        return await response.blob()\n      case 'buffer':\n        return Buffer.from(await response.arrayBuffer())\n      case 'arraybuffer':\n        return await response.arrayBuffer()\n      case 'text':\n        return await response.text()\n      default:\n        return await response.arrayBuffer()\n    }\n  }\n\n  protected override async _open(opts: CallOpts) {\n    await super._open(opts)\n\n    const portsHandler = this.onScanPorts\n      ? (ports: { State: string; Ip: string; Port: number }[]) =>\n        this.onScanPorts?.(\n          ports.map((p) => ({ ip: p.Ip, port: p.Port, state: p.State })),\n        )\n      : undefined\n\n    await this._handleSubscriptions(\n      portsHandler\n        ? this._subscribe(codeSnippetService, portsHandler, 'scanOpenedPorts')\n        : undefined,\n    )\n\n    if (this.cwd) {\n      this.logger.debug?.(`Custom cwd for Sandbox set: \"${this.cwd}\"`)\n      await this.filesystem.makeDir(this.cwd)\n    }\n\n    if ((this.opts as SandboxOpts).onStdout || (this.opts as SandboxOpts).onStderr) {\n      this.handleStartCmdLogs()\n    }\n\n    return this\n  }\n\n  private async handleStartCmdLogs() {\n    try {\n      await this.process.startAndWait({\n        cmd: 'sudo journalctl --follow --lines=all -o cat _SYSTEMD_UNIT=start_cmd.service',\n        envVars: {},\n        cwd: '/',\n      })\n    } catch (err) {\n      this.logger.debug?.('start command not started', err)\n    }\n  }\n}\n", "export function id(length: number) {\n  let result = ''\n  const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'\n  const charactersLength = characters.length\n  for (let i = 0; i < length; i++) {\n    result += characters.charAt(Math.floor(Math.random() * charactersLength))\n  }\n  return result\n}\n", "export const codeSnippetService = 'codeSnippet'\n\nexport interface OpenPort {\n  state: string\n  ip: string\n  port: number\n}\n\nexport type ScanOpenedPortsHandler = (ports: OpenPort[]) => Promise<void> | void\n", "// Based on https://github.com/radarsu/rpc-websocket-client\n\nimport IWebSocket from 'isomorphic-ws'\n\nimport { id } from '../utils/id'\n\nexport type RpcEventFunction = (\n  // @ts-ignore\n  e: IWebSocket.OpenEvent | IWebSocket.ErrorEvent\n) => void\nexport type RpcMessageEventFunction = (e: IWebSocket.MessageEvent) => void\nexport type RpcCloseEventFunction = (e: IWebSocket.CloseEvent) => void\n\nexport type RpcNotificationEvent = (data: IRpcNotification) => void\nexport type RpcRequestEvent = (data: IRpcRequest) => void\nexport type RpcSuccessResponseEvent = (data: IRpcSuccessResponse) => void\nexport type RpcErrorResponseEvent = (data: IRpcErrorResponse) => void\n\nexport enum RpcVersions {\n  RPC_VERSION = '2.0'\n}\n\nexport type RpcId = string | number\n\nexport interface IRpcData {\n  method: string;\n  params?: any;\n}\n\nexport interface IRpcNotification extends IRpcData {\n  jsonrpc: RpcVersions.RPC_VERSION;\n}\n\nexport interface IRpcRequest extends IRpcNotification {\n  // if not included its notification\n  id: RpcId;\n}\n\nexport interface IRpcResponse {\n  id: RpcId;\n  jsonrpc: RpcVersions.RPC_VERSION;\n}\n\nexport interface IRpcSuccessResponse extends IRpcResponse {\n  // if not included its notification\n  result: any;\n}\n\nexport interface IRpcError {\n  code: number;\n  message: string;\n  data?: any;\n}\n\nexport interface IRpcErrorResponse extends IRpcResponse {\n  error: IRpcError;\n}\n\nexport interface IRpcWebSocketConfig {\n  responseTimeout: number;\n}\n\nexport type RpcUnidentifiedMessage =\n  | IRpcRequest\n  | IRpcNotification\n  | IRpcSuccessResponse\n  | IRpcErrorResponse\n\nexport class RpcWebSocketClient {\n  // native websocket\n\n  public ws: IWebSocket\n\n  public onOpenHandlers: RpcEventFunction[] = []\n  public onAnyMessageHandlers: RpcMessageEventFunction[] = []\n\n  public onNotification: RpcNotificationEvent[] = []\n  public onRequest: RpcRequestEvent[] = []\n  public onSuccessResponse: RpcSuccessResponseEvent[] = []\n  public onErrorResponse: RpcErrorResponseEvent[] = []\n\n  public onErrorHandlers: RpcEventFunction[] = []\n  public onCloseHandlers: RpcCloseEventFunction[] = []\n\n  public config: IRpcWebSocketConfig = {\n    responseTimeout: 10000\n  }\n\n  private idAwaiter: {\n    [id: string]: (data?: any) => void;\n  } = {}\n\n  // constructor\n  /**\n   * Does not start WebSocket connection!\n   * You need to call connect() method first.\n   * @memberof RpcWebSocketClient\n   */\n  public constructor() {\n    this.ws = undefined as any\n  }\n\n  // public\n  /**\n   * Starts WebSocket connection. Returns Promise when connection is established.\n   * @param {string} url\n   * @param {(string | string[])} [protocols]\n   * @memberof RpcWebSocketClient\n   */\n  public connect(url: string, protocols?: string | string[]) {\n    this.ws = new IWebSocket(url, protocols)\n    return this.listen()\n  }\n\n  // events\n  public onOpen(fn: RpcEventFunction) {\n    this.onOpenHandlers.push(fn)\n  }\n\n  /**\n   * Native onMessage event. DO NOT USE THIS unless you really have to or for debugging purposes.\n   * Proper RPC events are onRequest, onNotification, onSuccessResponse and onErrorResponse (or just awaiting response).\n   * @param {RpcMessageEventFunction} fn\n   * @memberof RpcWebSocketClient\n   */\n  public onAnyMessage(fn: RpcMessageEventFunction) {\n    this.onAnyMessageHandlers.push(fn)\n  }\n\n  public onError(fn: RpcEventFunction) {\n    this.onErrorHandlers.push(fn)\n  }\n\n  public onClose(fn: RpcCloseEventFunction) {\n    this.onCloseHandlers.push(fn)\n  }\n\n  /**\n   * Appends onmessage listener on native websocket with RPC handlers.\n   * If onmessage function was already there, it will call it on beggining.\n   * Useful if you want to use RPC WebSocket Client on already established WebSocket along with function changeSocket().\n   * @memberof RpcWebSocketClient\n   */\n  public listenMessages() {\n    let previousOnMessage: RpcMessageEventFunction | undefined\n    if (this.ws.onmessage) {\n      previousOnMessage = this.ws.onmessage.bind(this.ws)\n    }\n\n    this.ws.onmessage = (e: IWebSocket.MessageEvent) => {\n      if (previousOnMessage) {\n        previousOnMessage(e)\n      }\n\n      for (const handler of this.onAnyMessageHandlers) {\n        handler(e)\n      }\n\n      const data: RpcUnidentifiedMessage = JSON.parse(e.data.toString())\n      if (this.isNotification(data)) {\n        // notification\n        for (const handler of this.onNotification) {\n          handler(data)\n        }\n      } else if (this.isRequest(data)) {\n        // request\n        for (const handler of this.onRequest) {\n          handler(data)\n        }\n        // responses\n      } else if (this.isSuccessResponse(data)) {\n        // success\n        for (const handler of this.onSuccessResponse) {\n          handler(data)\n        }\n\n        // resolve awaiting function\n        this.idAwaiter[data.id](data.result)\n      } else if (this.isErrorResponse(data)) {\n        // error\n        for (const handler of this.onErrorResponse) {\n          handler(data)\n        }\n\n        // resolve awaiting function\n        this.idAwaiter[data.id](data.error)\n      }\n    }\n  }\n\n  // communication\n\n  /**\n   * Creates and sends RPC request. Resolves when appropirate response is returned from server or after config.responseTimeout.\n   * @param {string} method\n   * @param {*} [params]\n   * @returns\n   * @memberof RpcWebSocketClient\n   */\n  public call(method: string, params?: any) {\n    return new Promise((resolve, reject) => {\n      const data = this.buildRequest(method, params)\n\n      // give limited time for response\n      let timeout: number | NodeJS.Timeout\n      if (this.config.responseTimeout) {\n        timeout = setTimeout(() => {\n          // stop waiting for response\n          delete this.idAwaiter[data.id]\n          reject(\n            new Error(`Awaiting response to \"${method}\" with id: ${data.id} timed out.`)\n          )\n        }, this.config.responseTimeout)\n      }\n\n      // expect response\n      this.idAwaiter[data.id] = (responseData?: any) => {\n        // stop timeout\n        clearInterval(timeout as number)\n        // stop waiting for response\n        delete this.idAwaiter[data.id]\n\n        if (this.isRpcError(responseData)) {\n          reject(new Error(`RPC Error (${responseData.code}): ${responseData.message}`))\n          return\n        }\n\n        resolve(responseData)\n      }\n\n      const json = JSON.stringify(data)\n      this.ws.send(json)\n    })\n  }\n\n  /**\n   * Creates and sends RPC Notification.\n   * @param {string} method\n   * @param {*} [params]\n   * @memberof RpcWebSocketClient\n   */\n  public notify(method: string, params?: any) {\n    this.ws.send(JSON.stringify(this.buildNotification(method, params)))\n  }\n\n  // setup\n\n  /**\n   * You can provide custom id generation function to replace default uuid/v1.\n   * @param {() => string} idFn\n   * @memberof RpcWebSocketClient\n   */\n  public customId(idFn: () => string) {\n    this.idFn = idFn\n  }\n\n  /**\n   * Removed jsonrpc from sent messages. Good if you don't care about standards or need better performance.\n   * @memberof RpcWebSocketClient\n   */\n  public noRpc() {\n    this.buildRequest = this.buildRequestBase\n    this.buildNotification = this.buildNotificationBase\n    this.buildRpcSuccessResponse = this.buildRpcSuccessResponseBase\n    this.buildRpcErrorResponse = this.buildRpcErrorResponseBase\n  }\n\n  /**\n   * Allows modifying configuration.\n   * @param {IRpcWebSocketConfig} options\n   * @memberof RpcWebSocketClient\n   */\n  public configure(options: IRpcWebSocketConfig) {\n    Object.assign(this.config, options)\n  }\n\n  /**\n   * Allows you to change used native WebSocket client to another one.\n   * If you have already-connected WebSocket, use this with listenMessages().\n   * @param {WebSocket} ws\n   * @memberof RpcWebSocketClient\n   */\n  public changeSocket(ws: IWebSocket) {\n    this.ws = ws\n  }\n\n  // private\n\n  // events\n  private listen() {\n    return new Promise((resolve, reject) => {\n      // @ts-ignore\n      this.ws.onopen = (e: IWebSocket.OpenEvent) => {\n        for (const handler of this.onOpenHandlers) {\n          handler(e)\n        }\n        resolve(e)\n      }\n\n      // listen for messages\n      this.listenMessages()\n\n      // called before onclose\n      this.ws.onerror = (e: IWebSocket.ErrorEvent) => {\n        for (const handler of this.onErrorHandlers) {\n          handler(e)\n        }\n      }\n\n      this.ws.onclose = (e: IWebSocket.CloseEvent) => {\n        for (const handler of this.onCloseHandlers) {\n          handler(e)\n        }\n        reject(new Error(`WebSocket closed with code: ${e.code} and reason: ${e.reason}`))\n      }\n    })\n  }\n\n  // request\n  private buildRequest(method: string, params?: any): IRpcRequest {\n    const data = this.buildRequestBase(method, params)\n    data.jsonrpc = RpcVersions.RPC_VERSION\n    return data\n  }\n\n  private buildRequestBase(method: string, params?: any): IRpcRequest {\n    const data: IRpcRequest = {} as any\n    data.id = this.idFn()\n    data.method = method\n\n    if (params) {\n      data.params = params\n    }\n\n    return data\n  }\n\n  // notification\n  private buildNotification(method: string, params?: any): IRpcNotification {\n    const data = this.buildNotificationBase(method, params)\n    data.jsonrpc = RpcVersions.RPC_VERSION\n    return data\n  }\n\n  private buildNotificationBase(\n    method: string,\n    params?: any\n  ): IRpcNotification {\n    const data: IRpcNotification = {} as any\n    data.method = method\n\n    if (params) {\n      data.params = params\n    }\n\n    return data\n  }\n\n  // success response\n  private buildRpcSuccessResponse(\n    id: RpcId,\n    result: any\n  ): IRpcSuccessResponse {\n    const data = this.buildRpcSuccessResponseBase(id, result)\n    data.jsonrpc = RpcVersions.RPC_VERSION\n    return data\n  }\n\n  private buildRpcSuccessResponseBase(\n    id: RpcId,\n    result: any\n  ): IRpcSuccessResponse {\n    const data: IRpcSuccessResponse = {} as any\n    data.id = id\n    data.result = result\n    return data\n  }\n\n  // error response\n  private buildRpcErrorResponse(\n    id: RpcId,\n    error: IRpcError\n  ): IRpcErrorResponse {\n    const data = this.buildRpcErrorResponseBase(id, error)\n    data.jsonrpc = RpcVersions.RPC_VERSION\n    return data\n  }\n\n  private buildRpcErrorResponseBase(\n    id: RpcId,\n    error: IRpcError\n  ): IRpcErrorResponse {\n    const data: IRpcErrorResponse = {} as any\n    data.id = id\n    data.error = error\n    return data\n  }\n\n  private idFn(): RpcId {\n    return id(12)\n  }\n\n  // tests\n  private isNotification(\n    data: RpcUnidentifiedMessage\n  ): data is IRpcNotification {\n    return !(data as any).id\n  }\n\n  private isRequest(data: RpcUnidentifiedMessage): data is IRpcRequest {\n    return (data as any).method\n  }\n\n  private isSuccessResponse(\n    data: RpcUnidentifiedMessage\n  ): data is IRpcSuccessResponse {\n    // eslint-disable-next-line no-prototype-builtins\n    return data.hasOwnProperty('result')\n  }\n\n  private isErrorResponse(\n    data: RpcUnidentifiedMessage\n  ): data is IRpcErrorResponse {\n    // eslint-disable-next-line no-prototype-builtins\n    return data.hasOwnProperty('error')\n  }\n\n  private isRpcError(data: any): data is IRpcError {\n    return typeof data?.code !== 'undefined'\n  }\n}\n", "function wait(ms: number) {\n  return new Promise(resolve => setTimeout(resolve, ms))\n}\n\nexport default wait\n", "import { AuthenticationError } from '../error'\n\nexport function getApiKey(apiKey?: string): string {\n  apiKey = apiKey || process?.env?.E2B_API_KEY\n\n  if (!apiKey) {\n    throw new AuthenticationError(\n      'API key is required, please visit https://e2b.dev/docs to get your API key. ' +\n      'You can either set the environment variable `E2B_API_KEY` ' +\n      \"or you can pass it directly to the sandbox like Sandbox.create({apiKey: 'e2b_...'})\",\n    )\n  }\n\n  return apiKey\n}", "import { IRpcNotification, RpcWebSocketClient } from './rpc'\n\nimport { APIClient, components, withAPIKey } from '../api'\nimport {\n  ENVD_PORT,\n  SANDBOX_REFRESH_PERIOD,\n  WS_RECONNECT_INTERVAL,\n  WS_ROUTE,\n} from '../constants'\nimport {\n  assertFulfilled,\n  formatSettledErrors,\n  withTimeout,\n} from '../utils/promise'\nimport wait from '../utils/wait'\nimport { codeSnippetService } from './codeSnippet'\nimport { filesystemService } from './filesystem'\nimport { processService } from './process'\nimport { terminalService } from './terminal'\nimport { EnvVars } from './envVars'\nimport { getApiKey } from '../utils/apiKey'\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ntype SubscriptionHandler = (result: any) => void\n\ntype Service =\n  | typeof processService\n  | typeof codeSnippetService\n  | typeof filesystemService\n  | typeof terminalService\n\ninterface Subscriber {\n  service: Service\n  subID: string\n  handler: SubscriptionHandler\n}\n\nexport interface Logger {\n  debug?: (message: string, ...args: unknown[]) => void\n  info?: (message: string, ...args: unknown[]) => void\n  warn?: (message: string, ...args: unknown[]) => void\n  error?: (message: string, ...args: unknown[]) => void\n}\n\nexport interface SandboxMetadata {\n  [key: string]: string\n}\n\nexport interface RunningSandbox {\n  sandboxID: string\n  templateID: string\n  alias?: string\n  metadata?: SandboxMetadata\n  startedAt: Date\n}\n\nexport interface SandboxConnectionOpts {\n  /**\n   * Sandbox Template ID or name.\n   *\n   * If not specified, the 'base' template will be used.\n   */\n  template?: string\n  /**\n   * @deprecated Use `template` instead.\n   *\n   * Sandbox Template ID or name.\n   */\n  id?: string\n  apiKey?: string\n  /**\n   * Domain to use for the API requests. If not provided, the `E2B_DOMAIN` environment variable will be used.\n   */\n  domain?: string\n  cwd?: string\n  envVars?: EnvVars\n  /**\n   * A dictionary of strings that is stored alongside the running sandbox.\n   * You can see this metadata when you list running sandboxes.\n   */\n  metadata?: SandboxMetadata\n  logger?: Logger\n  __sandbox?: components['schemas']['Sandbox']\n  __debug_hostname?: string\n  __debug_port?: number\n  __debug_devEnv?: 'remote' | 'local'\n}\n\nexport interface CallOpts {\n  /** Timeout for the call in milliseconds */\n  timeout?: number\n}\n\nexport class SandboxConnection {\n  /**\n   * Default working directory used in the sandbox.\n   *\n   * You can change the working directory by setting the `cwd` property.\n   **/\n  cwd: string | undefined\n  /**\n   * Default environment variables used in the sandbox.\n   *\n   * You can change the environment variables by setting the `envVars` property.\n   **/\n  envVars: EnvVars\n\n  protected readonly logger: Logger\n  protected sandbox?: components['schemas']['Sandbox']\n  protected isOpen = false\n\n  private readonly apiKey: string\n  private readonly rpc = new RpcWebSocketClient()\n  private subscribers: Subscriber[] = []\n  private readonly client: APIClient\n\n  // let's keep opts readonly, but public - for convenience, mainly when debugging\n  protected constructor(\n    readonly opts: SandboxConnectionOpts,\n    protected createCalled: boolean,\n  ) {\n    if (!createCalled) {\n      throw new Error(\n        \"Sandbox can't be instantiated directly, use a `.create()` method instead of calling `new` to get a new sandbox.\\n\\n\" +\n          'Example of correct usage:\\n' +\n          '```\\n' +\n          \"import { CodeInterpreter } from '@e2b/code-interpreter'\\n\" +\n          'const myCodeInterpreter = await CodeInterpreter.create()\\n' +\n          '``',\n      )\n    }\n\n    this.sandbox = opts.__sandbox\n    this.apiKey = getApiKey(opts.apiKey)\n\n    this.client = new APIClient({ domain: opts.domain })\n\n    this.cwd = opts.cwd\n    if (this.cwd && this.cwd.startsWith('~')) {\n      this.cwd = this.cwd.replace('~', '/home/user')\n    }\n\n    const defaultEnvVars = { PYTHONUNBUFFERED: '1' }\n\n    this.envVars = { ...defaultEnvVars, ...(opts.envVars || {}) }\n\n    this.logger = opts.logger ?? {\n      // by default, we log to the console\n      // we don't log debug messages by default\n      info: console.info,\n      warn: console.warn,\n      error: console.error,\n    }\n    this.logger.debug?.(`Sandbox \"${this.templateID}\" initialized`)\n  }\n\n  /**\n   * ID of the sandbox.\n   *\n   * You can use this ID to reconnect to the sandbox later.\n   */\n  get id() {\n    return `${this.sandbox?.sandboxID}-${this.sandbox?.clientID}`\n  }\n\n  private get templateID(): string {\n    return this.opts.template || this.opts.id || 'base'\n  }\n\n  private get refreshSandbox() {\n    return withAPIKey(\n      this.client.api\n        .path('/sandboxes/{sandboxID}/refreshes')\n        .method('post')\n        .create(),\n    )\n  }\n\n  private get createSandbox() {\n    return withAPIKey(\n      this.client.api.path('/sandboxes').method('post').create(),\n    )\n  }\n\n  /**\n   * List all running sandboxes\n   *\n   * @param apiKey API key to use for authentication. If not provided, the `E2B_API_KEY` environment variable will be used.\n   * @param domain Domain to use for the API requests. If not provided, the `E2B_DOMAIN` environment variable will be used.\n   */\n  static async list(\n    apiKey?: string,\n    domain?: string,\n  ): Promise<RunningSandbox[]> {\n    apiKey = getApiKey(apiKey)\n\n    const client = new APIClient({ domain })\n\n    const listSandboxes = withAPIKey(\n      client.api.path('/sandboxes').method('get').create(),\n    )\n\n    try {\n      const res = await listSandboxes(apiKey, {})\n\n      return res.data.map((sandbox) => ({\n        sandboxID: `${sandbox.sandboxID}-${sandbox.clientID}`,\n        templateID: sandbox.templateID,\n        cpuCount: sandbox.cpuCount,\n        memoryMB: sandbox.memoryMB,\n        ...(sandbox.alias && { alias: sandbox.alias }),\n        ...(sandbox.metadata && { metadata: sandbox.metadata }),\n        startedAt: new Date(sandbox.startedAt),\n      }))\n    } catch (e) {\n      if (e instanceof listSandboxes.Error) {\n        const error = e.getActualType()\n        if (error.status === 401) {\n          throw new Error(\n            `Error listing sandboxes - (${error.status}) unauthenticated: ${error.data.message}`,\n          )\n        }\n        if (error.status === 500) {\n          throw new Error(\n            `Error listing sandboxes - (${error.status}) server error: ${error.data.message}`,\n          )\n        }\n      }\n      throw e\n    }\n  }\n\n  /**\n   * List all running sandboxes\n   * @param sandboxID ID of the sandbox to kill\n   * @param apiKey API key to use for authentication. If not provided, the `E2B_API_KEY` environment variable will be used.\n   * @param domain Domain to use for the API requests. If not provided, the `E2B_DOMAIN` environment variable will be used.\n   */\n  static async kill(\n    sandboxID: string,\n    apiKey?: string,\n    domain?: string,\n  ): Promise<void> {\n    apiKey = getApiKey(apiKey)\n\n    const shortID = sandboxID.split('-')[0]\n\n    const client = new APIClient({ domain })\n    const killSandbox = withAPIKey(\n      client.api.path('/sandboxes/{sandboxID}').method('delete').create(),\n    )\n\n    try {\n      await killSandbox(apiKey, { sandboxID: shortID })\n    } catch (e) {\n      if (e instanceof killSandbox.Error) {\n        const error = e.getActualType()\n        if (error.status === 401) {\n          throw new Error(\n            `Error killing sandbox (${sandboxID}) - (${error.status}) unauthenticated: ${error.data.message}`,\n          )\n        }\n        if (error.status === 500) {\n          throw new Error(\n            `Error killing sandbox (${sandboxID}) - (${error.status}) server error: ${error.data.message}`,\n          )\n        }\n      }\n      throw e\n    }\n  }\n\n  /**\n   * Keep the sandbox alive for the specified duration.\n   *\n   * `keepAlive` method requires `this` context - you may need to bind it.\n   * @param duration Duration in milliseconds. Must be between 0 and 3600000 milliseconds\n   * @returns Promise that resolves when the sandbox is kept alive\n   */\n  public async keepAlive(duration: number) {\n    duration = Math.round(duration / 1000)\n\n    if (duration < 0 || duration > 3600) {\n      throw new Error('Duration must be between 0 and 3600 seconds')\n    }\n\n    if (!this.sandbox) {\n      throw new Error('Cannot keep alive - sandbox is not initialized')\n    }\n    await this.refreshSandbox(this.apiKey, {\n      sandboxID: this.sandbox?.sandboxID,\n      duration,\n    })\n  }\n\n  /**\n   * Get the hostname for the sandbox or for the specified sandbox's port.\n   *\n   * `getHostname` method requires `this` context - you may need to bind it.\n   *\n   * @param port Specify if you want to connect to a specific port of the sandbox\n   * @returns Hostname of the sandbox or sandbox's port\n   */\n  getHostname(port?: number) {\n    if (this.opts.__debug_hostname) {\n      // Debugging remotely (with GitPod) and on local needs different formats of the hostname.\n      if (port && this.opts.__debug_devEnv === 'remote') {\n        return `${port}-${this.opts.__debug_hostname}`\n      } else if (port) {\n        return `${this.opts.__debug_hostname}:${port}`\n      } else {\n        return this.opts.__debug_hostname\n      }\n    }\n\n    if (!this.sandbox) {\n      throw new Error(\n        \"Cannot get sandbox's hostname - sandbox is not initialized\",\n      )\n    }\n\n    const hostname = `${this.id}.${this.client.domain}`\n    if (port) {\n      return `${port}-${hostname}`\n    } else {\n      return hostname\n    }\n  }\n\n  /**\n   * The function decides whether to use the secure or insecure protocol.\n   * @param baseProtocol Specify the specific protocol you want to use. Do not include the `s` in `https` or `wss`.\n   * @param secure Specify if you want to use the secure protocol\n   * @returns Protocol for the connection to the sandbox\n   */\n  getProtocol(\n    baseProtocol: string = 'http',\n    secure: boolean = this.client.secure,\n  ) {\n    return secure ? `${baseProtocol}s` : baseProtocol\n  }\n\n  /**\n   * Close the connection to the sandbox\n   *\n   * `close` method requires `this` context - you may need to bind it.\n   */\n  async close() {\n    if (this.isOpen) {\n      this.logger.debug?.(`Closing sandbox \"${this.id}\"`)\n      this.isOpen = false\n\n      // This is `ws` way of closing connection\n      this.rpc.ws?.terminate?.()\n      // This is the browser WebSocket way of closing connection\n      this.rpc.ws?.close?.()\n      this.subscribers = []\n\n      this.logger.debug?.('Disconnected from the sandbox')\n    }\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  async _call(\n    service: Service,\n    method: string,\n    params?: any[],\n    opts?: CallOpts,\n  ) {\n    this.logger.debug?.(`Calling \"${service}_${method}\" with params:`, params)\n\n    // Without the async function, the `this` context is lost.\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const call = async (method: string, params?: any[]) =>\n      await this.rpc.call(method, params)\n\n    return await withTimeout(call, opts?.timeout)(\n      `${service}_${method}`,\n      params,\n    )\n  }\n\n  async _handleSubscriptions<\n    T extends (ReturnType<SandboxConnection['_subscribe']> | undefined)[],\n  >(\n    ...subs: T\n  ): Promise<{\n    [P in keyof T]: Awaited<T[P]>\n  }> {\n    const results = await Promise.allSettled(subs)\n\n    if (results.every((r) => r.status === 'fulfilled')) {\n      return results.map((r) =>\n        r.status === 'fulfilled' ? r.value : undefined,\n      ) as {\n        [P in keyof T]: Awaited<T[P]>\n      }\n    }\n\n    await Promise.all(\n      results\n        .filter(assertFulfilled)\n        .map((r) => (r.value ? this._unsubscribe(r.value) : undefined)),\n    )\n\n    throw new Error(formatSettledErrors(results))\n  }\n\n  // eslint-disable-next-line @typescript-eslint/member-ordering\n  async _unsubscribe(subID: string) {\n    const subscription = this.subscribers.find((s) => s.subID === subID)\n    if (!subscription) return\n\n    await this._call(subscription.service, 'unsubscribe', [subscription.subID])\n\n    this.subscribers = this.subscribers.filter((s) => s !== subscription)\n    this.logger.debug?.(\n      `Unsubscribed '${subID}' from '${subscription.service}'`,\n    )\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any,@typescript-eslint/member-ordering\n  async _subscribe(\n    service: Service,\n    handler: SubscriptionHandler,\n    method: string,\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    ...params: any[]\n  ) {\n    const subID = await this._call(service, 'subscribe', [method, ...params])\n\n    if (typeof subID !== 'string') {\n      throw new Error(\n        `Cannot subscribe to ${service}_${method}${\n          params.length > 0 ? ' with params [' + params.join(', ') + ']' : ''\n        }. Expected response should have been a subscription ID, instead we got ${JSON.stringify(\n          subID,\n        )}`,\n      )\n    }\n\n    this.subscribers.push({\n      handler,\n      service,\n      subID,\n    })\n    this.logger.debug?.(\n      `Subscribed to \"${service}_${method}\"${\n        params.length > 0 ? ' with params [' + params.join(', ') + '] and' : ''\n      } with id \"${subID}\"`,\n    )\n\n    return subID\n  }\n\n  /**\n   * Open a connection to a new sandbox\n   *\n   * `open` method requires `this` context - you may need to bind it.\n   * @param opts Call options\n   * @param {timeout} [opts.timeout] Timeout for sandbox to open in milliseconds (default is 60 seconds)\n   */\n  protected async _open(opts: CallOpts) {\n    const open = async () => {\n      if (this.isOpen) {\n        throw new Error('Sandbox connect was already called')\n      } else {\n        this.isOpen = true\n      }\n      this.logger.debug?.('Opening sandbox...')\n\n      if (!this.sandbox && !this.opts.__debug_hostname) {\n        try {\n          const res = await this.createSandbox(this.apiKey, {\n            templateID: this.templateID,\n            metadata: this.opts.metadata,\n          })\n\n          this.sandbox = res.data\n          this.logger.debug?.(`Acquired sandbox \"${this.id}\"`)\n        } catch (e) {\n          if (e instanceof this.createSandbox.Error) {\n            const error = e.getActualType()\n            if (error.status === 400) {\n              throw new Error(\n                `Error creating sandbox - (${error.status}) bad request: ${error.data.message}`,\n              )\n            }\n            if (error.status === 401) {\n              throw new Error(\n                `Error creating sandbox - (${error.status}) unauthenticated: ${error.data.message}`,\n              )\n            }\n            if (error.status === 500) {\n              throw new Error(\n                `Error creating sandbox - (${error.status}) server error: ${error.data.message}`,\n              )\n            }\n          }\n          throw e\n        }\n      }\n\n      if (this.sandbox && !this.opts.__debug_hostname) {\n        this.refresh(this.sandbox.sandboxID)\n      }\n\n      await this.connectRpc()\n      return this\n    }\n\n    try {\n      return await withTimeout(open, opts?.timeout)()\n    } catch (err) {\n      await this.close()\n      throw err\n    }\n  }\n\n  private async connectRpc() {\n    const hostname = this.getHostname(this.opts.__debug_port || ENVD_PORT)\n    const protocol = this.getProtocol(\n      'ws',\n      this.opts.__debug_devEnv !== 'local',\n    )\n    const sandboxURL = `${protocol}://${hostname}${WS_ROUTE}`\n\n    let isFinished = false\n    let resolveOpening: (() => void) | undefined\n    let rejectOpening: (() => void) | undefined\n\n    const openingPromise = new Promise<void>((resolve, reject) => {\n      resolveOpening = () => {\n        if (isFinished) return\n        isFinished = true\n        resolve()\n      }\n      rejectOpening = () => {\n        if (isFinished) return\n        isFinished = true\n        reject()\n      }\n    })\n\n    this.rpc.onOpen(() => {\n      this.logger.debug?.(`Connected to sandbox \"${this.id}\"`)\n      resolveOpening?.()\n    })\n\n    this.rpc.onError(async (err) => {\n      this.logger.debug?.(\n        `Error in WebSocket of sandbox \"${this.id}\": ${\n          err.message ?? err.code ?? err.toString()\n        }. Trying to reconnect...`,\n      )\n\n      if (this.isOpen) {\n        await wait(WS_RECONNECT_INTERVAL)\n        this.logger.debug?.(`Reconnecting to sandbox \"${this.id}\"`)\n        try {\n          // When the WS connection closes the subscribers in devbookd are removed.\n          // We want to delete the subscriber handlers here so there are no orphans.\n          this.subscribers = []\n          await this.rpc.connect(sandboxURL)\n          this.logger.debug?.(`Reconnected to sandbox \"${this.id}\"`)\n          // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        } catch (err: any) {\n          // not warn, because this is somewhat expected behaviour during initialization\n          this.logger.debug?.(\n            `Failed reconnecting to sandbox \"${this.id}\": ${\n              err.message ?? err.code ?? err.toString()\n            }`,\n          )\n        }\n      } else {\n        rejectOpening?.()\n      }\n    })\n\n    this.rpc.onClose(async () => {\n      this.logger.debug?.(`WebSocket connection to sandbox \"${this.id}\" closed`)\n    })\n\n    this.rpc.onNotification.push(this.handleNotification.bind(this))\n\n    // We invoke the rpc.connect method in a separate promise because when using edge\n    // the rpc.connect does not throw or end on error.\n    ;(async () => {\n      try {\n        this.logger.debug?.(`Connecting to sandbox \"${this.id}\"`)\n        await this.rpc.connect(sandboxURL)\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      } catch (err: any) {\n        // not warn, because this is somewhat expected behaviour during initialization\n        this.logger.debug?.(\n          `Error connecting to sandbox \"${this.id}\": ${\n            err.message ?? err.code ?? err.toString()\n          }`,\n        )\n      }\n    })()\n\n    await openingPromise\n  }\n\n  private handleNotification(data: IRpcNotification) {\n    this.logger.debug?.('Handling notification:', data)\n    this.subscribers\n      .filter((s) => s.subID === data.params?.subscription)\n      .forEach((s) => s.handler(data.params?.result))\n  }\n\n  private async refresh(sandboxID: string) {\n    this.logger.debug?.(`Started refreshing sandbox \"${sandboxID}\"`)\n\n    try {\n      // eslint-disable-next-line no-constant-condition\n      while (true) {\n        if (!this.isOpen) {\n          this.logger.debug?.(\n            `Cannot refresh sandbox ${this.id} - it was closed`,\n          )\n          return\n        }\n\n        await wait(SANDBOX_REFRESH_PERIOD)\n\n        try {\n          await this.refreshSandbox(this.apiKey, {\n            sandboxID,\n            duration: 0,\n          })\n          this.logger.debug?.(`Refreshed sandbox \"${sandboxID}\"`)\n        } catch (e) {\n          if (e instanceof this.refreshSandbox.Error) {\n            const error = e.getActualType()\n            if (error.status === 404) {\n              this.logger.warn?.(\n                `Error refreshing sandbox - (${error.status}): ${error.data.message}`,\n              )\n              return\n            }\n            this.logger.warn?.(\n              `Refreshing sandbox \"${sandboxID}\" failed - (${error.status})`,\n            )\n          }\n        }\n      }\n    } finally {\n      this.logger.debug?.(`Stopped refreshing sandbox \"${sandboxID}\"`)\n      await this.close()\n    }\n  }\n}\n", "import path from 'path-browserify'\n\nimport { Logger } from '../sandbox/sandboxConnection'\n\nexport const resolvePath = (\n  inputPath: string,\n  cwd: string | undefined,\n  logger: Logger,\n): string => {\n  let result: string\n  if (inputPath.startsWith('./')) {\n    result = path.posix.join(cwd || '/home/user', inputPath)\n    if (!cwd) {\n      logger.warn?.(\n        `Path starts with './' and cwd isn't set. The path '${inputPath}' will evaluate to '${result}', which may not be what you want.`,\n      )\n    }\n    return result\n  }\n\n  if (inputPath.startsWith('../')) {\n    result = path.posix.join(cwd || '/home/user', inputPath)\n    if (!cwd) {\n      logger.warn?.(\n        `Path starts with '../' and cwd isn't set. The path '${inputPath}' will evaluate to '${result}', which may not be what you want.`,\n      )\n    }\n    return result\n  }\n  if (inputPath.startsWith('~/')) {\n    result = path.posix.join(cwd || '/home/user', inputPath.substring(2))\n    if (!cwd) {\n      logger.warn?.(\n        `Path starts with '~/' and cwd isn't set. The path '${inputPath}' will evaluate to '${result}', which may not be what you want.`,\n      )\n    }\n    return result\n  }\n\n  if (!inputPath.startsWith('/') && cwd) {\n    return path.posix.join(cwd, inputPath)\n  }\n\n  return inputPath\n}\n", "export { APIClient, withAPIKey, withAccessToken } from './api'\nexport type { components, paths } from './api'\n\nexport { SANDBOX_DOMAIN, API_HOST } from './constants'\nexport type { SandboxOpts, DownloadFileFormat } from './sandbox'\nexport type { OpenPort } from './sandbox/codeSnippet'\nexport { Terminal, TerminalOutput } from './sandbox/terminal'\nexport type { TerminalManager } from './sandbox/terminal'\nexport type { FilesystemManager, FileInfo } from './sandbox/filesystem'\nexport {\n  default as FilesystemWatcher,\n  FilesystemOperation,\n} from './sandbox/filesystemWatcher'\nexport type {\n  FilesystemEvent,\n  FilesystemEventListener,\n} from './sandbox/filesystemWatcher'\n\nexport { AuthenticationError, CurrentWorkingDirectoryDoesntExistError, TimeoutError } from './error'\nexport { Process, ProcessMessage, ProcessOutput } from './sandbox/process'\nexport type { ProcessManager } from './sandbox/process'\nexport type { EnvVars } from './sandbox/envVars'\nimport { Sandbox } from './sandbox'\n\nexport type { SandboxMetadata, RunningSandbox } from './sandbox/sandboxConnection'\n\nexport { Sandbox }\nexport default Sandbox\n", "// https://github.com/maxogden/websocket-stream/blob/48dc3ddf943e5ada668c31ccd94e9186f02fafbd/ws-fallback.js\n\nvar ws = null\n\nif (typeof WebSocket !== 'undefined') {\n  ws = WebSocket\n} else if (typeof MozWebSocket !== 'undefined') {\n  ws = MozWebSocket\n} else if (typeof global !== 'undefined') {\n  ws = global.WebSocket || global.MozWebSocket\n} else if (typeof window !== 'undefined') {\n  ws = window.WebSocket || window.MozWebSocket\n} else if (typeof self !== 'undefined') {\n  ws = self.WebSocket || self.MozWebSocket\n}\n\nexport default ws\n", "import type { Middleware } from \"./common\";\n\nconst drainBody: Middleware = async (request, env, _ctx, middlewareCtx) => {\n\ttry {\n\t\treturn await middlewareCtx.next(request, env);\n\t} finally {\n\t\ttry {\n\t\t\tif (request.body !== null && !request.bodyUsed) {\n\t\t\t\tconst reader = request.body.getReader();\n\t\t\t\twhile (!(await reader.read()).done) {}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.error(\"Failed to drain the unused request body.\", e);\n\t\t}\n\t}\n};\n\nexport default drainBody;\n", "import type { Middleware } from \"./common\";\n\ninterface JsonError {\n\tmessage?: string;\n\tname?: string;\n\tstack?: string;\n\tcause?: JsonError;\n}\n\nfunction reduceError(e: any): JsonError {\n\treturn {\n\t\tname: e?.name,\n\t\tmessage: e?.message ?? String(e),\n\t\tstack: e?.stack,\n\t\tcause: e?.cause === undefined ? undefined : reduceError(e.cause),\n\t};\n}\n\n// See comment in `bundle.ts` for details on why this is needed\nconst jsonError: Middleware = async (request, env, _ctx, middlewareCtx) => {\n\ttry {\n\t\treturn await middlewareCtx.next(request, env);\n\t} catch (e: any) {\n\t\tconst error = reduceError(e);\n\t\treturn Response.json(error, {\n\t\t\tstatus: 500,\n\t\t\theaders: { \"MF-Experimental-Error-Stack\": \"true\" },\n\t\t});\n\t}\n};\n\nexport default jsonError;\n", "export type Awaitable<T> = T | Promise<T>;\n// TODO: allow dispatching more events?\nexport type Dispatcher = (\n\ttype: \"scheduled\",\n\tinit: { cron?: string }\n) => Awaitable<void>;\n\nexport type IncomingRequest = Request<\n\tunknown,\n\tIncomingRequestCfProperties<unknown>\n>;\n\nexport interface MiddlewareContext {\n\tdispatch: Dispatcher;\n\tnext(request: IncomingRequest, env: any): Awaitable<Response>;\n}\n\nexport type Middleware = (\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tmiddlewareCtx: MiddlewareContext\n) => Awaitable<Response>;\n\nconst __facade_middleware__: Middleware[] = [];\n\n// The register functions allow for the insertion of one or many middleware,\n// We register internal middleware first in the stack, but have no way of controlling\n// the order that addMiddleware is run in service workers so need an internal function.\nexport function __facade_register__(...args: (Middleware | Middleware[])[]) {\n\t__facade_middleware__.push(...args.flat());\n}\nexport function __facade_registerInternal__(\n\t...args: (Middleware | Middleware[])[]\n) {\n\t__facade_middleware__.unshift(...args.flat());\n}\n\nfunction __facade_invokeChain__(\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tdispatch: Dispatcher,\n\tmiddlewareChain: Middleware[]\n): Awaitable<Response> {\n\tconst [head, ...tail] = middlewareChain;\n\tconst middlewareCtx: MiddlewareContext = {\n\t\tdispatch,\n\t\tnext(newRequest, newEnv) {\n\t\t\treturn __facade_invokeChain__(newRequest, newEnv, ctx, dispatch, tail);\n\t\t},\n\t};\n\treturn head(request, env, ctx, middlewareCtx);\n}\n\nexport function __facade_invoke__(\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tdispatch: Dispatcher,\n\tfinalMiddleware: Middleware\n): Awaitable<Response> {\n\treturn __facade_invokeChain__(request, env, ctx, dispatch, [\n\t\t...__facade_middleware__,\n\t\tfinalMiddleware,\n\t]);\n}\n"],
  "mappings": "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A;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EAC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",
  "names": ["request", "init", "init", "request", "e", "i", "performance", "i", "Buffer", "fill", "n", "e", "a", "compare", "byteLength", "getUserAgent", "navigator", "process", "version", "undefined", "substr", "platform", "arch", "name", "method", "hook", "hook", "a", "require_dist_node", "Deprecation", "i", "cb", "once", "init_dist_web", "once", "dist_web_exports", "isPlainObject", "fetch", "withDefaults", "import_universal_user_agent", "VERSION", "init_dist_web", "require_dist_node", "__defProp", "__getOwnPropDesc", "__getOwnPropNames", "__hasOwnProp", "__export", "__copyProps", "from", "__toCommonJS", "import_request3", "import_universal_user_agent", "VERSION", "import_request2", "import_request", "e", "withDefaults", "dist_web_exports", "request", "endpoint", "init_dist_web", "require_dist_node", "__defProp", "__getOwnPropDesc", "__getOwnPropNames", "__hasOwnProp", "__export", "__copyProps", "from", "__toCommonJS", "import_universal_user_agent", "import_request", "VERSION", "noop", "createLogger", "hook", "auth", "i", "dist_web_exports", "init_dist_web", "require_dist_node", "__create", "__defProp", "__getOwnPropDesc", "__getOwnPropNames", "__getProtoOf", "__hasOwnProp", "__export", "__copyProps", "from", "__toESM", "__toCommonJS", "VERSION", "checkToken", "createDeviceCode", "deleteAuthorization", "deleteToken", "exchangeDeviceCode", "exchangeWebFlowCode", "refreshToken", "resetToken", "import_request", "import_request_error", "request", "import_request2", "import_request3", "import_request4", "import_request5", "import_btoa_lite", "import_request6", "import_btoa_lite2", "import_btoa_lite3", "auth", "import_btoa_lite4", "auth2", "request", "auth", "hook", "endpoint", "VERSION", "import_universal_user_agent", "init_dist_web", "dist_web_exports", "createOAuthUserAuth", "auth", "hook", "request", "endpoint", "btoa", "VERSION", "import_universal_user_agent", "import_oauth_methods", "init_dist_web", "dist_web_exports", "createOAuthUserAuth", "auth", "btoa", "type", "hook", "endpoint", "btoa2", "VERSION", "import_universal_user_agent", "import_btoa_lite", "init_dist_web", "string2ArrayBuffer", "str", "buf", "ArrayBuffer", "length", "bufView", "Uint8Array", "i", "strLen", "charCodeAt", "fromBase64", "base64", "replace", "base64encodeJSON", "obj", "btoa", "JSON", "stringify", "binary", "pemB64", "trim", "split", "slice", "join", "atob", "header", "payload", "buffer", "bytes", "len", "byteLength", "String", "fromCharCode", "type", "n", "t", "i", "v", "bf", "require_dist_node", "__create", "__defProp", "__getOwnPropDesc", "__getOwnPropNames", "__getProtoOf", "__hasOwnProp", "__export", "__copyProps", "from", "__toESM", "__toCommonJS", "createAppAuth", "import_auth_oauth_user2", "import_universal_user_agent", "import_request", "import_deprecation", "type", "request", "r", "auth", "import_auth_oauth_user", "import_request_error", "hook", "endpoint", "VERSION", "require_dist_node", "__defProp", "__getOwnPropDesc", "__getOwnPropNames", "__hasOwnProp", "__export", "__copyProps", "from", "__toCommonJS", "createUnauthenticatedAuth", "auth", "import_request_error", "import_request_error2", "hook", "request", "endpoint", "createUnauthenticatedAuth2", "require_dist_node", "__create", "__defProp", "__getOwnPropDesc", "__getOwnPropNames", "__getProtoOf", "__hasOwnProp", "__export", "__copyProps", "from", "__toESM", "__toCommonJS", "OAuthApp", "VERSION", "import_core", "import_universal_user_agent", "import_auth_oauth_user", "import_auth_oauth_user2", "import_auth_oauth_user3", "import_auth_oauth_user4", "import_auth_unauthenticated", "import_auth_unauthenticated2", "request", "app", "Buffer", "platform", "release", "uptime", "a", "match", "AggregateError", "toString", "type", "parse", "userAgent", "arch", "version", "e", "platform", "path", "path", "i", "cwd", "from", "parse", "i", "request", "path", "match", "i", "request", "request", "path", "i", "a", "request", "path", "raw", "path", "app", "r", "request", "env", "path", "path2", "a", "path", "i", "path", "i", "e", "a", "path2", "r", "init", "path", "i", "i2", "e", "Node", "_Node", "path", "i", "a", "i2", "Node", "path", "i", "Hono", "import_auth_app", "import_aggregate_error", "import_aggregate_error", "AggregateError", "removeListener", "i", "AggregateError2", "VERSION", "VERSION", "import_auth_app", "VERSION", "auth", "app", "createAppAuth2", "i", "iterator", "VERSION", "OctokitCore", "createAppAuth3", "config", "match", "e", "value", "getPath", "path", "init", "request", "_a", "getResponseData", "fetch", "config", "version", "platform", "_a", "Fetcher", "_a", "init", "i", "path", "i", "e", "ws", "id", "wait", "_a", "hostname", "method", "params", "r", "err", "cwd", "path", "opts", "Buffer", "normalizePath", "_0", "onData", "size", "onExit", "envVars", "cmd", "terminalID", "_b", "process", "env", "config", "auth", "Hono", "request", "env", "e", "e", "request", "env", "request", "env", "request", "env", "type", "init"]
}
